var TI=Object.defineProperty;var ew=e=>{throw TypeError(e)};var AI=(e,t,n)=>t in e?TI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var O=(e,t,n)=>AI(e,typeof t!="symbol"?t+"":t,n),bm=(e,t,n)=>t.has(e)||ew("Cannot "+n);var A=(e,t,n)=>(bm(e,t,"read from private field"),n?n.call(e):t.get(e)),xe=(e,t,n)=>t.has(e)?ew("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ie=(e,t,n,r)=>(bm(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),De=(e,t,n)=>(bm(e,t,"access private method"),n);var Tu=(e,t,n,r)=>({set _(s){ie(e,t,s,n)},get _(){return A(e,t,r)}});function RI(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function sC(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var aC={exports:{}},oh={},iC={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yc=Symbol.for("react.element"),MI=Symbol.for("react.portal"),OI=Symbol.for("react.fragment"),II=Symbol.for("react.strict_mode"),DI=Symbol.for("react.profiler"),FI=Symbol.for("react.provider"),LI=Symbol.for("react.context"),$I=Symbol.for("react.forward_ref"),zI=Symbol.for("react.suspense"),BI=Symbol.for("react.memo"),VI=Symbol.for("react.lazy"),tw=Symbol.iterator;function UI(e){return e===null||typeof e!="object"?null:(e=tw&&e[tw]||e["@@iterator"],typeof e=="function"?e:null)}var oC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lC=Object.assign,cC={};function Go(e,t,n){this.props=e,this.context=t,this.refs=cC,this.updater=n||oC}Go.prototype.isReactComponent={};Go.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Go.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function uC(){}uC.prototype=Go.prototype;function Ny(e,t,n){this.props=e,this.context=t,this.refs=cC,this.updater=n||oC}var Cy=Ny.prototype=new uC;Cy.constructor=Ny;lC(Cy,Go.prototype);Cy.isPureReactComponent=!0;var nw=Array.isArray,dC=Object.prototype.hasOwnProperty,jy={current:null},fC={key:!0,ref:!0,__self:!0,__source:!0};function hC(e,t,n){var r,s={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)dC.call(t,r)&&!fC.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Yc,type:e,key:a,ref:o,props:s,_owner:jy.current}}function WI(e,t){return{$$typeof:Yc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ky(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yc}function HI(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var rw=/\/+/g;function Sm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?HI(""+e.key):t.toString(36)}function dd(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Yc:case MI:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Sm(o,0):r,nw(s)?(n="",e!=null&&(n=e.replace(rw,"$&/")+"/"),dd(s,t,n,"",function(u){return u})):s!=null&&(ky(s)&&(s=WI(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(rw,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",nw(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+Sm(a,l);o+=dd(a,t,n,c,s)}else if(c=UI(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+Sm(a,l++),o+=dd(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Au(e,t,n){if(e==null)return e;var r=[],s=0;return dd(e,r,"","",function(a){return t.call(n,a,s++)}),r}function qI(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mn={current:null},fd={transition:null},QI={ReactCurrentDispatcher:mn,ReactCurrentBatchConfig:fd,ReactCurrentOwner:jy};function mC(){throw Error("act(...) is not supported in production builds of React.")}ze.Children={map:Au,forEach:function(e,t,n){Au(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Au(e,function(){t++}),t},toArray:function(e){return Au(e,function(t){return t})||[]},only:function(e){if(!ky(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ze.Component=Go;ze.Fragment=OI;ze.Profiler=DI;ze.PureComponent=Ny;ze.StrictMode=II;ze.Suspense=zI;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QI;ze.act=mC;ze.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=lC({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=jy.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)dC.call(t,c)&&!fC.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Yc,type:e.type,key:s,ref:a,props:r,_owner:o}};ze.createContext=function(e){return e={$$typeof:LI,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:FI,_context:e},e.Consumer=e};ze.createElement=hC;ze.createFactory=function(e){var t=hC.bind(null,e);return t.type=e,t};ze.createRef=function(){return{current:null}};ze.forwardRef=function(e){return{$$typeof:$I,render:e}};ze.isValidElement=ky;ze.lazy=function(e){return{$$typeof:VI,_payload:{_status:-1,_result:e},_init:qI}};ze.memo=function(e,t){return{$$typeof:BI,type:e,compare:t===void 0?null:t}};ze.startTransition=function(e){var t=fd.transition;fd.transition={};try{e()}finally{fd.transition=t}};ze.unstable_act=mC;ze.useCallback=function(e,t){return mn.current.useCallback(e,t)};ze.useContext=function(e){return mn.current.useContext(e)};ze.useDebugValue=function(){};ze.useDeferredValue=function(e){return mn.current.useDeferredValue(e)};ze.useEffect=function(e,t){return mn.current.useEffect(e,t)};ze.useId=function(){return mn.current.useId()};ze.useImperativeHandle=function(e,t,n){return mn.current.useImperativeHandle(e,t,n)};ze.useInsertionEffect=function(e,t){return mn.current.useInsertionEffect(e,t)};ze.useLayoutEffect=function(e,t){return mn.current.useLayoutEffect(e,t)};ze.useMemo=function(e,t){return mn.current.useMemo(e,t)};ze.useReducer=function(e,t,n){return mn.current.useReducer(e,t,n)};ze.useRef=function(e){return mn.current.useRef(e)};ze.useState=function(e){return mn.current.useState(e)};ze.useSyncExternalStore=function(e,t,n){return mn.current.useSyncExternalStore(e,t,n)};ze.useTransition=function(){return mn.current.useTransition()};ze.version="18.3.1";iC.exports=ze;var m=iC.exports;const Te=sC(m),pC=RI({__proto__:null,default:Te},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KI=m,GI=Symbol.for("react.element"),YI=Symbol.for("react.fragment"),XI=Object.prototype.hasOwnProperty,ZI=KI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JI={key:!0,ref:!0,__self:!0,__source:!0};function gC(e,t,n){var r,s={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)XI.call(t,r)&&!JI.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:GI,type:e,key:a,ref:o,props:s,_owner:ZI.current}}oh.Fragment=YI;oh.jsx=gC;oh.jsxs=gC;aC.exports=oh;var i=aC.exports,yC={exports:{}},qn={},vC={exports:{}},xC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,F){var Q=M.length;M.push(F);e:for(;0<Q;){var X=Q-1>>>1,ce=M[X];if(0<s(ce,F))M[X]=F,M[Q]=ce,Q=X;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var F=M[0],Q=M.pop();if(Q!==F){M[0]=Q;e:for(var X=0,ce=M.length,ke=ce>>>1;X<ke;){var Ce=2*(X+1)-1,$e=M[Ce],B=Ce+1,V=M[B];if(0>s($e,Q))B<ce&&0>s(V,$e)?(M[X]=V,M[B]=Q,X=B):(M[X]=$e,M[Ce]=Q,X=Ce);else if(B<ce&&0>s(V,Q))M[X]=V,M[B]=Q,X=B;else break e}}return F}function s(M,F){var Q=M.sortIndex-F.sortIndex;return Q!==0?Q:M.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,w=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(M){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=M)r(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(u)}}function S(M){if(y=!1,v(M),!w)if(n(c)!==null)w=!0,z(_);else{var F=n(u);F!==null&&ee(S,F.startTime-M)}}function _(M,F){w=!1,y&&(y=!1,x(E),E=-1),p=!0;var Q=h;try{for(v(F),f=n(c);f!==null&&(!(f.expirationTime>F)||M&&!k());){var X=f.callback;if(typeof X=="function"){f.callback=null,h=f.priorityLevel;var ce=X(f.expirationTime<=F);F=e.unstable_now(),typeof ce=="function"?f.callback=ce:f===n(c)&&r(c),v(F)}else r(c);f=n(c)}if(f!==null)var ke=!0;else{var Ce=n(u);Ce!==null&&ee(S,Ce.startTime-F),ke=!1}return ke}finally{f=null,h=Q,p=!1}}var j=!1,N=null,E=-1,P=5,I=-1;function k(){return!(e.unstable_now()-I<P)}function R(){if(N!==null){var M=e.unstable_now();I=M;var F=!0;try{F=N(!0,M)}finally{F?$():(j=!1,N=null)}}else j=!1}var $;if(typeof g=="function")$=function(){g(R)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,W=C.port2;C.port1.onmessage=R,$=function(){W.postMessage(null)}}else $=function(){b(R,0)};function z(M){N=M,j||(j=!0,$())}function ee(M,F){E=b(function(){M(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){w||p||(w=!0,z(_))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var Q=h;h=F;try{return M()}finally{h=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,F){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Q=h;h=M;try{return F()}finally{h=Q}},e.unstable_scheduleCallback=function(M,F,Q){var X=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?X+Q:X):Q=X,M){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=Q+ce,M={id:d++,callback:F,priorityLevel:M,startTime:Q,expirationTime:ce,sortIndex:-1},Q>X?(M.sortIndex=Q,t(u,M),n(c)===null&&M===n(u)&&(y?(x(E),E=-1):y=!0,ee(S,Q-X))):(M.sortIndex=ce,t(c,M),w||p||(w=!0,z(_))),M},e.unstable_shouldYield=k,e.unstable_wrapCallback=function(M){var F=h;return function(){var Q=h;h=F;try{return M.apply(this,arguments)}finally{h=Q}}}})(xC);vC.exports=xC;var eD=vC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tD=m,Hn=eD;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wC=new Set,oc={};function wi(e,t){Ro(e,t),Ro(e+"Capture",t)}function Ro(e,t){for(oc[e]=t,e=0;e<t.length;e++)wC.add(t[e])}var bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ep=Object.prototype.hasOwnProperty,nD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sw={},aw={};function rD(e){return Ep.call(aw,e)?!0:Ep.call(sw,e)?!1:nD.test(e)?aw[e]=!0:(sw[e]=!0,!1)}function sD(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function aD(e,t,n,r){if(t===null||typeof t>"u"||sD(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pn(e,t,n,r,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qt[e]=new pn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qt[t]=new pn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qt[e]=new pn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qt[e]=new pn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qt[e]=new pn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qt[e]=new pn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qt[e]=new pn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qt[e]=new pn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qt[e]=new pn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ey=/[\-:]([a-z])/g;function Py(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ey,Py);Qt[t]=new pn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ey,Py);Qt[t]=new pn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ey,Py);Qt[t]=new pn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qt[e]=new pn(e,1,!1,e.toLowerCase(),null,!1,!1)});Qt.xlinkHref=new pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qt[e]=new pn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ty(e,t,n,r){var s=Qt.hasOwnProperty(t)?Qt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(aD(t,n,s,r)&&(n=null),r||s===null?rD(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Es=tD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ru=Symbol.for("react.element"),Ui=Symbol.for("react.portal"),Wi=Symbol.for("react.fragment"),Ay=Symbol.for("react.strict_mode"),Pp=Symbol.for("react.profiler"),bC=Symbol.for("react.provider"),SC=Symbol.for("react.context"),Ry=Symbol.for("react.forward_ref"),Tp=Symbol.for("react.suspense"),Ap=Symbol.for("react.suspense_list"),My=Symbol.for("react.memo"),Fs=Symbol.for("react.lazy"),_C=Symbol.for("react.offscreen"),iw=Symbol.iterator;function dl(e){return e===null||typeof e!="object"?null:(e=iw&&e[iw]||e["@@iterator"],typeof e=="function"?e:null)}var ht=Object.assign,_m;function jl(e){if(_m===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_m=t&&t[1]||""}return`
`+_m+e}var Nm=!1;function Cm(e,t){if(!e||Nm)return"";Nm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=r.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Nm=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?jl(e):""}function iD(e){switch(e.tag){case 5:return jl(e.type);case 16:return jl("Lazy");case 13:return jl("Suspense");case 19:return jl("SuspenseList");case 0:case 2:case 15:return e=Cm(e.type,!1),e;case 11:return e=Cm(e.type.render,!1),e;case 1:return e=Cm(e.type,!0),e;default:return""}}function Rp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wi:return"Fragment";case Ui:return"Portal";case Pp:return"Profiler";case Ay:return"StrictMode";case Tp:return"Suspense";case Ap:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case SC:return(e.displayName||"Context")+".Consumer";case bC:return(e._context.displayName||"Context")+".Provider";case Ry:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case My:return t=e.displayName||null,t!==null?t:Rp(e.type)||"Memo";case Fs:t=e._payload,e=e._init;try{return Rp(e(t))}catch{}}return null}function oD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rp(t);case 8:return t===Ay?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ua(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function NC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lD(e){var t=NC(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mu(e){e._valueTracker||(e._valueTracker=lD(e))}function CC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=NC(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function zd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mp(e,t){var n=t.checked;return ht({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ow(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ua(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jC(e,t){t=t.checked,t!=null&&Ty(e,"checked",t,!1)}function Op(e,t){jC(e,t);var n=ua(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ip(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ip(e,t.type,ua(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lw(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ip(e,t,n){(t!=="number"||zd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var kl=Array.isArray;function ro(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ua(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Dp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return ht({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cw(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(G(92));if(kl(n)){if(1<n.length)throw Error(G(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ua(n)}}function kC(e,t){var n=ua(t.value),r=ua(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function uw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function EC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?EC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ou,PC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ou=Ou||document.createElement("div"),Ou.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ou.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function lc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Hl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cD=["Webkit","ms","Moz","O"];Object.keys(Hl).forEach(function(e){cD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hl[t]=Hl[e]})});function TC(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Hl.hasOwnProperty(e)&&Hl[e]?(""+t).trim():t+"px"}function AC(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=TC(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var uD=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lp(e,t){if(t){if(uD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function $p(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zp=null;function Oy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bp=null,so=null,ao=null;function dw(e){if(e=Jc(e)){if(typeof Bp!="function")throw Error(G(280));var t=e.stateNode;t&&(t=fh(t),Bp(e.stateNode,e.type,t))}}function RC(e){so?ao?ao.push(e):ao=[e]:so=e}function MC(){if(so){var e=so,t=ao;if(ao=so=null,dw(e),t)for(e=0;e<t.length;e++)dw(t[e])}}function OC(e,t){return e(t)}function IC(){}var jm=!1;function DC(e,t,n){if(jm)return e(t,n);jm=!0;try{return OC(e,t,n)}finally{jm=!1,(so!==null||ao!==null)&&(IC(),MC())}}function cc(e,t){var n=e.stateNode;if(n===null)return null;var r=fh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(G(231,t,typeof n));return n}var Vp=!1;if(bs)try{var fl={};Object.defineProperty(fl,"passive",{get:function(){Vp=!0}}),window.addEventListener("test",fl,fl),window.removeEventListener("test",fl,fl)}catch{Vp=!1}function dD(e,t,n,r,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var ql=!1,Bd=null,Vd=!1,Up=null,fD={onError:function(e){ql=!0,Bd=e}};function hD(e,t,n,r,s,a,o,l,c){ql=!1,Bd=null,dD.apply(fD,arguments)}function mD(e,t,n,r,s,a,o,l,c){if(hD.apply(this,arguments),ql){if(ql){var u=Bd;ql=!1,Bd=null}else throw Error(G(198));Vd||(Vd=!0,Up=u)}}function bi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function FC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function fw(e){if(bi(e)!==e)throw Error(G(188))}function pD(e){var t=e.alternate;if(!t){if(t=bi(e),t===null)throw Error(G(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return fw(s),e;if(a===r)return fw(s),t;a=a.sibling}throw Error(G(188))}if(n.return!==r.return)n=s,r=a;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=a;break}if(l===r){o=!0,r=s,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=s;break}if(l===r){o=!0,r=a,n=s;break}l=l.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?e:t}function LC(e){return e=pD(e),e!==null?$C(e):null}function $C(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$C(e);if(t!==null)return t;e=e.sibling}return null}var zC=Hn.unstable_scheduleCallback,hw=Hn.unstable_cancelCallback,gD=Hn.unstable_shouldYield,yD=Hn.unstable_requestPaint,xt=Hn.unstable_now,vD=Hn.unstable_getCurrentPriorityLevel,Iy=Hn.unstable_ImmediatePriority,BC=Hn.unstable_UserBlockingPriority,Ud=Hn.unstable_NormalPriority,xD=Hn.unstable_LowPriority,VC=Hn.unstable_IdlePriority,lh=null,Qr=null;function wD(e){if(Qr&&typeof Qr.onCommitFiberRoot=="function")try{Qr.onCommitFiberRoot(lh,e,void 0,(e.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:_D,bD=Math.log,SD=Math.LN2;function _D(e){return e>>>=0,e===0?32:31-(bD(e)/SD|0)|0}var Iu=64,Du=4194304;function El(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=El(l):(a&=o,a!==0&&(r=El(a)))}else o=n&~s,o!==0?r=El(o):a!==0&&(r=El(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_r(t),s=1<<n,r|=e[n],t&=~s;return r}function ND(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CD(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-_r(a),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=ND(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Wp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function UC(){var e=Iu;return Iu<<=1,!(Iu&4194240)&&(Iu=64),e}function km(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Xc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_r(t),e[t]=n}function jD(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-_r(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function Dy(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_r(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Je=0;function WC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var HC,Fy,qC,QC,KC,Hp=!1,Fu=[],Js=null,ea=null,ta=null,uc=new Map,dc=new Map,$s=[],kD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mw(e,t){switch(e){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":uc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dc.delete(t.pointerId)}}function hl(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Jc(t),t!==null&&Fy(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function ED(e,t,n,r,s){switch(t){case"focusin":return Js=hl(Js,e,t,n,r,s),!0;case"dragenter":return ea=hl(ea,e,t,n,r,s),!0;case"mouseover":return ta=hl(ta,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return uc.set(a,hl(uc.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,dc.set(a,hl(dc.get(a)||null,e,t,n,r,s)),!0}return!1}function GC(e){var t=$a(e.target);if(t!==null){var n=bi(t);if(n!==null){if(t=n.tag,t===13){if(t=FC(n),t!==null){e.blockedOn=t,KC(e.priority,function(){qC(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);zp=r,n.target.dispatchEvent(r),zp=null}else return t=Jc(n),t!==null&&Fy(t),e.blockedOn=n,!1;t.shift()}return!0}function pw(e,t,n){hd(e)&&n.delete(t)}function PD(){Hp=!1,Js!==null&&hd(Js)&&(Js=null),ea!==null&&hd(ea)&&(ea=null),ta!==null&&hd(ta)&&(ta=null),uc.forEach(pw),dc.forEach(pw)}function ml(e,t){e.blockedOn===t&&(e.blockedOn=null,Hp||(Hp=!0,Hn.unstable_scheduleCallback(Hn.unstable_NormalPriority,PD)))}function fc(e){function t(s){return ml(s,e)}if(0<Fu.length){ml(Fu[0],e);for(var n=1;n<Fu.length;n++){var r=Fu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Js!==null&&ml(Js,e),ea!==null&&ml(ea,e),ta!==null&&ml(ta,e),uc.forEach(t),dc.forEach(t),n=0;n<$s.length;n++)r=$s[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<$s.length&&(n=$s[0],n.blockedOn===null);)GC(n),n.blockedOn===null&&$s.shift()}var io=Es.ReactCurrentBatchConfig,Hd=!0;function TD(e,t,n,r){var s=Je,a=io.transition;io.transition=null;try{Je=1,Ly(e,t,n,r)}finally{Je=s,io.transition=a}}function AD(e,t,n,r){var s=Je,a=io.transition;io.transition=null;try{Je=4,Ly(e,t,n,r)}finally{Je=s,io.transition=a}}function Ly(e,t,n,r){if(Hd){var s=qp(e,t,n,r);if(s===null)Fm(e,t,r,qd,n),mw(e,r);else if(ED(s,e,t,n,r))r.stopPropagation();else if(mw(e,r),t&4&&-1<kD.indexOf(e)){for(;s!==null;){var a=Jc(s);if(a!==null&&HC(a),a=qp(e,t,n,r),a===null&&Fm(e,t,r,qd,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Fm(e,t,r,null,n)}}var qd=null;function qp(e,t,n,r){if(qd=null,e=Oy(r),e=$a(e),e!==null)if(t=bi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=FC(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qd=e,null}function YC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vD()){case Iy:return 1;case BC:return 4;case Ud:case xD:return 16;case VC:return 536870912;default:return 16}default:return 16}}var Xs=null,$y=null,md=null;function XC(){if(md)return md;var e,t=$y,n=t.length,r,s="value"in Xs?Xs.value:Xs.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[a-r];r++);return md=s.slice(e,1<r?1-r:void 0)}function pd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lu(){return!0}function gw(){return!1}function Qn(e){function t(n,r,s,a,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Lu:gw,this.isPropagationStopped=gw,this}return ht(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lu)},persist:function(){},isPersistent:Lu}),t}var Yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zy=Qn(Yo),Zc=ht({},Yo,{view:0,detail:0}),RD=Qn(Zc),Em,Pm,pl,ch=ht({},Zc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:By,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pl&&(pl&&e.type==="mousemove"?(Em=e.screenX-pl.screenX,Pm=e.screenY-pl.screenY):Pm=Em=0,pl=e),Em)},movementY:function(e){return"movementY"in e?e.movementY:Pm}}),yw=Qn(ch),MD=ht({},ch,{dataTransfer:0}),OD=Qn(MD),ID=ht({},Zc,{relatedTarget:0}),Tm=Qn(ID),DD=ht({},Yo,{animationName:0,elapsedTime:0,pseudoElement:0}),FD=Qn(DD),LD=ht({},Yo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$D=Qn(LD),zD=ht({},Yo,{data:0}),vw=Qn(zD),BD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=UD[e])?!!t[e]:!1}function By(){return WD}var HD=ht({},Zc,{key:function(e){if(e.key){var t=BD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=pd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?VD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:By,charCode:function(e){return e.type==="keypress"?pd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qD=Qn(HD),QD=ht({},ch,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xw=Qn(QD),KD=ht({},Zc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:By}),GD=Qn(KD),YD=ht({},Yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),XD=Qn(YD),ZD=ht({},ch,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),JD=Qn(ZD),eF=[9,13,27,32],Vy=bs&&"CompositionEvent"in window,Ql=null;bs&&"documentMode"in document&&(Ql=document.documentMode);var tF=bs&&"TextEvent"in window&&!Ql,ZC=bs&&(!Vy||Ql&&8<Ql&&11>=Ql),ww=" ",bw=!1;function JC(e,t){switch(e){case"keyup":return eF.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ej(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hi=!1;function nF(e,t){switch(e){case"compositionend":return ej(t);case"keypress":return t.which!==32?null:(bw=!0,ww);case"textInput":return e=t.data,e===ww&&bw?null:e;default:return null}}function rF(e,t){if(Hi)return e==="compositionend"||!Vy&&JC(e,t)?(e=XC(),md=$y=Xs=null,Hi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ZC&&t.locale!=="ko"?null:t.data;default:return null}}var sF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sF[e.type]:t==="textarea"}function tj(e,t,n,r){RC(r),t=Qd(t,"onChange"),0<t.length&&(n=new zy("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kl=null,hc=null;function aF(e){fj(e,0)}function uh(e){var t=Ki(e);if(CC(t))return e}function iF(e,t){if(e==="change")return t}var nj=!1;if(bs){var Am;if(bs){var Rm="oninput"in document;if(!Rm){var _w=document.createElement("div");_w.setAttribute("oninput","return;"),Rm=typeof _w.oninput=="function"}Am=Rm}else Am=!1;nj=Am&&(!document.documentMode||9<document.documentMode)}function Nw(){Kl&&(Kl.detachEvent("onpropertychange",rj),hc=Kl=null)}function rj(e){if(e.propertyName==="value"&&uh(hc)){var t=[];tj(t,hc,e,Oy(e)),DC(aF,t)}}function oF(e,t,n){e==="focusin"?(Nw(),Kl=t,hc=n,Kl.attachEvent("onpropertychange",rj)):e==="focusout"&&Nw()}function lF(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uh(hc)}function cF(e,t){if(e==="click")return uh(t)}function uF(e,t){if(e==="input"||e==="change")return uh(t)}function dF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kr=typeof Object.is=="function"?Object.is:dF;function mc(e,t){if(kr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ep.call(t,s)||!kr(e[s],t[s]))return!1}return!0}function Cw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jw(e,t){var n=Cw(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cw(n)}}function sj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function aj(){for(var e=window,t=zd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zd(e.document)}return t}function Uy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fF(e){var t=aj(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&sj(n.ownerDocument.documentElement,n)){if(r!==null&&Uy(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=jw(n,a);var o=jw(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hF=bs&&"documentMode"in document&&11>=document.documentMode,qi=null,Qp=null,Gl=null,Kp=!1;function kw(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kp||qi==null||qi!==zd(r)||(r=qi,"selectionStart"in r&&Uy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gl&&mc(Gl,r)||(Gl=r,r=Qd(Qp,"onSelect"),0<r.length&&(t=new zy("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=qi)))}function $u(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qi={animationend:$u("Animation","AnimationEnd"),animationiteration:$u("Animation","AnimationIteration"),animationstart:$u("Animation","AnimationStart"),transitionend:$u("Transition","TransitionEnd")},Mm={},ij={};bs&&(ij=document.createElement("div").style,"AnimationEvent"in window||(delete Qi.animationend.animation,delete Qi.animationiteration.animation,delete Qi.animationstart.animation),"TransitionEvent"in window||delete Qi.transitionend.transition);function dh(e){if(Mm[e])return Mm[e];if(!Qi[e])return e;var t=Qi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ij)return Mm[e]=t[n];return e}var oj=dh("animationend"),lj=dh("animationiteration"),cj=dh("animationstart"),uj=dh("transitionend"),dj=new Map,Ew="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sa(e,t){dj.set(e,t),wi(t,[e])}for(var Om=0;Om<Ew.length;Om++){var Im=Ew[Om],mF=Im.toLowerCase(),pF=Im[0].toUpperCase()+Im.slice(1);Sa(mF,"on"+pF)}Sa(oj,"onAnimationEnd");Sa(lj,"onAnimationIteration");Sa(cj,"onAnimationStart");Sa("dblclick","onDoubleClick");Sa("focusin","onFocus");Sa("focusout","onBlur");Sa(uj,"onTransitionEnd");Ro("onMouseEnter",["mouseout","mouseover"]);Ro("onMouseLeave",["mouseout","mouseover"]);Ro("onPointerEnter",["pointerout","pointerover"]);Ro("onPointerLeave",["pointerout","pointerover"]);wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pl));function Pw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,mD(r,t,void 0,e),e.currentTarget=null}function fj(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;Pw(s,l,u),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;Pw(s,l,u),a=c}}}if(Vd)throw e=Up,Vd=!1,Up=null,e}function at(e,t){var n=t[Jp];n===void 0&&(n=t[Jp]=new Set);var r=e+"__bubble";n.has(r)||(hj(t,e,2,!1),n.add(r))}function Dm(e,t,n){var r=0;t&&(r|=4),hj(n,e,r,t)}var zu="_reactListening"+Math.random().toString(36).slice(2);function pc(e){if(!e[zu]){e[zu]=!0,wC.forEach(function(n){n!=="selectionchange"&&(gF.has(n)||Dm(n,!1,e),Dm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zu]||(t[zu]=!0,Dm("selectionchange",!1,t))}}function hj(e,t,n,r){switch(YC(t)){case 1:var s=TD;break;case 4:s=AD;break;default:s=Ly}n=s.bind(null,t,n,e),s=void 0,!Vp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Fm(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=$a(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}DC(function(){var u=a,d=Oy(n),f=[];e:{var h=dj.get(e);if(h!==void 0){var p=zy,w=e;switch(e){case"keypress":if(pd(n)===0)break e;case"keydown":case"keyup":p=qD;break;case"focusin":w="focus",p=Tm;break;case"focusout":w="blur",p=Tm;break;case"beforeblur":case"afterblur":p=Tm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=yw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=OD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=GD;break;case oj:case lj:case cj:p=FD;break;case uj:p=XD;break;case"scroll":p=RD;break;case"wheel":p=JD;break;case"copy":case"cut":case"paste":p=$D;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=xw}var y=(t&4)!==0,b=!y&&e==="scroll",x=y?h!==null?h+"Capture":null:h;y=[];for(var g=u,v;g!==null;){v=g;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,x!==null&&(S=cc(g,x),S!=null&&y.push(gc(g,S,v)))),b)break;g=g.return}0<y.length&&(h=new p(h,w,null,n,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==zp&&(w=n.relatedTarget||n.fromElement)&&($a(w)||w[Ss]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=u,w=w?$a(w):null,w!==null&&(b=bi(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(y=yw,S="onMouseLeave",x="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=xw,S="onPointerLeave",x="onPointerEnter",g="pointer"),b=p==null?h:Ki(p),v=w==null?h:Ki(w),h=new y(S,g+"leave",p,n,d),h.target=b,h.relatedTarget=v,S=null,$a(d)===u&&(y=new y(x,g+"enter",w,n,d),y.target=v,y.relatedTarget=b,S=y),b=S,p&&w)t:{for(y=p,x=w,g=0,v=y;v;v=ki(v))g++;for(v=0,S=x;S;S=ki(S))v++;for(;0<g-v;)y=ki(y),g--;for(;0<v-g;)x=ki(x),v--;for(;g--;){if(y===x||x!==null&&y===x.alternate)break t;y=ki(y),x=ki(x)}y=null}else y=null;p!==null&&Tw(f,h,p,y,!1),w!==null&&b!==null&&Tw(f,b,w,y,!0)}}e:{if(h=u?Ki(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var _=iF;else if(Sw(h))if(nj)_=uF;else{_=lF;var j=oF}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=cF);if(_&&(_=_(e,u))){tj(f,_,n,d);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&Ip(h,"number",h.value)}switch(j=u?Ki(u):window,e){case"focusin":(Sw(j)||j.contentEditable==="true")&&(qi=j,Qp=u,Gl=null);break;case"focusout":Gl=Qp=qi=null;break;case"mousedown":Kp=!0;break;case"contextmenu":case"mouseup":case"dragend":Kp=!1,kw(f,n,d);break;case"selectionchange":if(hF)break;case"keydown":case"keyup":kw(f,n,d)}var N;if(Vy)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Hi?JC(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(ZC&&n.locale!=="ko"&&(Hi||E!=="onCompositionStart"?E==="onCompositionEnd"&&Hi&&(N=XC()):(Xs=d,$y="value"in Xs?Xs.value:Xs.textContent,Hi=!0)),j=Qd(u,E),0<j.length&&(E=new vw(E,e,null,n,d),f.push({event:E,listeners:j}),N?E.data=N:(N=ej(n),N!==null&&(E.data=N)))),(N=tF?nF(e,n):rF(e,n))&&(u=Qd(u,"onBeforeInput"),0<u.length&&(d=new vw("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=N))}fj(f,t)})}function gc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qd(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=cc(e,n),a!=null&&r.unshift(gc(e,a,s)),a=cc(e,t),a!=null&&r.push(gc(e,a,s))),e=e.return}return r}function ki(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Tw(e,t,n,r,s){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=cc(n,a),c!=null&&o.unshift(gc(n,c,l))):s||(c=cc(n,a),c!=null&&o.push(gc(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var yF=/\r\n?/g,vF=/\u0000|\uFFFD/g;function Aw(e){return(typeof e=="string"?e:""+e).replace(yF,`
`).replace(vF,"")}function Bu(e,t,n){if(t=Aw(t),Aw(e)!==t&&n)throw Error(G(425))}function Kd(){}var Gp=null,Yp=null;function Xp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zp=typeof setTimeout=="function"?setTimeout:void 0,xF=typeof clearTimeout=="function"?clearTimeout:void 0,Rw=typeof Promise=="function"?Promise:void 0,wF=typeof queueMicrotask=="function"?queueMicrotask:typeof Rw<"u"?function(e){return Rw.resolve(null).then(e).catch(bF)}:Zp;function bF(e){setTimeout(function(){throw e})}function Lm(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),fc(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);fc(t)}function na(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xo=Math.random().toString(36).slice(2),Ur="__reactFiber$"+Xo,yc="__reactProps$"+Xo,Ss="__reactContainer$"+Xo,Jp="__reactEvents$"+Xo,SF="__reactListeners$"+Xo,_F="__reactHandles$"+Xo;function $a(e){var t=e[Ur];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ss]||n[Ur]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Mw(e);e!==null;){if(n=e[Ur])return n;e=Mw(e)}return t}e=n,n=e.parentNode}return null}function Jc(e){return e=e[Ur]||e[Ss],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ki(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function fh(e){return e[yc]||null}var eg=[],Gi=-1;function _a(e){return{current:e}}function it(e){0>Gi||(e.current=eg[Gi],eg[Gi]=null,Gi--)}function rt(e,t){Gi++,eg[Gi]=e.current,e.current=t}var da={},tn=_a(da),Cn=_a(!1),si=da;function Mo(e,t){var n=e.type.contextTypes;if(!n)return da;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function jn(e){return e=e.childContextTypes,e!=null}function Gd(){it(Cn),it(tn)}function Ow(e,t,n){if(tn.current!==da)throw Error(G(168));rt(tn,t),rt(Cn,n)}function mj(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(G(108,oD(e)||"Unknown",s));return ht({},n,r)}function Yd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||da,si=tn.current,rt(tn,e),rt(Cn,Cn.current),!0}function Iw(e,t,n){var r=e.stateNode;if(!r)throw Error(G(169));n?(e=mj(e,t,si),r.__reactInternalMemoizedMergedChildContext=e,it(Cn),it(tn),rt(tn,e)):it(Cn),rt(Cn,n)}var ds=null,hh=!1,$m=!1;function pj(e){ds===null?ds=[e]:ds.push(e)}function NF(e){hh=!0,pj(e)}function Na(){if(!$m&&ds!==null){$m=!0;var e=0,t=Je;try{var n=ds;for(Je=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ds=null,hh=!1}catch(s){throw ds!==null&&(ds=ds.slice(e+1)),zC(Iy,Na),s}finally{Je=t,$m=!1}}return null}var Yi=[],Xi=0,Xd=null,Zd=0,tr=[],nr=0,ai=null,ms=1,ps="";function Ra(e,t){Yi[Xi++]=Zd,Yi[Xi++]=Xd,Xd=e,Zd=t}function gj(e,t,n){tr[nr++]=ms,tr[nr++]=ps,tr[nr++]=ai,ai=e;var r=ms;e=ps;var s=32-_r(r)-1;r&=~(1<<s),n+=1;var a=32-_r(t)+s;if(30<a){var o=s-s%5;a=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ms=1<<32-_r(t)+s|n<<s|r,ps=a+e}else ms=1<<a|n<<s|r,ps=e}function Wy(e){e.return!==null&&(Ra(e,1),gj(e,1,0))}function Hy(e){for(;e===Xd;)Xd=Yi[--Xi],Yi[Xi]=null,Zd=Yi[--Xi],Yi[Xi]=null;for(;e===ai;)ai=tr[--nr],tr[nr]=null,ps=tr[--nr],tr[nr]=null,ms=tr[--nr],tr[nr]=null}var Bn=null,zn=null,ot=!1,vr=null;function yj(e,t){var n=rr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Dw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bn=e,zn=na(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bn=e,zn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ai!==null?{id:ms,overflow:ps}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=rr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Bn=e,zn=null,!0):!1;default:return!1}}function tg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ng(e){if(ot){var t=zn;if(t){var n=t;if(!Dw(e,t)){if(tg(e))throw Error(G(418));t=na(n.nextSibling);var r=Bn;t&&Dw(e,t)?yj(r,n):(e.flags=e.flags&-4097|2,ot=!1,Bn=e)}}else{if(tg(e))throw Error(G(418));e.flags=e.flags&-4097|2,ot=!1,Bn=e}}}function Fw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bn=e}function Vu(e){if(e!==Bn)return!1;if(!ot)return Fw(e),ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xp(e.type,e.memoizedProps)),t&&(t=zn)){if(tg(e))throw vj(),Error(G(418));for(;t;)yj(e,t),t=na(t.nextSibling)}if(Fw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){zn=na(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}zn=null}}else zn=Bn?na(e.stateNode.nextSibling):null;return!0}function vj(){for(var e=zn;e;)e=na(e.nextSibling)}function Oo(){zn=Bn=null,ot=!1}function qy(e){vr===null?vr=[e]:vr.push(e)}var CF=Es.ReactCurrentBatchConfig;function gl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,e))}return e}function Uu(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Lw(e){var t=e._init;return t(e._payload)}function xj(e){function t(x,g){if(e){var v=x.deletions;v===null?(x.deletions=[g],x.flags|=16):v.push(g)}}function n(x,g){if(!e)return null;for(;g!==null;)t(x,g),g=g.sibling;return null}function r(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function s(x,g){return x=ia(x,g),x.index=0,x.sibling=null,x}function a(x,g,v){return x.index=v,e?(v=x.alternate,v!==null?(v=v.index,v<g?(x.flags|=2,g):v):(x.flags|=2,g)):(x.flags|=1048576,g)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,g,v,S){return g===null||g.tag!==6?(g=qm(v,x.mode,S),g.return=x,g):(g=s(g,v),g.return=x,g)}function c(x,g,v,S){var _=v.type;return _===Wi?d(x,g,v.props.children,S,v.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Fs&&Lw(_)===g.type)?(S=s(g,v.props),S.ref=gl(x,g,v),S.return=x,S):(S=Sd(v.type,v.key,v.props,null,x.mode,S),S.ref=gl(x,g,v),S.return=x,S)}function u(x,g,v,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Qm(v,x.mode,S),g.return=x,g):(g=s(g,v.children||[]),g.return=x,g)}function d(x,g,v,S,_){return g===null||g.tag!==7?(g=ei(v,x.mode,S,_),g.return=x,g):(g=s(g,v),g.return=x,g)}function f(x,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=qm(""+g,x.mode,v),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ru:return v=Sd(g.type,g.key,g.props,null,x.mode,v),v.ref=gl(x,null,g),v.return=x,v;case Ui:return g=Qm(g,x.mode,v),g.return=x,g;case Fs:var S=g._init;return f(x,S(g._payload),v)}if(kl(g)||dl(g))return g=ei(g,x.mode,v,null),g.return=x,g;Uu(x,g)}return null}function h(x,g,v,S){var _=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return _!==null?null:l(x,g,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ru:return v.key===_?c(x,g,v,S):null;case Ui:return v.key===_?u(x,g,v,S):null;case Fs:return _=v._init,h(x,g,_(v._payload),S)}if(kl(v)||dl(v))return _!==null?null:d(x,g,v,S,null);Uu(x,v)}return null}function p(x,g,v,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(v)||null,l(g,x,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ru:return x=x.get(S.key===null?v:S.key)||null,c(g,x,S,_);case Ui:return x=x.get(S.key===null?v:S.key)||null,u(g,x,S,_);case Fs:var j=S._init;return p(x,g,v,j(S._payload),_)}if(kl(S)||dl(S))return x=x.get(v)||null,d(g,x,S,_,null);Uu(g,S)}return null}function w(x,g,v,S){for(var _=null,j=null,N=g,E=g=0,P=null;N!==null&&E<v.length;E++){N.index>E?(P=N,N=null):P=N.sibling;var I=h(x,N,v[E],S);if(I===null){N===null&&(N=P);break}e&&N&&I.alternate===null&&t(x,N),g=a(I,g,E),j===null?_=I:j.sibling=I,j=I,N=P}if(E===v.length)return n(x,N),ot&&Ra(x,E),_;if(N===null){for(;E<v.length;E++)N=f(x,v[E],S),N!==null&&(g=a(N,g,E),j===null?_=N:j.sibling=N,j=N);return ot&&Ra(x,E),_}for(N=r(x,N);E<v.length;E++)P=p(N,x,E,v[E],S),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?E:P.key),g=a(P,g,E),j===null?_=P:j.sibling=P,j=P);return e&&N.forEach(function(k){return t(x,k)}),ot&&Ra(x,E),_}function y(x,g,v,S){var _=dl(v);if(typeof _!="function")throw Error(G(150));if(v=_.call(v),v==null)throw Error(G(151));for(var j=_=null,N=g,E=g=0,P=null,I=v.next();N!==null&&!I.done;E++,I=v.next()){N.index>E?(P=N,N=null):P=N.sibling;var k=h(x,N,I.value,S);if(k===null){N===null&&(N=P);break}e&&N&&k.alternate===null&&t(x,N),g=a(k,g,E),j===null?_=k:j.sibling=k,j=k,N=P}if(I.done)return n(x,N),ot&&Ra(x,E),_;if(N===null){for(;!I.done;E++,I=v.next())I=f(x,I.value,S),I!==null&&(g=a(I,g,E),j===null?_=I:j.sibling=I,j=I);return ot&&Ra(x,E),_}for(N=r(x,N);!I.done;E++,I=v.next())I=p(N,x,E,I.value,S),I!==null&&(e&&I.alternate!==null&&N.delete(I.key===null?E:I.key),g=a(I,g,E),j===null?_=I:j.sibling=I,j=I);return e&&N.forEach(function(R){return t(x,R)}),ot&&Ra(x,E),_}function b(x,g,v,S){if(typeof v=="object"&&v!==null&&v.type===Wi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ru:e:{for(var _=v.key,j=g;j!==null;){if(j.key===_){if(_=v.type,_===Wi){if(j.tag===7){n(x,j.sibling),g=s(j,v.props.children),g.return=x,x=g;break e}}else if(j.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Fs&&Lw(_)===j.type){n(x,j.sibling),g=s(j,v.props),g.ref=gl(x,j,v),g.return=x,x=g;break e}n(x,j);break}else t(x,j);j=j.sibling}v.type===Wi?(g=ei(v.props.children,x.mode,S,v.key),g.return=x,x=g):(S=Sd(v.type,v.key,v.props,null,x.mode,S),S.ref=gl(x,g,v),S.return=x,x=S)}return o(x);case Ui:e:{for(j=v.key;g!==null;){if(g.key===j)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(x,g.sibling),g=s(g,v.children||[]),g.return=x,x=g;break e}else{n(x,g);break}else t(x,g);g=g.sibling}g=Qm(v,x.mode,S),g.return=x,x=g}return o(x);case Fs:return j=v._init,b(x,g,j(v._payload),S)}if(kl(v))return w(x,g,v,S);if(dl(v))return y(x,g,v,S);Uu(x,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(n(x,g.sibling),g=s(g,v),g.return=x,x=g):(n(x,g),g=qm(v,x.mode,S),g.return=x,x=g),o(x)):n(x,g)}return b}var Io=xj(!0),wj=xj(!1),Jd=_a(null),ef=null,Zi=null,Qy=null;function Ky(){Qy=Zi=ef=null}function Gy(e){var t=Jd.current;it(Jd),e._currentValue=t}function rg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function oo(e,t){ef=e,Qy=Zi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nn=!0),e.firstContext=null)}function cr(e){var t=e._currentValue;if(Qy!==e)if(e={context:e,memoizedValue:t,next:null},Zi===null){if(ef===null)throw Error(G(308));Zi=e,ef.dependencies={lanes:0,firstContext:e}}else Zi=Zi.next=e;return t}var za=null;function Yy(e){za===null?za=[e]:za.push(e)}function bj(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Yy(t)):(n.next=s.next,s.next=n),t.interleaved=n,_s(e,r)}function _s(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ls=!1;function Xy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ra(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Qe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,_s(e,n)}return s=r.interleaved,s===null?(t.next=t,Yy(r)):(t.next=s.next,s.next=t),r.interleaved=t,_s(e,n)}function gd(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dy(e,n)}}function $w(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function tf(e,t,n,r){var s=e.updateQueue;Ls=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;o=0,d=u=c=null,l=a;do{var h=l.lane,p=l.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,y=l;switch(h=t,p=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){f=w.call(p,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,h=typeof w=="function"?w.call(p,f,h):w,h==null)break e;f=ht({},f,h);break e;case 2:Ls=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);oi|=o,e.lanes=o,e.memoizedState=f}}function zw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(G(191,s));s.call(r)}}}var eu={},Kr=_a(eu),vc=_a(eu),xc=_a(eu);function Ba(e){if(e===eu)throw Error(G(174));return e}function Zy(e,t){switch(rt(xc,t),rt(vc,e),rt(Kr,eu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fp(t,e)}it(Kr),rt(Kr,t)}function Do(){it(Kr),it(vc),it(xc)}function _j(e){Ba(xc.current);var t=Ba(Kr.current),n=Fp(t,e.type);t!==n&&(rt(vc,e),rt(Kr,n))}function Jy(e){vc.current===e&&(it(Kr),it(vc))}var ut=_a(0);function nf(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zm=[];function ev(){for(var e=0;e<zm.length;e++)zm[e]._workInProgressVersionPrimary=null;zm.length=0}var yd=Es.ReactCurrentDispatcher,Bm=Es.ReactCurrentBatchConfig,ii=0,ft=null,Pt=null,It=null,rf=!1,Yl=!1,wc=0,jF=0;function Xt(){throw Error(G(321))}function tv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kr(e[n],t[n]))return!1;return!0}function nv(e,t,n,r,s,a){if(ii=a,ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yd.current=e===null||e.memoizedState===null?TF:AF,e=n(r,s),Yl){a=0;do{if(Yl=!1,wc=0,25<=a)throw Error(G(301));a+=1,It=Pt=null,t.updateQueue=null,yd.current=RF,e=n(r,s)}while(Yl)}if(yd.current=sf,t=Pt!==null&&Pt.next!==null,ii=0,It=Pt=ft=null,rf=!1,t)throw Error(G(300));return e}function rv(){var e=wc!==0;return wc=0,e}function Fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?ft.memoizedState=It=e:It=It.next=e,It}function ur(){if(Pt===null){var e=ft.alternate;e=e!==null?e.memoizedState:null}else e=Pt.next;var t=It===null?ft.memoizedState:It.next;if(t!==null)It=t,Pt=e;else{if(e===null)throw Error(G(310));Pt=e,e={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},It===null?ft.memoizedState=It=e:It=It.next=e}return It}function bc(e,t){return typeof t=="function"?t(e):t}function Vm(e){var t=ur(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=Pt,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((ii&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,ft.lanes|=d,oi|=d}u=u.next}while(u!==null&&u!==a);c===null?o=r:c.next=l,kr(r,t.memoizedState)||(Nn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,ft.lanes|=a,oi|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Um(e){var t=ur(),n=t.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);kr(a,t.memoizedState)||(Nn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Nj(){}function Cj(e,t){var n=ft,r=ur(),s=t(),a=!kr(r.memoizedState,s);if(a&&(r.memoizedState=s,Nn=!0),r=r.queue,sv(Ej.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,Sc(9,kj.bind(null,n,r,s,t),void 0,null),Dt===null)throw Error(G(349));ii&30||jj(n,t,s)}return s}function jj(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function kj(e,t,n,r){t.value=n,t.getSnapshot=r,Pj(t)&&Tj(e)}function Ej(e,t,n){return n(function(){Pj(t)&&Tj(e)})}function Pj(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kr(e,n)}catch{return!0}}function Tj(e){var t=_s(e,1);t!==null&&Nr(t,e,1,-1)}function Bw(e){var t=Fr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bc,lastRenderedState:e},t.queue=e,e=e.dispatch=PF.bind(null,ft,e),[t.memoizedState,e]}function Sc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Aj(){return ur().memoizedState}function vd(e,t,n,r){var s=Fr();ft.flags|=e,s.memoizedState=Sc(1|t,n,void 0,r===void 0?null:r)}function mh(e,t,n,r){var s=ur();r=r===void 0?null:r;var a=void 0;if(Pt!==null){var o=Pt.memoizedState;if(a=o.destroy,r!==null&&tv(r,o.deps)){s.memoizedState=Sc(t,n,a,r);return}}ft.flags|=e,s.memoizedState=Sc(1|t,n,a,r)}function Vw(e,t){return vd(8390656,8,e,t)}function sv(e,t){return mh(2048,8,e,t)}function Rj(e,t){return mh(4,2,e,t)}function Mj(e,t){return mh(4,4,e,t)}function Oj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ij(e,t,n){return n=n!=null?n.concat([e]):null,mh(4,4,Oj.bind(null,t,e),n)}function av(){}function Dj(e,t){var n=ur();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tv(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Fj(e,t){var n=ur();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tv(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Lj(e,t,n){return ii&21?(kr(n,t)||(n=UC(),ft.lanes|=n,oi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nn=!0),e.memoizedState=n)}function kF(e,t){var n=Je;Je=n!==0&&4>n?n:4,e(!0);var r=Bm.transition;Bm.transition={};try{e(!1),t()}finally{Je=n,Bm.transition=r}}function $j(){return ur().memoizedState}function EF(e,t,n){var r=aa(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zj(e))Bj(t,n);else if(n=bj(e,t,n,r),n!==null){var s=fn();Nr(n,e,r,s),Vj(n,t,r)}}function PF(e,t,n){var r=aa(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zj(e))Bj(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(s.hasEagerState=!0,s.eagerState=l,kr(l,o)){var c=t.interleaved;c===null?(s.next=s,Yy(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=bj(e,t,s,r),n!==null&&(s=fn(),Nr(n,e,r,s),Vj(n,t,r))}}function zj(e){var t=e.alternate;return e===ft||t!==null&&t===ft}function Bj(e,t){Yl=rf=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vj(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dy(e,n)}}var sf={readContext:cr,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},TF={readContext:cr,useCallback:function(e,t){return Fr().memoizedState=[e,t===void 0?null:t],e},useContext:cr,useEffect:Vw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,vd(4194308,4,Oj.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vd(4194308,4,e,t)},useInsertionEffect:function(e,t){return vd(4,2,e,t)},useMemo:function(e,t){var n=Fr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Fr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=EF.bind(null,ft,e),[r.memoizedState,e]},useRef:function(e){var t=Fr();return e={current:e},t.memoizedState=e},useState:Bw,useDebugValue:av,useDeferredValue:function(e){return Fr().memoizedState=e},useTransition:function(){var e=Bw(!1),t=e[0];return e=kF.bind(null,e[1]),Fr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ft,s=Fr();if(ot){if(n===void 0)throw Error(G(407));n=n()}else{if(n=t(),Dt===null)throw Error(G(349));ii&30||jj(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Vw(Ej.bind(null,r,a,e),[e]),r.flags|=2048,Sc(9,kj.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Fr(),t=Dt.identifierPrefix;if(ot){var n=ps,r=ms;n=(r&~(1<<32-_r(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=wc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=jF++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},AF={readContext:cr,useCallback:Dj,useContext:cr,useEffect:sv,useImperativeHandle:Ij,useInsertionEffect:Rj,useLayoutEffect:Mj,useMemo:Fj,useReducer:Vm,useRef:Aj,useState:function(){return Vm(bc)},useDebugValue:av,useDeferredValue:function(e){var t=ur();return Lj(t,Pt.memoizedState,e)},useTransition:function(){var e=Vm(bc)[0],t=ur().memoizedState;return[e,t]},useMutableSource:Nj,useSyncExternalStore:Cj,useId:$j,unstable_isNewReconciler:!1},RF={readContext:cr,useCallback:Dj,useContext:cr,useEffect:sv,useImperativeHandle:Ij,useInsertionEffect:Rj,useLayoutEffect:Mj,useMemo:Fj,useReducer:Um,useRef:Aj,useState:function(){return Um(bc)},useDebugValue:av,useDeferredValue:function(e){var t=ur();return Pt===null?t.memoizedState=e:Lj(t,Pt.memoizedState,e)},useTransition:function(){var e=Um(bc)[0],t=ur().memoizedState;return[e,t]},useMutableSource:Nj,useSyncExternalStore:Cj,useId:$j,unstable_isNewReconciler:!1};function mr(e,t){if(e&&e.defaultProps){t=ht({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function sg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ht({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ph={isMounted:function(e){return(e=e._reactInternals)?bi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fn(),s=aa(e),a=gs(r,s);a.payload=t,n!=null&&(a.callback=n),t=ra(e,a,s),t!==null&&(Nr(t,e,s,r),gd(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fn(),s=aa(e),a=gs(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=ra(e,a,s),t!==null&&(Nr(t,e,s,r),gd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fn(),r=aa(e),s=gs(n,r);s.tag=2,t!=null&&(s.callback=t),t=ra(e,s,r),t!==null&&(Nr(t,e,r,n),gd(t,e,r))}};function Uw(e,t,n,r,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!mc(n,r)||!mc(s,a):!0}function Uj(e,t,n){var r=!1,s=da,a=t.contextType;return typeof a=="object"&&a!==null?a=cr(a):(s=jn(t)?si:tn.current,r=t.contextTypes,a=(r=r!=null)?Mo(e,s):da),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ph,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ww(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ph.enqueueReplaceState(t,t.state,null)}function ag(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Xy(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=cr(a):(a=jn(t)?si:tn.current,s.context=Mo(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(sg(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ph.enqueueReplaceState(s,s.state,null),tf(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Fo(e,t){try{var n="",r=t;do n+=iD(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Wm(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ig(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var MF=typeof WeakMap=="function"?WeakMap:Map;function Wj(e,t,n){n=gs(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){of||(of=!0,gg=r),ig(e,t)},n}function Hj(e,t,n){n=gs(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ig(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ig(e,t),typeof r!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Hw(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new MF;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=QF.bind(null,e,t,n),t.then(e,e))}function qw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qw(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=gs(-1,1),t.tag=2,ra(n,t,1))),n.lanes|=1),e)}var OF=Es.ReactCurrentOwner,Nn=!1;function cn(e,t,n,r){t.child=e===null?wj(t,null,n,r):Io(t,e.child,n,r)}function Kw(e,t,n,r,s){n=n.render;var a=t.ref;return oo(t,s),r=nv(e,t,n,r,a,s),n=rv(),e!==null&&!Nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ns(e,t,s)):(ot&&n&&Wy(t),t.flags|=1,cn(e,t,r,s),t.child)}function Gw(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!hv(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,qj(e,t,a,r,s)):(e=Sd(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:mc,n(o,r)&&e.ref===t.ref)return Ns(e,t,s)}return t.flags|=1,e=ia(a,r),e.ref=t.ref,e.return=t,t.child=e}function qj(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(mc(a,r)&&e.ref===t.ref)if(Nn=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(Nn=!0);else return t.lanes=e.lanes,Ns(e,t,s)}return og(e,t,n,r,s)}function Qj(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(eo,Dn),Dn|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,rt(eo,Dn),Dn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,rt(eo,Dn),Dn|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,rt(eo,Dn),Dn|=r;return cn(e,t,s,n),t.child}function Kj(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function og(e,t,n,r,s){var a=jn(n)?si:tn.current;return a=Mo(t,a),oo(t,s),n=nv(e,t,n,r,a,s),r=rv(),e!==null&&!Nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ns(e,t,s)):(ot&&r&&Wy(t),t.flags|=1,cn(e,t,n,s),t.child)}function Yw(e,t,n,r,s){if(jn(n)){var a=!0;Yd(t)}else a=!1;if(oo(t,s),t.stateNode===null)xd(e,t),Uj(t,n,r),ag(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=cr(u):(u=jn(n)?si:tn.current,u=Mo(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Ww(t,o,r,u),Ls=!1;var h=t.memoizedState;o.state=h,tf(t,r,o,s),c=t.memoizedState,l!==r||h!==c||Cn.current||Ls?(typeof d=="function"&&(sg(t,n,d,r),c=t.memoizedState),(l=Ls||Uw(t,n,l,r,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Sj(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:mr(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=cr(c):(c=jn(n)?si:tn.current,c=Mo(t,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Ww(t,o,r,c),Ls=!1,h=t.memoizedState,o.state=h,tf(t,r,o,s);var w=t.memoizedState;l!==f||h!==w||Cn.current||Ls?(typeof p=="function"&&(sg(t,n,p,r),w=t.memoizedState),(u=Ls||Uw(t,n,u,r,h,w,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return lg(e,t,n,r,a,s)}function lg(e,t,n,r,s,a){Kj(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Iw(t,n,!1),Ns(e,t,a);r=t.stateNode,OF.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Io(t,e.child,null,a),t.child=Io(t,null,l,a)):cn(e,t,l,a),t.memoizedState=r.state,s&&Iw(t,n,!0),t.child}function Gj(e){var t=e.stateNode;t.pendingContext?Ow(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ow(e,t.context,!1),Zy(e,t.containerInfo)}function Xw(e,t,n,r,s){return Oo(),qy(s),t.flags|=256,cn(e,t,n,r),t.child}var cg={dehydrated:null,treeContext:null,retryLane:0};function ug(e){return{baseLanes:e,cachePool:null,transitions:null}}function Yj(e,t,n){var r=t.pendingProps,s=ut.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),rt(ut,s&1),e===null)return ng(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=vh(o,r,0,null),e=ei(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ug(n),t.memoizedState=cg,e):iv(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return IF(e,t,o,r,l,s,n);if(a){a=r.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=ia(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=ia(l,a):(a=ei(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?ug(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=cg,r}return a=e.child,e=a.sibling,r=ia(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function iv(e,t){return t=vh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wu(e,t,n,r){return r!==null&&qy(r),Io(t,e.child,null,n),e=iv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function IF(e,t,n,r,s,a,o){if(n)return t.flags&256?(t.flags&=-257,r=Wm(Error(G(422))),Wu(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=vh({mode:"visible",children:r.children},s,0,null),a=ei(a,s,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Io(t,e.child,null,o),t.child.memoizedState=ug(o),t.memoizedState=cg,a);if(!(t.mode&1))return Wu(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(G(419)),r=Wm(a,r,void 0),Wu(e,t,o,r)}if(l=(o&e.childLanes)!==0,Nn||l){if(r=Dt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,_s(e,s),Nr(r,e,s,-1))}return fv(),r=Wm(Error(G(421))),Wu(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=KF.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,zn=na(s.nextSibling),Bn=t,ot=!0,vr=null,e!==null&&(tr[nr++]=ms,tr[nr++]=ps,tr[nr++]=ai,ms=e.id,ps=e.overflow,ai=t),t=iv(t,r.children),t.flags|=4096,t)}function Zw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),rg(e.return,t,n)}function Hm(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function Xj(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(cn(e,t,r.children,n),r=ut.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zw(e,n,t);else if(e.tag===19)Zw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(rt(ut,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&nf(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Hm(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&nf(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Hm(t,!0,n,null,a);break;case"together":Hm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ns(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),oi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,n=ia(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ia(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function DF(e,t,n){switch(t.tag){case 3:Gj(t),Oo();break;case 5:_j(t);break;case 1:jn(t.type)&&Yd(t);break;case 4:Zy(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;rt(Jd,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(rt(ut,ut.current&1),t.flags|=128,null):n&t.child.childLanes?Yj(e,t,n):(rt(ut,ut.current&1),e=Ns(e,t,n),e!==null?e.sibling:null);rt(ut,ut.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Xj(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),rt(ut,ut.current),r)break;return null;case 22:case 23:return t.lanes=0,Qj(e,t,n)}return Ns(e,t,n)}var Zj,dg,Jj,ek;Zj=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};dg=function(){};Jj=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ba(Kr.current);var a=null;switch(n){case"input":s=Mp(e,s),r=Mp(e,r),a=[];break;case"select":s=ht({},s,{value:void 0}),r=ht({},r,{value:void 0}),a=[];break;case"textarea":s=Dp(e,s),r=Dp(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Kd)}Lp(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(oc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(oc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&at("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};ek=function(e,t,n,r){n!==r&&(t.flags|=4)};function yl(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function FF(e,t,n){var r=t.pendingProps;switch(Hy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(t),null;case 1:return jn(t.type)&&Gd(),Zt(t),null;case 3:return r=t.stateNode,Do(),it(Cn),it(tn),ev(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Vu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vr!==null&&(xg(vr),vr=null))),dg(e,t),Zt(t),null;case 5:Jy(t);var s=Ba(xc.current);if(n=t.type,e!==null&&t.stateNode!=null)Jj(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(G(166));return Zt(t),null}if(e=Ba(Kr.current),Vu(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Ur]=t,r[yc]=a,e=(t.mode&1)!==0,n){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(s=0;s<Pl.length;s++)at(Pl[s],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":ow(r,a),at("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},at("invalid",r);break;case"textarea":cw(r,a),at("invalid",r)}Lp(n,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&Bu(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Bu(r.textContent,l,e),s=["children",""+l]):oc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&at("scroll",r)}switch(n){case"input":Mu(r),lw(r,a,!0);break;case"textarea":Mu(r),uw(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Kd)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=EC(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ur]=t,e[yc]=r,Zj(e,t,!1,!1),t.stateNode=e;e:{switch(o=$p(n,r),n){case"dialog":at("cancel",e),at("close",e),s=r;break;case"iframe":case"object":case"embed":at("load",e),s=r;break;case"video":case"audio":for(s=0;s<Pl.length;s++)at(Pl[s],e);s=r;break;case"source":at("error",e),s=r;break;case"img":case"image":case"link":at("error",e),at("load",e),s=r;break;case"details":at("toggle",e),s=r;break;case"input":ow(e,r),s=Mp(e,r),at("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ht({},r,{value:void 0}),at("invalid",e);break;case"textarea":cw(e,r),s=Dp(e,r),at("invalid",e);break;default:s=r}Lp(n,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?AC(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&PC(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&lc(e,c):typeof c=="number"&&lc(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(oc.hasOwnProperty(a)?c!=null&&a==="onScroll"&&at("scroll",e):c!=null&&Ty(e,a,c,o))}switch(n){case"input":Mu(e),lw(e,r,!1);break;case"textarea":Mu(e),uw(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ua(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?ro(e,!!r.multiple,a,!1):r.defaultValue!=null&&ro(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Kd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Zt(t),null;case 6:if(e&&t.stateNode!=null)ek(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(G(166));if(n=Ba(xc.current),Ba(Kr.current),Vu(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ur]=t,(a=r.nodeValue!==n)&&(e=Bn,e!==null))switch(e.tag){case 3:Bu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bu(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ur]=t,t.stateNode=r}return Zt(t),null;case 13:if(it(ut),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ot&&zn!==null&&t.mode&1&&!(t.flags&128))vj(),Oo(),t.flags|=98560,a=!1;else if(a=Vu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(G(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(G(317));a[Ur]=t}else Oo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Zt(t),a=!1}else vr!==null&&(xg(vr),vr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ut.current&1?Rt===0&&(Rt=3):fv())),t.updateQueue!==null&&(t.flags|=4),Zt(t),null);case 4:return Do(),dg(e,t),e===null&&pc(t.stateNode.containerInfo),Zt(t),null;case 10:return Gy(t.type._context),Zt(t),null;case 17:return jn(t.type)&&Gd(),Zt(t),null;case 19:if(it(ut),a=t.memoizedState,a===null)return Zt(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)yl(a,!1);else{if(Rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=nf(e),o!==null){for(t.flags|=128,yl(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return rt(ut,ut.current&1|2),t.child}e=e.sibling}a.tail!==null&&xt()>Lo&&(t.flags|=128,r=!0,yl(a,!1),t.lanes=4194304)}else{if(!r)if(e=nf(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),yl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ot)return Zt(t),null}else 2*xt()-a.renderingStartTime>Lo&&n!==1073741824&&(t.flags|=128,r=!0,yl(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=xt(),t.sibling=null,n=ut.current,rt(ut,r?n&1|2:n&1),t):(Zt(t),null);case 22:case 23:return dv(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Dn&1073741824&&(Zt(t),t.subtreeFlags&6&&(t.flags|=8192)):Zt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function LF(e,t){switch(Hy(t),t.tag){case 1:return jn(t.type)&&Gd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Do(),it(Cn),it(tn),ev(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jy(t),null;case 13:if(it(ut),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Oo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return it(ut),null;case 4:return Do(),null;case 10:return Gy(t.type._context),null;case 22:case 23:return dv(),null;case 24:return null;default:return null}}var Hu=!1,en=!1,$F=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Ji(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pt(e,t,r)}else n.current=null}function fg(e,t,n){try{n()}catch(r){pt(e,t,r)}}var Jw=!1;function zF(e,t){if(Gp=Hd,e=aj(),Uy(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(l=o+s),f!==a||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===s&&(l=o),h===a&&++d===r&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yp={focusedElem:e,selectionRange:n},Hd=!1,ue=t;ue!==null;)if(t=ue,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ue=e;else for(;ue!==null;){t=ue;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,b=w.memoizedState,x=t.stateNode,g=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:mr(t.type,y),b);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(S){pt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,ue=e;break}ue=t.return}return w=Jw,Jw=!1,w}function Xl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&fg(t,n,a)}s=s.next}while(s!==r)}}function gh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function tk(e){var t=e.alternate;t!==null&&(e.alternate=null,tk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ur],delete t[yc],delete t[Jp],delete t[SF],delete t[_F])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function nk(e){return e.tag===5||e.tag===3||e.tag===4}function e0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||nk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Kd));else if(r!==4&&(e=e.child,e!==null))for(mg(e,t,n),e=e.sibling;e!==null;)mg(e,t,n),e=e.sibling}function pg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(pg(e,t,n),e=e.sibling;e!==null;)pg(e,t,n),e=e.sibling}var Vt=null,yr=!1;function Ps(e,t,n){for(n=n.child;n!==null;)rk(e,t,n),n=n.sibling}function rk(e,t,n){if(Qr&&typeof Qr.onCommitFiberUnmount=="function")try{Qr.onCommitFiberUnmount(lh,n)}catch{}switch(n.tag){case 5:en||Ji(n,t);case 6:var r=Vt,s=yr;Vt=null,Ps(e,t,n),Vt=r,yr=s,Vt!==null&&(yr?(e=Vt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Vt.removeChild(n.stateNode));break;case 18:Vt!==null&&(yr?(e=Vt,n=n.stateNode,e.nodeType===8?Lm(e.parentNode,n):e.nodeType===1&&Lm(e,n),fc(e)):Lm(Vt,n.stateNode));break;case 4:r=Vt,s=yr,Vt=n.stateNode.containerInfo,yr=!0,Ps(e,t,n),Vt=r,yr=s;break;case 0:case 11:case 14:case 15:if(!en&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&fg(n,t,o),s=s.next}while(s!==r)}Ps(e,t,n);break;case 1:if(!en&&(Ji(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){pt(n,t,l)}Ps(e,t,n);break;case 21:Ps(e,t,n);break;case 22:n.mode&1?(en=(r=en)||n.memoizedState!==null,Ps(e,t,n),en=r):Ps(e,t,n);break;default:Ps(e,t,n)}}function t0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new $F),t.forEach(function(r){var s=GF.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function fr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Vt=l.stateNode,yr=!1;break e;case 3:Vt=l.stateNode.containerInfo,yr=!0;break e;case 4:Vt=l.stateNode.containerInfo,yr=!0;break e}l=l.return}if(Vt===null)throw Error(G(160));rk(a,o,s),Vt=null,yr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){pt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sk(t,e),t=t.sibling}function sk(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fr(t,e),Ir(e),r&4){try{Xl(3,e,e.return),gh(3,e)}catch(y){pt(e,e.return,y)}try{Xl(5,e,e.return)}catch(y){pt(e,e.return,y)}}break;case 1:fr(t,e),Ir(e),r&512&&n!==null&&Ji(n,n.return);break;case 5:if(fr(t,e),Ir(e),r&512&&n!==null&&Ji(n,n.return),e.flags&32){var s=e.stateNode;try{lc(s,"")}catch(y){pt(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&jC(s,a),$p(l,o);var u=$p(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?AC(s,f):d==="dangerouslySetInnerHTML"?PC(s,f):d==="children"?lc(s,f):Ty(s,d,f,u)}switch(l){case"input":Op(s,a);break;case"textarea":kC(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?ro(s,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?ro(s,!!a.multiple,a.defaultValue,!0):ro(s,!!a.multiple,a.multiple?[]:"",!1))}s[yc]=a}catch(y){pt(e,e.return,y)}}break;case 6:if(fr(t,e),Ir(e),r&4){if(e.stateNode===null)throw Error(G(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(y){pt(e,e.return,y)}}break;case 3:if(fr(t,e),Ir(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fc(t.containerInfo)}catch(y){pt(e,e.return,y)}break;case 4:fr(t,e),Ir(e);break;case 13:fr(t,e),Ir(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(cv=xt())),r&4&&t0(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(en=(u=en)||d,fr(t,e),en=u):fr(t,e),Ir(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ue=e,d=e.child;d!==null;){for(f=ue=d;ue!==null;){switch(h=ue,p=h.child,h.tag){case 0:case 11:case 14:case 15:Xl(4,h,h.return);break;case 1:Ji(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){pt(r,n,y)}}break;case 5:Ji(h,h.return);break;case 22:if(h.memoizedState!==null){r0(f);continue}}p!==null?(p.return=h,ue=p):r0(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=TC("display",o))}catch(y){pt(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){pt(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:fr(t,e),Ir(e),r&4&&t0(e);break;case 21:break;default:fr(t,e),Ir(e)}}function Ir(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(nk(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(lc(s,""),r.flags&=-33);var a=e0(e);pg(e,a,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=e0(e);mg(e,l,o);break;default:throw Error(G(161))}}catch(c){pt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function BF(e,t,n){ue=e,ak(e)}function ak(e,t,n){for(var r=(e.mode&1)!==0;ue!==null;){var s=ue,a=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Hu;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||en;l=Hu;var u=en;if(Hu=o,(en=c)&&!u)for(ue=s;ue!==null;)o=ue,c=o.child,o.tag===22&&o.memoizedState!==null?s0(s):c!==null?(c.return=o,ue=c):s0(s);for(;a!==null;)ue=a,ak(a),a=a.sibling;ue=s,Hu=l,en=u}n0(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,ue=a):n0(e)}}function n0(e){for(;ue!==null;){var t=ue;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:en||gh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!en)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:mr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&zw(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}zw(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&fc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}en||t.flags&512&&hg(t)}catch(h){pt(t,t.return,h)}}if(t===e){ue=null;break}if(n=t.sibling,n!==null){n.return=t.return,ue=n;break}ue=t.return}}function r0(e){for(;ue!==null;){var t=ue;if(t===e){ue=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ue=n;break}ue=t.return}}function s0(e){for(;ue!==null;){var t=ue;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{gh(4,t)}catch(c){pt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){pt(t,s,c)}}var a=t.return;try{hg(t)}catch(c){pt(t,a,c)}break;case 5:var o=t.return;try{hg(t)}catch(c){pt(t,o,c)}}}catch(c){pt(t,t.return,c)}if(t===e){ue=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ue=l;break}ue=t.return}}var VF=Math.ceil,af=Es.ReactCurrentDispatcher,ov=Es.ReactCurrentOwner,ar=Es.ReactCurrentBatchConfig,Qe=0,Dt=null,_t=null,qt=0,Dn=0,eo=_a(0),Rt=0,_c=null,oi=0,yh=0,lv=0,Zl=null,Sn=null,cv=0,Lo=1/0,us=null,of=!1,gg=null,sa=null,qu=!1,Zs=null,lf=0,Jl=0,yg=null,wd=-1,bd=0;function fn(){return Qe&6?xt():wd!==-1?wd:wd=xt()}function aa(e){return e.mode&1?Qe&2&&qt!==0?qt&-qt:CF.transition!==null?(bd===0&&(bd=UC()),bd):(e=Je,e!==0||(e=window.event,e=e===void 0?16:YC(e.type)),e):1}function Nr(e,t,n,r){if(50<Jl)throw Jl=0,yg=null,Error(G(185));Xc(e,n,r),(!(Qe&2)||e!==Dt)&&(e===Dt&&(!(Qe&2)&&(yh|=n),Rt===4&&zs(e,qt)),kn(e,r),n===1&&Qe===0&&!(t.mode&1)&&(Lo=xt()+500,hh&&Na()))}function kn(e,t){var n=e.callbackNode;CD(e,t);var r=Wd(e,e===Dt?qt:0);if(r===0)n!==null&&hw(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&hw(n),t===1)e.tag===0?NF(a0.bind(null,e)):pj(a0.bind(null,e)),wF(function(){!(Qe&6)&&Na()}),n=null;else{switch(WC(r)){case 1:n=Iy;break;case 4:n=BC;break;case 16:n=Ud;break;case 536870912:n=VC;break;default:n=Ud}n=hk(n,ik.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ik(e,t){if(wd=-1,bd=0,Qe&6)throw Error(G(327));var n=e.callbackNode;if(lo()&&e.callbackNode!==n)return null;var r=Wd(e,e===Dt?qt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=cf(e,r);else{t=r;var s=Qe;Qe|=2;var a=lk();(Dt!==e||qt!==t)&&(us=null,Lo=xt()+500,Ja(e,t));do try{HF();break}catch(l){ok(e,l)}while(!0);Ky(),af.current=a,Qe=s,_t!==null?t=0:(Dt=null,qt=0,t=Rt)}if(t!==0){if(t===2&&(s=Wp(e),s!==0&&(r=s,t=vg(e,s))),t===1)throw n=_c,Ja(e,0),zs(e,r),kn(e,xt()),n;if(t===6)zs(e,r);else{if(s=e.current.alternate,!(r&30)&&!UF(s)&&(t=cf(e,r),t===2&&(a=Wp(e),a!==0&&(r=a,t=vg(e,a))),t===1))throw n=_c,Ja(e,0),zs(e,r),kn(e,xt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(G(345));case 2:Ma(e,Sn,us);break;case 3:if(zs(e,r),(r&130023424)===r&&(t=cv+500-xt(),10<t)){if(Wd(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){fn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Zp(Ma.bind(null,e,Sn,us),t);break}Ma(e,Sn,us);break;case 4:if(zs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-_r(r);a=1<<o,o=t[o],o>s&&(s=o),r&=~a}if(r=s,r=xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*VF(r/1960))-r,10<r){e.timeoutHandle=Zp(Ma.bind(null,e,Sn,us),r);break}Ma(e,Sn,us);break;case 5:Ma(e,Sn,us);break;default:throw Error(G(329))}}}return kn(e,xt()),e.callbackNode===n?ik.bind(null,e):null}function vg(e,t){var n=Zl;return e.current.memoizedState.isDehydrated&&(Ja(e,t).flags|=256),e=cf(e,t),e!==2&&(t=Sn,Sn=n,t!==null&&xg(t)),e}function xg(e){Sn===null?Sn=e:Sn.push.apply(Sn,e)}function UF(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!kr(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zs(e,t){for(t&=~lv,t&=~yh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_r(t),r=1<<n;e[n]=-1,t&=~r}}function a0(e){if(Qe&6)throw Error(G(327));lo();var t=Wd(e,0);if(!(t&1))return kn(e,xt()),null;var n=cf(e,t);if(e.tag!==0&&n===2){var r=Wp(e);r!==0&&(t=r,n=vg(e,r))}if(n===1)throw n=_c,Ja(e,0),zs(e,t),kn(e,xt()),n;if(n===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ma(e,Sn,us),kn(e,xt()),null}function uv(e,t){var n=Qe;Qe|=1;try{return e(t)}finally{Qe=n,Qe===0&&(Lo=xt()+500,hh&&Na())}}function li(e){Zs!==null&&Zs.tag===0&&!(Qe&6)&&lo();var t=Qe;Qe|=1;var n=ar.transition,r=Je;try{if(ar.transition=null,Je=1,e)return e()}finally{Je=r,ar.transition=n,Qe=t,!(Qe&6)&&Na()}}function dv(){Dn=eo.current,it(eo)}function Ja(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xF(n)),_t!==null)for(n=_t.return;n!==null;){var r=n;switch(Hy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gd();break;case 3:Do(),it(Cn),it(tn),ev();break;case 5:Jy(r);break;case 4:Do();break;case 13:it(ut);break;case 19:it(ut);break;case 10:Gy(r.type._context);break;case 22:case 23:dv()}n=n.return}if(Dt=e,_t=e=ia(e.current,null),qt=Dn=t,Rt=0,_c=null,lv=yh=oi=0,Sn=Zl=null,za!==null){for(t=0;t<za.length;t++)if(n=za[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=s,r.next=o}n.pending=r}za=null}return e}function ok(e,t){do{var n=_t;try{if(Ky(),yd.current=sf,rf){for(var r=ft.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}rf=!1}if(ii=0,It=Pt=ft=null,Yl=!1,wc=0,ov.current=null,n===null||n.return===null){Rt=1,_c=t,_t=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=qt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=qw(o);if(p!==null){p.flags&=-257,Qw(p,o,l,a,t),p.mode&1&&Hw(a,u,t),t=p,c=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(c),t.updateQueue=y}else w.add(c);break e}else{if(!(t&1)){Hw(a,u,t),fv();break e}c=Error(G(426))}}else if(ot&&l.mode&1){var b=qw(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Qw(b,o,l,a,t),qy(Fo(c,l));break e}}a=c=Fo(c,l),Rt!==4&&(Rt=2),Zl===null?Zl=[a]:Zl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=Wj(a,c,t);$w(a,x);break e;case 1:l=c;var g=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(sa===null||!sa.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=Hj(a,l,t);$w(a,S);break e}}a=a.return}while(a!==null)}uk(n)}catch(_){t=_,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(!0)}function lk(){var e=af.current;return af.current=sf,e===null?sf:e}function fv(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Dt===null||!(oi&268435455)&&!(yh&268435455)||zs(Dt,qt)}function cf(e,t){var n=Qe;Qe|=2;var r=lk();(Dt!==e||qt!==t)&&(us=null,Ja(e,t));do try{WF();break}catch(s){ok(e,s)}while(!0);if(Ky(),Qe=n,af.current=r,_t!==null)throw Error(G(261));return Dt=null,qt=0,Rt}function WF(){for(;_t!==null;)ck(_t)}function HF(){for(;_t!==null&&!gD();)ck(_t)}function ck(e){var t=fk(e.alternate,e,Dn);e.memoizedProps=e.pendingProps,t===null?uk(e):_t=t,ov.current=null}function uk(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=LF(n,t),n!==null){n.flags&=32767,_t=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Rt=6,_t=null;return}}else if(n=FF(n,t,Dn),n!==null){_t=n;return}if(t=t.sibling,t!==null){_t=t;return}_t=t=e}while(t!==null);Rt===0&&(Rt=5)}function Ma(e,t,n){var r=Je,s=ar.transition;try{ar.transition=null,Je=1,qF(e,t,n,r)}finally{ar.transition=s,Je=r}return null}function qF(e,t,n,r){do lo();while(Zs!==null);if(Qe&6)throw Error(G(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(jD(e,a),e===Dt&&(_t=Dt=null,qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qu||(qu=!0,hk(Ud,function(){return lo(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ar.transition,ar.transition=null;var o=Je;Je=1;var l=Qe;Qe|=4,ov.current=null,zF(e,n),sk(n,e),fF(Yp),Hd=!!Gp,Yp=Gp=null,e.current=n,BF(n),yD(),Qe=l,Je=o,ar.transition=a}else e.current=n;if(qu&&(qu=!1,Zs=e,lf=s),a=e.pendingLanes,a===0&&(sa=null),wD(n.stateNode),kn(e,xt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(of)throw of=!1,e=gg,gg=null,e;return lf&1&&e.tag!==0&&lo(),a=e.pendingLanes,a&1?e===yg?Jl++:(Jl=0,yg=e):Jl=0,Na(),null}function lo(){if(Zs!==null){var e=WC(lf),t=ar.transition,n=Je;try{if(ar.transition=null,Je=16>e?16:e,Zs===null)var r=!1;else{if(e=Zs,Zs=null,lf=0,Qe&6)throw Error(G(331));var s=Qe;for(Qe|=4,ue=e.current;ue!==null;){var a=ue,o=a.child;if(ue.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ue=u;ue!==null;){var d=ue;switch(d.tag){case 0:case 11:case 15:Xl(8,d,a)}var f=d.child;if(f!==null)f.return=d,ue=f;else for(;ue!==null;){d=ue;var h=d.sibling,p=d.return;if(tk(d),d===u){ue=null;break}if(h!==null){h.return=p,ue=h;break}ue=p}}}var w=a.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ue=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ue=o;else e:for(;ue!==null;){if(a=ue,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Xl(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,ue=x;break e}ue=a.return}}var g=e.current;for(ue=g;ue!==null;){o=ue;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,ue=v;else e:for(o=g;ue!==null;){if(l=ue,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:gh(9,l)}}catch(_){pt(l,l.return,_)}if(l===o){ue=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,ue=S;break e}ue=l.return}}if(Qe=s,Na(),Qr&&typeof Qr.onPostCommitFiberRoot=="function")try{Qr.onPostCommitFiberRoot(lh,e)}catch{}r=!0}return r}finally{Je=n,ar.transition=t}}return!1}function i0(e,t,n){t=Fo(n,t),t=Wj(e,t,1),e=ra(e,t,1),t=fn(),e!==null&&(Xc(e,1,t),kn(e,t))}function pt(e,t,n){if(e.tag===3)i0(e,e,n);else for(;t!==null;){if(t.tag===3){i0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sa===null||!sa.has(r))){e=Fo(n,e),e=Hj(t,e,1),t=ra(t,e,1),e=fn(),t!==null&&(Xc(t,1,e),kn(t,e));break}}t=t.return}}function QF(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=fn(),e.pingedLanes|=e.suspendedLanes&n,Dt===e&&(qt&n)===n&&(Rt===4||Rt===3&&(qt&130023424)===qt&&500>xt()-cv?Ja(e,0):lv|=n),kn(e,t)}function dk(e,t){t===0&&(e.mode&1?(t=Du,Du<<=1,!(Du&130023424)&&(Du=4194304)):t=1);var n=fn();e=_s(e,t),e!==null&&(Xc(e,t,n),kn(e,n))}function KF(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dk(e,n)}function GF(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(t),dk(e,n)}var fk;fk=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Cn.current)Nn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Nn=!1,DF(e,t,n);Nn=!!(e.flags&131072)}else Nn=!1,ot&&t.flags&1048576&&gj(t,Zd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;xd(e,t),e=t.pendingProps;var s=Mo(t,tn.current);oo(t,n),s=nv(null,t,r,e,s,n);var a=rv();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jn(r)?(a=!0,Yd(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Xy(t),s.updater=ph,t.stateNode=s,s._reactInternals=t,ag(t,r,e,n),t=lg(null,t,r,!0,a,n)):(t.tag=0,ot&&a&&Wy(t),cn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(xd(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=XF(r),e=mr(r,e),s){case 0:t=og(null,t,r,e,n);break e;case 1:t=Yw(null,t,r,e,n);break e;case 11:t=Kw(null,t,r,e,n);break e;case 14:t=Gw(null,t,r,mr(r.type,e),n);break e}throw Error(G(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:mr(r,s),og(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:mr(r,s),Yw(e,t,r,s,n);case 3:e:{if(Gj(t),e===null)throw Error(G(387));r=t.pendingProps,a=t.memoizedState,s=a.element,Sj(e,t),tf(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Fo(Error(G(423)),t),t=Xw(e,t,r,n,s);break e}else if(r!==s){s=Fo(Error(G(424)),t),t=Xw(e,t,r,n,s);break e}else for(zn=na(t.stateNode.containerInfo.firstChild),Bn=t,ot=!0,vr=null,n=wj(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oo(),r===s){t=Ns(e,t,n);break e}cn(e,t,r,n)}t=t.child}return t;case 5:return _j(t),e===null&&ng(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,Xp(r,s)?o=null:a!==null&&Xp(r,a)&&(t.flags|=32),Kj(e,t),cn(e,t,o,n),t.child;case 6:return e===null&&ng(t),null;case 13:return Yj(e,t,n);case 4:return Zy(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Io(t,null,r,n):cn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:mr(r,s),Kw(e,t,r,s,n);case 7:return cn(e,t,t.pendingProps,n),t.child;case 8:return cn(e,t,t.pendingProps.children,n),t.child;case 12:return cn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,rt(Jd,r._currentValue),r._currentValue=o,a!==null)if(kr(a.value,o)){if(a.children===s.children&&!Cn.current){t=Ns(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=gs(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),rg(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(G(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),rg(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}cn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,oo(t,n),s=cr(s),r=r(s),t.flags|=1,cn(e,t,r,n),t.child;case 14:return r=t.type,s=mr(r,t.pendingProps),s=mr(r.type,s),Gw(e,t,r,s,n);case 15:return qj(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:mr(r,s),xd(e,t),t.tag=1,jn(r)?(e=!0,Yd(t)):e=!1,oo(t,n),Uj(t,r,s),ag(t,r,s,n),lg(null,t,r,!0,e,n);case 19:return Xj(e,t,n);case 22:return Qj(e,t,n)}throw Error(G(156,t.tag))};function hk(e,t){return zC(e,t)}function YF(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(e,t,n,r){return new YF(e,t,n,r)}function hv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function XF(e){if(typeof e=="function")return hv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ry)return 11;if(e===My)return 14}return 2}function ia(e,t){var n=e.alternate;return n===null?(n=rr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Sd(e,t,n,r,s,a){var o=2;if(r=e,typeof e=="function")hv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Wi:return ei(n.children,s,a,t);case Ay:o=8,s|=8;break;case Pp:return e=rr(12,n,t,s|2),e.elementType=Pp,e.lanes=a,e;case Tp:return e=rr(13,n,t,s),e.elementType=Tp,e.lanes=a,e;case Ap:return e=rr(19,n,t,s),e.elementType=Ap,e.lanes=a,e;case _C:return vh(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bC:o=10;break e;case SC:o=9;break e;case Ry:o=11;break e;case My:o=14;break e;case Fs:o=16,r=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=rr(o,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function ei(e,t,n,r){return e=rr(7,e,r,t),e.lanes=n,e}function vh(e,t,n,r){return e=rr(22,e,r,t),e.elementType=_C,e.lanes=n,e.stateNode={isHidden:!1},e}function qm(e,t,n){return e=rr(6,e,null,t),e.lanes=n,e}function Qm(e,t,n){return t=rr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ZF(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=km(0),this.expirationTimes=km(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=km(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function mv(e,t,n,r,s,a,o,l,c){return e=new ZF(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=rr(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xy(a),e}function JF(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ui,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function mk(e){if(!e)return da;e=e._reactInternals;e:{if(bi(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var n=e.type;if(jn(n))return mj(e,n,t)}return t}function pk(e,t,n,r,s,a,o,l,c){return e=mv(n,r,!0,e,s,a,o,l,c),e.context=mk(null),n=e.current,r=fn(),s=aa(n),a=gs(r,s),a.callback=t??null,ra(n,a,s),e.current.lanes=s,Xc(e,s,r),kn(e,r),e}function xh(e,t,n,r){var s=t.current,a=fn(),o=aa(s);return n=mk(n),t.context===null?t.context=n:t.pendingContext=n,t=gs(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ra(s,t,o),e!==null&&(Nr(e,s,o,a),gd(e,s,o)),o}function uf(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function o0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function pv(e,t){o0(e,t),(e=e.alternate)&&o0(e,t)}function e4(){return null}var gk=typeof reportError=="function"?reportError:function(e){console.error(e)};function gv(e){this._internalRoot=e}wh.prototype.render=gv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));xh(e,t,null,null)};wh.prototype.unmount=gv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;li(function(){xh(null,e,null,null)}),t[Ss]=null}};function wh(e){this._internalRoot=e}wh.prototype.unstable_scheduleHydration=function(e){if(e){var t=QC();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$s.length&&t!==0&&t<$s[n].priority;n++);$s.splice(n,0,e),n===0&&GC(e)}};function yv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function l0(){}function t4(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var u=uf(o);a.call(u)}}var o=pk(t,r,e,0,null,!1,!1,"",l0);return e._reactRootContainer=o,e[Ss]=o.current,pc(e.nodeType===8?e.parentNode:e),li(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=uf(c);l.call(u)}}var c=mv(e,0,!1,null,null,!1,!1,"",l0);return e._reactRootContainer=c,e[Ss]=c.current,pc(e.nodeType===8?e.parentNode:e),li(function(){xh(t,c,n,r)}),c}function Sh(e,t,n,r,s){var a=n._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=uf(o);l.call(c)}}xh(t,o,e,s)}else o=t4(n,t,e,s,r);return uf(o)}HC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=El(t.pendingLanes);n!==0&&(Dy(t,n|1),kn(t,xt()),!(Qe&6)&&(Lo=xt()+500,Na()))}break;case 13:li(function(){var r=_s(e,1);if(r!==null){var s=fn();Nr(r,e,1,s)}}),pv(e,1)}};Fy=function(e){if(e.tag===13){var t=_s(e,134217728);if(t!==null){var n=fn();Nr(t,e,134217728,n)}pv(e,134217728)}};qC=function(e){if(e.tag===13){var t=aa(e),n=_s(e,t);if(n!==null){var r=fn();Nr(n,e,t,r)}pv(e,t)}};QC=function(){return Je};KC=function(e,t){var n=Je;try{return Je=e,t()}finally{Je=n}};Bp=function(e,t,n){switch(t){case"input":if(Op(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=fh(r);if(!s)throw Error(G(90));CC(r),Op(r,s)}}}break;case"textarea":kC(e,n);break;case"select":t=n.value,t!=null&&ro(e,!!n.multiple,t,!1)}};OC=uv;IC=li;var n4={usingClientEntryPoint:!1,Events:[Jc,Ki,fh,RC,MC,uv]},vl={findFiberByHostInstance:$a,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r4={bundleType:vl.bundleType,version:vl.version,rendererPackageName:vl.rendererPackageName,rendererConfig:vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Es.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=LC(e),e===null?null:e.stateNode},findFiberByHostInstance:vl.findFiberByHostInstance||e4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{lh=Qu.inject(r4),Qr=Qu}catch{}}qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n4;qn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yv(t))throw Error(G(200));return JF(e,t,null,n)};qn.createRoot=function(e,t){if(!yv(e))throw Error(G(299));var n=!1,r="",s=gk;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=mv(e,1,!1,null,null,n,!1,r,s),e[Ss]=t.current,pc(e.nodeType===8?e.parentNode:e),new gv(t)};qn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=LC(t),e=e===null?null:e.stateNode,e};qn.flushSync=function(e){return li(e)};qn.hydrate=function(e,t,n){if(!bh(t))throw Error(G(200));return Sh(null,e,t,!0,n)};qn.hydrateRoot=function(e,t,n){if(!yv(e))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",o=gk;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=pk(t,null,e,1,n??null,s,!1,a,o),e[Ss]=t.current,pc(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new wh(t)};qn.render=function(e,t,n){if(!bh(t))throw Error(G(200));return Sh(null,e,t,!1,n)};qn.unmountComponentAtNode=function(e){if(!bh(e))throw Error(G(40));return e._reactRootContainer?(li(function(){Sh(null,null,e,!1,function(){e._reactRootContainer=null,e[Ss]=null})}),!0):!1};qn.unstable_batchedUpdates=uv;qn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!bh(n))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return Sh(e,t,n,!1,r)};qn.version="18.3.1-next-f1338f8080-20240426";function yk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yk)}catch(e){console.error(e)}}yk(),yC.exports=qn;var Ca=yC.exports;const s4=sC(Ca);var vk,c0=Ca;vk=c0.createRoot,c0.hydrateRoot;function a4(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,s,a,o=[],l="",c=e.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(o.push(n),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),a=s.indexOf(".",1),o.push(s.substring(1,~r?r:~a?a:s.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+s.substring(a))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var xk={exports:{}},wk={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $o=m;function i4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var o4=typeof Object.is=="function"?Object.is:i4,l4=$o.useState,c4=$o.useEffect,u4=$o.useLayoutEffect,d4=$o.useDebugValue;function f4(e,t){var n=t(),r=l4({inst:{value:n,getSnapshot:t}}),s=r[0].inst,a=r[1];return u4(function(){s.value=n,s.getSnapshot=t,Km(s)&&a({inst:s})},[e,n,t]),c4(function(){return Km(s)&&a({inst:s}),e(function(){Km(s)&&a({inst:s})})},[e]),d4(n),n}function Km(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o4(e,n)}catch{return!0}}function h4(e,t){return t()}var m4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h4:f4;wk.useSyncExternalStore=$o.useSyncExternalStore!==void 0?$o.useSyncExternalStore:m4;xk.exports=wk;var p4=xk.exports;const g4=pC.useInsertionEffect,y4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",v4=y4?m.useLayoutEffect:m.useEffect,x4=g4||v4,bk=e=>{const t=m.useRef([e,(...n)=>t[0](...n)]).current;return x4(()=>{t[0]=e}),t[1]},w4="popstate",vv="pushState",xv="replaceState",b4="hashchange",u0=[w4,vv,xv,b4],S4=e=>{for(const t of u0)addEventListener(t,e);return()=>{for(const t of u0)removeEventListener(t,e)}},Sk=(e,t)=>p4.useSyncExternalStore(S4,e,t),_4=()=>location.search,N4=({ssrSearch:e=""}={})=>Sk(_4,()=>e),d0=()=>location.pathname,C4=({ssrPath:e}={})=>Sk(d0,e?()=>e:d0),j4=(e,{replace:t=!1,state:n=null}={})=>history[t?xv:vv](n,"",e),k4=(e={})=>[C4(e),j4],f0=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[f0]>"u"){for(const e of[vv,xv]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,f0,{value:!0})}const E4=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",_k=(e="")=>e==="/"?"":e,P4=(e,t)=>e[0]==="~"?e.slice(1):_k(t)+e,T4=(e="",t)=>E4(h0(_k(e)),h0(t)),h0=e=>{try{return decodeURI(e)}catch{return e}},Nk={hook:k4,searchHook:N4,parser:a4,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},Ck=m.createContext(Nk),tu=()=>m.useContext(Ck),jk={},kk=m.createContext(jk),A4=()=>m.useContext(kk),_h=e=>{const[t,n]=e.hook(e);return[T4(e.base,t),bk((r,s)=>n(P4(r,e.base),s))]},Ek=()=>_h(tu()),Pk=(e,t,n,r)=>{const{pattern:s,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),o=s.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=a!==!1?Object.fromEntries(a.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...r?[l]:[]]:[!1,null]},R4=({children:e,...t})=>{var d,f;const n=tu(),r=t.hook?Nk:n;let s=r;const[a,o]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=m.useRef({}),c=l.current,u=c;for(let h in r){const p=h==="base"?r[h]+(t[h]||""):t[h]||r[h];c===u&&p!==u[h]&&(l.current=u={...u}),u[h]=p,p!==r[h]&&(s=u)}return m.createElement(Ck.Provider,{value:s,children:e})},m0=({children:e,component:t},n)=>t?m.createElement(t,{params:n}):typeof e=="function"?e(n):e,M4=e=>{let t=m.useRef(jk),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},Ei=({path:e,nest:t,match:n,...r})=>{const s=tu(),[a]=_h(s),[o,l,c]=n??Pk(s.parser,e,a,t),u=M4({...A4(),...l});if(!o)return null;const d=c?m.createElement(R4,{base:c},m0(r,u)):m0(r,u);return m.createElement(kk.Provider,{value:u,children:d})},O4=m.forwardRef((e,t)=>{const n=tu(),[r,s]=_h(n),{to:a="",href:o=a,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,...p}=e,w=bk(b=>{b.ctrlKey||b.metaKey||b.altKey||b.shiftKey||b.button!==0||(l==null||l(b),b.defaultPrevented||(b.preventDefault(),s(o,e)))}),y=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&m.isValidElement(u)?m.cloneElement(u,{onClick:w,href:y}):m.createElement("a",{...p,onClick:w,href:y,className:d!=null&&d.call?d(r===o):d,children:u,ref:t})}),Tk=e=>Array.isArray(e)?e.flatMap(t=>Tk(t&&t.type===m.Fragment?t.props.children:t)):[e],I4=({children:e,location:t})=>{const n=tu(),[r]=_h(n);for(const s of Tk(e)){let a=0;if(m.isValidElement(s)&&(a=Pk(n.parser,s.props.path,t||r,s.props.nest))[0])return m.cloneElement(s,{match:a})}return null};var Zo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ci=typeof window>"u"||"Deno"in globalThis;function Zn(){}function D4(e,t){return typeof e=="function"?e(t):e}function wg(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ak(e,t){return Math.max(e+(t||0)-Date.now(),0)}function co(e,t){return typeof e=="function"?e(t):e}function xr(e,t){return typeof e=="function"?e(t):e}function p0(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==wv(o,t.options))return!1}else if(!Nc(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function g0(e,t){const{exact:n,status:r,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(ui(t.options.mutationKey)!==ui(a))return!1}else if(!Nc(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function wv(e,t){return((t==null?void 0:t.queryKeyHashFn)||ui)(e)}function ui(e){return JSON.stringify(e,(t,n)=>bg(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Nc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Nc(e[n],t[n])):!1}function Rk(e,t){if(e===t)return e;const n=y0(e)&&y0(t);if(n||bg(e)&&bg(t)){const r=n?e:Object.keys(e),s=r.length,a=n?t:Object.keys(t),o=a.length,l=n?[]:{};let c=0;for(let u=0;u<o;u++){const d=n?u:a[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=Rk(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===o&&c===s?e:l}return t}function df(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function y0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function bg(e){if(!v0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!v0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function v0(e){return Object.prototype.toString.call(e)==="[object Object]"}function F4(e){return new Promise(t=>{setTimeout(t,e)})}function Sg(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Rk(e,t):t}function L4(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function $4(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var bv=Symbol();function Mk(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===bv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var qa,Vs,xo,fS,z4=(fS=class extends Zo{constructor(){super();xe(this,qa);xe(this,Vs);xe(this,xo);ie(this,xo,t=>{if(!ci&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){A(this,Vs)||this.setEventListener(A(this,xo))}onUnsubscribe(){var t;this.hasListeners()||((t=A(this,Vs))==null||t.call(this),ie(this,Vs,void 0))}setEventListener(t){var n;ie(this,xo,t),(n=A(this,Vs))==null||n.call(this),ie(this,Vs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){A(this,qa)!==t&&(ie(this,qa,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof A(this,qa)=="boolean"?A(this,qa):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},qa=new WeakMap,Vs=new WeakMap,xo=new WeakMap,fS),Sv=new z4,wo,Us,bo,hS,B4=(hS=class extends Zo{constructor(){super();xe(this,wo,!0);xe(this,Us);xe(this,bo);ie(this,bo,t=>{if(!ci&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){A(this,Us)||this.setEventListener(A(this,bo))}onUnsubscribe(){var t;this.hasListeners()||((t=A(this,Us))==null||t.call(this),ie(this,Us,void 0))}setEventListener(t){var n;ie(this,bo,t),(n=A(this,Us))==null||n.call(this),ie(this,Us,t(this.setOnline.bind(this)))}setOnline(t){A(this,wo)!==t&&(ie(this,wo,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return A(this,wo)}},wo=new WeakMap,Us=new WeakMap,bo=new WeakMap,hS),ff=new B4;function _g(){let e,t;const n=new Promise((s,a)=>{e=s,t=a});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function V4(e){return Math.min(1e3*2**e,3e4)}function Ok(e){return(e??"online")==="online"?ff.isOnline():!0}var Ik=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Gm(e){return e instanceof Ik}function Dk(e){let t=!1,n=0,r=!1,s;const a=_g(),o=y=>{var b;r||(h(new Ik(y)),(b=e.abort)==null||b.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>Sv.isFocused()&&(e.networkMode==="always"||ff.isOnline())&&e.canRun(),d=()=>Ok(e.networkMode)&&e.canRun(),f=y=>{var b;r||(r=!0,(b=e.onSuccess)==null||b.call(e,y),s==null||s(),a.resolve(y))},h=y=>{var b;r||(r=!0,(b=e.onError)==null||b.call(e,y),s==null||s(),a.reject(y))},p=()=>new Promise(y=>{var b;s=x=>{(r||u())&&y(x)},(b=e.onPause)==null||b.call(e)}).then(()=>{var y;s=void 0,r||(y=e.onContinue)==null||y.call(e)}),w=()=>{if(r)return;let y;const b=n===0?e.initialPromise:void 0;try{y=b??e.fn()}catch(x){y=Promise.reject(x)}Promise.resolve(y).then(f).catch(x=>{var j;if(r)return;const g=e.retry??(ci?0:3),v=e.retryDelay??V4,S=typeof v=="function"?v(n,x):v,_=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,x);if(t||!_){h(x);return}n++,(j=e.onFail)==null||j.call(e,n,x),F4(S).then(()=>u()?void 0:p()).then(()=>{t?h(x):w()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?w():p().then(w),a)}}function U4(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{t?e.push(l):s(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Tt=U4(),Qa,mS,Fk=(mS=class{constructor(){xe(this,Qa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),wg(this.gcTime)&&ie(this,Qa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ci?1/0:5*60*1e3))}clearGcTimeout(){A(this,Qa)&&(clearTimeout(A(this,Qa)),ie(this,Qa,void 0))}},Qa=new WeakMap,mS),So,_o,Xn,Jt,qc,Ka,gr,os,pS,W4=(pS=class extends Fk{constructor(t){super();xe(this,gr);xe(this,So);xe(this,_o);xe(this,Xn);xe(this,Jt);xe(this,qc);xe(this,Ka);ie(this,Ka,!1),ie(this,qc,t.defaultOptions),this.setOptions(t.options),this.observers=[],ie(this,Xn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ie(this,So,H4(this.options)),this.state=t.state??A(this,So),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=A(this,Jt))==null?void 0:t.promise}setOptions(t){this.options={...A(this,qc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&A(this,Xn).remove(this)}setData(t,n){const r=Sg(this.state.data,t,this.options);return De(this,gr,os).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){De(this,gr,os).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=A(this,Jt))==null?void 0:r.promise;return(s=A(this,Jt))==null||s.cancel(t),n?n.then(Zn).catch(Zn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(A(this,So))}isActive(){return this.observers.some(t=>xr(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Ak(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=A(this,Jt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=A(this,Jt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),A(this,Xn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(A(this,Jt)&&(A(this,Ka)?A(this,Jt).cancel({revert:!0}):A(this,Jt).cancelRetry()),this.scheduleGc()),A(this,Xn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||De(this,gr,os).call(this,{type:"invalidate"})}fetch(t,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(A(this,Jt))return A(this,Jt).continueRetry(),A(this,Jt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ie(this,Ka,!0),r.signal)})},a=()=>{const f=Mk(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return s(h),ie(this,Ka,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),ie(this,_o,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&De(this,gr,os).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,p,w,y;Gm(f)&&f.silent||De(this,gr,os).call(this,{type:"error",error:f}),Gm(f)||((p=(h=A(this,Xn).config).onError)==null||p.call(h,f,this),(y=(w=A(this,Xn).config).onSettled)==null||y.call(w,this.state.data,f,this)),this.scheduleGc()};return ie(this,Jt,Dk({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,p,w,y;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(b){l(b);return}(p=(h=A(this,Xn).config).onSuccess)==null||p.call(h,f,this),(y=(w=A(this,Xn).config).onSettled)==null||y.call(w,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{De(this,gr,os).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{De(this,gr,os).call(this,{type:"pause"})},onContinue:()=>{De(this,gr,os).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),A(this,Jt).start()}},So=new WeakMap,_o=new WeakMap,Xn=new WeakMap,Jt=new WeakMap,qc=new WeakMap,Ka=new WeakMap,gr=new WeakSet,os=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Lk(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Gm(s)&&s.revert&&A(this,_o)?{...A(this,_o),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Tt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),A(this,Xn).notify({query:this,type:"updated",action:t})})},pS);function Lk(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ok(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function H4(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $r,gS,q4=(gS=class extends Zo{constructor(t={}){super();xe(this,$r);this.config=t,ie(this,$r,new Map)}build(t,n,r){const s=n.queryKey,a=n.queryHash??wv(s,n);let o=this.get(a);return o||(o=new W4({cache:this,queryKey:s,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){A(this,$r).has(t.queryHash)||(A(this,$r).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=A(this,$r).get(t.queryHash);n&&(t.destroy(),n===t&&A(this,$r).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Tt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return A(this,$r).get(t)}getAll(){return[...A(this,$r).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>p0(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>p0(t,r)):n}notify(t){Tt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Tt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Tt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},$r=new WeakMap,gS),zr,an,Ga,Br,Is,yS,Q4=(yS=class extends Fk{constructor(t){super();xe(this,Br);xe(this,zr);xe(this,an);xe(this,Ga);this.mutationId=t.mutationId,ie(this,an,t.mutationCache),ie(this,zr,[]),this.state=t.state||$k(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){A(this,zr).includes(t)||(A(this,zr).push(t),this.clearGcTimeout(),A(this,an).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ie(this,zr,A(this,zr).filter(n=>n!==t)),this.scheduleGc(),A(this,an).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){A(this,zr).length||(this.state.status==="pending"?this.scheduleGc():A(this,an).remove(this))}continue(){var t;return((t=A(this,Ga))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,a,o,l,c,u,d,f,h,p,w,y,b,x,g,v,S,_,j,N;ie(this,Ga,Dk({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(E,P)=>{De(this,Br,Is).call(this,{type:"failed",failureCount:E,error:P})},onPause:()=>{De(this,Br,Is).call(this,{type:"pause"})},onContinue:()=>{De(this,Br,Is).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>A(this,an).canRun(this)}));const n=this.state.status==="pending",r=!A(this,Ga).canStart();try{if(!n){De(this,Br,Is).call(this,{type:"pending",variables:t,isPaused:r}),await((a=(s=A(this,an).config).onMutate)==null?void 0:a.call(s,t,this));const P=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));P!==this.state.context&&De(this,Br,Is).call(this,{type:"pending",context:P,variables:t,isPaused:r})}const E=await A(this,Ga).start();return await((u=(c=A(this,an).config).onSuccess)==null?void 0:u.call(c,E,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,E,t,this.state.context)),await((p=(h=A(this,an).config).onSettled)==null?void 0:p.call(h,E,null,this.state.variables,this.state.context,this)),await((y=(w=this.options).onSettled)==null?void 0:y.call(w,E,null,t,this.state.context)),De(this,Br,Is).call(this,{type:"success",data:E}),E}catch(E){try{throw await((x=(b=A(this,an).config).onError)==null?void 0:x.call(b,E,t,this.state.context,this)),await((v=(g=this.options).onError)==null?void 0:v.call(g,E,t,this.state.context)),await((_=(S=A(this,an).config).onSettled)==null?void 0:_.call(S,void 0,E,this.state.variables,this.state.context,this)),await((N=(j=this.options).onSettled)==null?void 0:N.call(j,void 0,E,t,this.state.context)),E}finally{De(this,Br,Is).call(this,{type:"error",error:E})}}finally{A(this,an).runNext(this)}}},zr=new WeakMap,an=new WeakMap,Ga=new WeakMap,Br=new WeakSet,Is=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Tt.batch(()=>{A(this,zr).forEach(r=>{r.onMutationUpdate(t)}),A(this,an).notify({mutation:this,type:"updated",action:t})})},yS);function $k(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var In,Qc,vS,K4=(vS=class extends Zo{constructor(t={}){super();xe(this,In);xe(this,Qc);this.config=t,ie(this,In,new Map),ie(this,Qc,Date.now())}build(t,n,r){const s=new Q4({mutationCache:this,mutationId:++Tu(this,Qc)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){const n=Ku(t),r=A(this,In).get(n)??[];r.push(t),A(this,In).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Ku(t);if(A(this,In).has(n)){const s=(r=A(this,In).get(n))==null?void 0:r.filter(a=>a!==t);s&&(s.length===0?A(this,In).delete(n):A(this,In).set(n,s))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=A(this,In).get(Ku(t)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=A(this,In).get(Ku(t)))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Tt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...A(this,In).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>g0(n,r))}findAll(t={}){return this.getAll().filter(n=>g0(t,n))}notify(t){Tt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Tt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Zn))))}},In=new WeakMap,Qc=new WeakMap,vS);function Ku(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function x0(e){return{onFetch:(t,n)=>{var d,f,h,p,w;const r=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((p=t.state.data)==null?void 0:p.pages)||[],o=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const b=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},x=Mk(t.options,t.fetchOptions),g=async(v,S,_)=>{if(y)return Promise.reject();if(S==null&&v.pages.length)return Promise.resolve(v);const j={queryKey:t.queryKey,pageParam:S,direction:_?"backward":"forward",meta:t.options.meta};b(j);const N=await x(j),{maxPages:E}=t.options,P=_?$4:L4;return{pages:P(v.pages,N,E),pageParams:P(v.pageParams,S,E)}};if(s&&a.length){const v=s==="backward",S=v?G4:w0,_={pages:a,pageParams:o},j=S(r,_);l=await g(_,j,v)}else{const v=e??a.length;do{const S=c===0?o[0]??r.initialPageParam:w0(r,l);if(c>0&&S==null)break;l=await g(l,S),c++}while(c<v)}return l};t.options.persister?t.fetchFn=()=>{var y,b;return(b=(y=t.options).persister)==null?void 0:b.call(y,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function w0(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function G4(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var mt,Ws,Hs,No,Co,qs,jo,ko,xS,Y4=(xS=class{constructor(e={}){xe(this,mt);xe(this,Ws);xe(this,Hs);xe(this,No);xe(this,Co);xe(this,qs);xe(this,jo);xe(this,ko);ie(this,mt,e.queryCache||new q4),ie(this,Ws,e.mutationCache||new K4),ie(this,Hs,e.defaultOptions||{}),ie(this,No,new Map),ie(this,Co,new Map),ie(this,qs,0)}mount(){Tu(this,qs)._++,A(this,qs)===1&&(ie(this,jo,Sv.subscribe(async e=>{e&&(await this.resumePausedMutations(),A(this,mt).onFocus())})),ie(this,ko,ff.subscribe(async e=>{e&&(await this.resumePausedMutations(),A(this,mt).onOnline())})))}unmount(){var e,t;Tu(this,qs)._--,A(this,qs)===0&&((e=A(this,jo))==null||e.call(this),ie(this,jo,void 0),(t=A(this,ko))==null||t.call(this),ie(this,ko,void 0))}isFetching(e){return A(this,mt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return A(this,Ws).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=A(this,mt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=A(this,mt).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(co(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return A(this,mt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=A(this,mt).get(r.queryHash),a=s==null?void 0:s.state.data,o=D4(t,a);if(o!==void 0)return A(this,mt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Tt.batch(()=>A(this,mt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=A(this,mt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=A(this,mt);Tt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=A(this,mt),r={type:"active",...e};return Tt.batch(()=>(n.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Tt.batch(()=>A(this,mt).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Zn).catch(Zn)}invalidateQueries(e={},t={}){return Tt.batch(()=>{if(A(this,mt).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Tt.batch(()=>A(this,mt).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,n);return n.throwOnError||(a=a.catch(Zn)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(Zn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=A(this,mt).build(this,t);return n.isStaleByTime(co(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Zn).catch(Zn)}fetchInfiniteQuery(e){return e.behavior=x0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Zn).catch(Zn)}ensureInfiniteQueryData(e){return e.behavior=x0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ff.isOnline()?A(this,Ws).resumePausedMutations():Promise.resolve()}getQueryCache(){return A(this,mt)}getMutationCache(){return A(this,Ws)}getDefaultOptions(){return A(this,Hs)}setDefaultOptions(e){ie(this,Hs,e)}setQueryDefaults(e,t){A(this,No).set(ui(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...A(this,No).values()];let n={};return t.forEach(r=>{Nc(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){A(this,Co).set(ui(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...A(this,Co).values()];let n={};return t.forEach(r=>{Nc(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...A(this,Hs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=wv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===bv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...A(this,Hs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){A(this,mt).clear(),A(this,Ws).clear()}},mt=new WeakMap,Ws=new WeakMap,Hs=new WeakMap,No=new WeakMap,Co=new WeakMap,qs=new WeakMap,jo=new WeakMap,ko=new WeakMap,xS),vn,Be,Kc,on,Ya,Eo,Qs,Vr,Gc,Po,To,Xa,Za,Ks,Ao,Xe,Tl,Ng,Cg,jg,kg,Eg,Pg,Tg,zk,wS,X4=(wS=class extends Zo{constructor(t,n){super();xe(this,Xe);xe(this,vn);xe(this,Be);xe(this,Kc);xe(this,on);xe(this,Ya);xe(this,Eo);xe(this,Qs);xe(this,Vr);xe(this,Gc);xe(this,Po);xe(this,To);xe(this,Xa);xe(this,Za);xe(this,Ks);xe(this,Ao,new Set);this.options=n,ie(this,vn,t),ie(this,Vr,null),ie(this,Qs,_g()),this.options.experimental_prefetchInRender||A(this,Qs).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(A(this,Be).addObserver(this),b0(A(this,Be),this.options)?De(this,Xe,Tl).call(this):this.updateResult(),De(this,Xe,kg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ag(A(this,Be),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ag(A(this,Be),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,De(this,Xe,Eg).call(this),De(this,Xe,Pg).call(this),A(this,Be).removeObserver(this)}setOptions(t,n){const r=this.options,s=A(this,Be);if(this.options=A(this,vn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xr(this.options.enabled,A(this,Be))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");De(this,Xe,Tg).call(this),A(this,Be).setOptions(this.options),r._defaulted&&!df(this.options,r)&&A(this,vn).getQueryCache().notify({type:"observerOptionsUpdated",query:A(this,Be),observer:this});const a=this.hasListeners();a&&S0(A(this,Be),s,this.options,r)&&De(this,Xe,Tl).call(this),this.updateResult(n),a&&(A(this,Be)!==s||xr(this.options.enabled,A(this,Be))!==xr(r.enabled,A(this,Be))||co(this.options.staleTime,A(this,Be))!==co(r.staleTime,A(this,Be)))&&De(this,Xe,Ng).call(this);const o=De(this,Xe,Cg).call(this);a&&(A(this,Be)!==s||xr(this.options.enabled,A(this,Be))!==xr(r.enabled,A(this,Be))||o!==A(this,Ks))&&De(this,Xe,jg).call(this,o)}getOptimisticResult(t){const n=A(this,vn).getQueryCache().build(A(this,vn),t),r=this.createResult(n,t);return J4(this,r)&&(ie(this,on,r),ie(this,Eo,this.options),ie(this,Ya,A(this,Be).state)),r}getCurrentResult(){return A(this,on)}trackResult(t,n){const r={};return Object.keys(t).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),t[s])})}),r}trackProp(t){A(this,Ao).add(t)}getCurrentQuery(){return A(this,Be)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=A(this,vn).defaultQueryOptions(t),r=A(this,vn).getQueryCache().build(A(this,vn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return De(this,Xe,Tl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),A(this,on)))}createResult(t,n){var E;const r=A(this,Be),s=this.options,a=A(this,on),o=A(this,Ya),l=A(this,Eo),u=t!==r?t.state:A(this,Kc),{state:d}=t;let f={...d},h=!1,p;if(n._optimisticResults){const P=this.hasListeners(),I=!P&&b0(t,n),k=P&&S0(t,r,n,s);(I||k)&&(f={...f,...Lk(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:w,errorUpdatedAt:y,status:b}=f;if(n.select&&f.data!==void 0)if(a&&f.data===(o==null?void 0:o.data)&&n.select===A(this,Gc))p=A(this,Po);else try{ie(this,Gc,n.select),p=n.select(f.data),p=Sg(a==null?void 0:a.data,p,n),ie(this,Po,p),ie(this,Vr,null)}catch(P){ie(this,Vr,P)}else p=f.data;if(n.placeholderData!==void 0&&p===void 0&&b==="pending"){let P;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))P=a.data;else if(P=typeof n.placeholderData=="function"?n.placeholderData((E=A(this,To))==null?void 0:E.state.data,A(this,To)):n.placeholderData,n.select&&P!==void 0)try{P=n.select(P),ie(this,Vr,null)}catch(I){ie(this,Vr,I)}P!==void 0&&(b="success",p=Sg(a==null?void 0:a.data,P,n),h=!0)}A(this,Vr)&&(w=A(this,Vr),p=A(this,Po),y=Date.now(),b="error");const x=f.fetchStatus==="fetching",g=b==="pending",v=b==="error",S=g&&x,_=p!==void 0,N={status:b,fetchStatus:f.fetchStatus,isPending:g,isSuccess:b==="success",isError:v,isInitialLoading:S,isLoading:S,data:p,dataUpdatedAt:f.dataUpdatedAt,error:w,errorUpdatedAt:y,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!g,isLoadingError:v&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:v&&_,isStale:_v(t,n),refetch:this.refetch,promise:A(this,Qs)};if(this.options.experimental_prefetchInRender){const P=R=>{N.status==="error"?R.reject(N.error):N.data!==void 0&&R.resolve(N.data)},I=()=>{const R=ie(this,Qs,N.promise=_g());P(R)},k=A(this,Qs);switch(k.status){case"pending":t.queryHash===r.queryHash&&P(k);break;case"fulfilled":(N.status==="error"||N.data!==k.value)&&I();break;case"rejected":(N.status!=="error"||N.error!==k.reason)&&I();break}}return N}updateResult(t){const n=A(this,on),r=this.createResult(A(this,Be),this.options);if(ie(this,Ya,A(this,Be).state),ie(this,Eo,this.options),A(this,Ya).data!==void 0&&ie(this,To,A(this,Be)),df(r,n))return;ie(this,on,r);const s={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!A(this,Ao).size)return!0;const c=new Set(l??A(this,Ao));return this.options.throwOnError&&c.add("error"),Object.keys(A(this,on)).some(u=>{const d=u;return A(this,on)[d]!==n[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&a()&&(s.listeners=!0),De(this,Xe,zk).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&De(this,Xe,kg).call(this)}},vn=new WeakMap,Be=new WeakMap,Kc=new WeakMap,on=new WeakMap,Ya=new WeakMap,Eo=new WeakMap,Qs=new WeakMap,Vr=new WeakMap,Gc=new WeakMap,Po=new WeakMap,To=new WeakMap,Xa=new WeakMap,Za=new WeakMap,Ks=new WeakMap,Ao=new WeakMap,Xe=new WeakSet,Tl=function(t){De(this,Xe,Tg).call(this);let n=A(this,Be).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Zn)),n},Ng=function(){De(this,Xe,Eg).call(this);const t=co(this.options.staleTime,A(this,Be));if(ci||A(this,on).isStale||!wg(t))return;const r=Ak(A(this,on).dataUpdatedAt,t)+1;ie(this,Xa,setTimeout(()=>{A(this,on).isStale||this.updateResult()},r))},Cg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(A(this,Be)):this.options.refetchInterval)??!1},jg=function(t){De(this,Xe,Pg).call(this),ie(this,Ks,t),!(ci||xr(this.options.enabled,A(this,Be))===!1||!wg(A(this,Ks))||A(this,Ks)===0)&&ie(this,Za,setInterval(()=>{(this.options.refetchIntervalInBackground||Sv.isFocused())&&De(this,Xe,Tl).call(this)},A(this,Ks)))},kg=function(){De(this,Xe,Ng).call(this),De(this,Xe,jg).call(this,De(this,Xe,Cg).call(this))},Eg=function(){A(this,Xa)&&(clearTimeout(A(this,Xa)),ie(this,Xa,void 0))},Pg=function(){A(this,Za)&&(clearInterval(A(this,Za)),ie(this,Za,void 0))},Tg=function(){const t=A(this,vn).getQueryCache().build(A(this,vn),this.options);if(t===A(this,Be))return;const n=A(this,Be);ie(this,Be,t),ie(this,Kc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},zk=function(t){Tt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(A(this,on))}),A(this,vn).getQueryCache().notify({query:A(this,Be),type:"observerResultsUpdated"})})},wS);function Z4(e,t){return xr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function b0(e,t){return Z4(e,t)||e.state.data!==void 0&&Ag(e,t,t.refetchOnMount)}function Ag(e,t,n){if(xr(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&_v(e,t)}return!1}function S0(e,t,n,r){return(e!==t||xr(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&_v(e,n)}function _v(e,t){return xr(t.enabled,e)!==!1&&e.isStaleByTime(co(t.staleTime,e))}function J4(e,t){return!df(e.getCurrentResult(),t)}var Gs,Ys,xn,hs,ws,_d,Rg,bS,eL=(bS=class extends Zo{constructor(n,r){super();xe(this,ws);xe(this,Gs);xe(this,Ys);xe(this,xn);xe(this,hs);ie(this,Gs,n),this.setOptions(r),this.bindMethods(),De(this,ws,_d).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=A(this,Gs).defaultMutationOptions(n),df(this.options,r)||A(this,Gs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:A(this,xn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ui(r.mutationKey)!==ui(this.options.mutationKey)?this.reset():((s=A(this,xn))==null?void 0:s.state.status)==="pending"&&A(this,xn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=A(this,xn))==null||n.removeObserver(this)}onMutationUpdate(n){De(this,ws,_d).call(this),De(this,ws,Rg).call(this,n)}getCurrentResult(){return A(this,Ys)}reset(){var n;(n=A(this,xn))==null||n.removeObserver(this),ie(this,xn,void 0),De(this,ws,_d).call(this),De(this,ws,Rg).call(this)}mutate(n,r){var s;return ie(this,hs,r),(s=A(this,xn))==null||s.removeObserver(this),ie(this,xn,A(this,Gs).getMutationCache().build(A(this,Gs),this.options)),A(this,xn).addObserver(this),A(this,xn).execute(n)}},Gs=new WeakMap,Ys=new WeakMap,xn=new WeakMap,hs=new WeakMap,ws=new WeakSet,_d=function(){var r;const n=((r=A(this,xn))==null?void 0:r.state)??$k();ie(this,Ys,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Rg=function(n){Tt.batch(()=>{var r,s,a,o,l,c,u,d;if(A(this,hs)&&this.hasListeners()){const f=A(this,Ys).variables,h=A(this,Ys).context;(n==null?void 0:n.type)==="success"?((s=(r=A(this,hs)).onSuccess)==null||s.call(r,n.data,f,h),(o=(a=A(this,hs)).onSettled)==null||o.call(a,n.data,null,f,h)):(n==null?void 0:n.type)==="error"&&((c=(l=A(this,hs)).onError)==null||c.call(l,n.error,f,h),(d=(u=A(this,hs)).onSettled)==null||d.call(u,void 0,n.error,f,h))}this.listeners.forEach(f=>{f(A(this,Ys))})})},bS),Bk=m.createContext(void 0),es=e=>{const t=m.useContext(Bk);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},tL=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(Bk.Provider,{value:e,children:t})),Vk=m.createContext(!1),nL=()=>m.useContext(Vk);Vk.Provider;function rL(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var sL=m.createContext(rL()),aL=()=>m.useContext(sL);function Uk(e,t){return typeof e=="function"?e(...t):!!e}function Mg(){}var iL=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},oL=e=>{m.useEffect(()=>{e.clearReset()},[e])},lL=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&Uk(n,[e.error,r]),cL=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},uL=(e,t)=>e.isLoading&&e.isFetching&&!t,dL=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,_0=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function fL(e,t,n){var d,f,h,p,w;const r=es(),s=nL(),a=aL(),o=r.defaultQueryOptions(e);(f=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=s?"isRestoring":"optimistic",cL(o),iL(o,a),oL(a);const l=!r.getQueryCache().get(o.queryHash),[c]=m.useState(()=>new t(r,o)),u=c.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(y=>{const b=s?Mg:c.subscribe(Tt.batchCalls(y));return c.updateResult(),b},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),dL(o,u))throw _0(o,c,a);if(lL({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw u.error;if((p=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,o,u),o.experimental_prefetchInRender&&!ci&&uL(u,s)){const y=l?_0(o,c,a):(w=r.getQueryCache().get(o.queryHash))==null?void 0:w.promise;y==null||y.catch(Mg).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function En(e,t){return fL(e,X4)}function St(e,t){const n=es(),[r]=m.useState(()=>new eL(n,e));m.useEffect(()=>{r.setOptions(e)},[r,e]);const s=m.useSyncExternalStore(m.useCallback(o=>r.subscribe(Tt.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=m.useCallback((o,l)=>{r.mutate(o,l).catch(Mg)},[r]);if(s.error&&Uk(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}async function Wk(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function er(e,t,n){const r=await fetch(t,{method:e,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await Wk(r),r}const hL=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await Wk(n),await n.json())},Hk=new Y4({defaultOptions:{queries:{queryFn:hL({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),mL=1,pL=1e6;let Ym=0;function gL(){return Ym=(Ym+1)%Number.MAX_SAFE_INTEGER,Ym.toString()}const Xm=new Map,N0=e=>{if(Xm.has(e))return;const t=setTimeout(()=>{Xm.delete(e),ec({type:"REMOVE_TOAST",toastId:e})},pL);Xm.set(e,t)},yL=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,mL)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?N0(n):e.toasts.forEach(r=>{N0(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Nd=[];let Cd={toasts:[]};function ec(e){Cd=yL(Cd,e),Nd.forEach(t=>{t(Cd)})}function vL({...e}){const t=gL(),n=s=>ec({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>ec({type:"DISMISS_TOAST",toastId:t});return ec({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function ja(){const[e,t]=m.useState(Cd);return m.useEffect(()=>(Nd.push(t),()=>{const n=Nd.indexOf(t);n>-1&&Nd.splice(n,1)}),[e]),{...e,toast:vL,dismiss:n=>ec({type:"DISMISS_TOAST",toastId:n})}}function Y(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function C0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Nh(...e){return t=>{let n=!1;const r=e.map(s=>{const a=C0(s,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():C0(e[s],null)}}}}function Ie(...e){return m.useCallback(Nh(...e),e)}function xL(e,t){const n=m.createContext(t),r=a=>{const{children:o,...l}=a,c=m.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function s(a){const o=m.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,s]}function gn(e,t=[]){let n=[];function r(a,o){const l=m.createContext(o),c=n.length;n=[...n,o];const u=f=>{var x;const{scope:h,children:p,...w}=f,y=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,b=m.useMemo(()=>w,Object.values(w));return i.jsx(y.Provider,{value:b,children:p})};u.displayName=a+"Provider";function d(f,h){var y;const p=((y=h==null?void 0:h[e])==null?void 0:y[c])||l,w=m.useContext(p);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=n.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,wL(s,...t)]}function wL(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function fa(e){const t=bL(e),n=m.forwardRef((r,s)=>{const{children:a,...o}=r,l=m.Children.toArray(a),c=l.find(_L);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return n.displayName=`${e}.Slot`,n}var Ch=fa("Slot");function bL(e){const t=m.forwardRef((n,r)=>{const{children:s,...a}=n;if(m.isValidElement(s)){const o=CL(s),l=NL(a,s.props);return s.type!==m.Fragment&&(l.ref=r?Nh(r,o):o),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var qk=Symbol("radix.slottable");function SL(e){const t=({children:n})=>i.jsx(i.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=qk,t}function _L(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qk}function NL(e,t){const n={...t};for(const r in t){const s=e[r],a=t[r];/^on[A-Z]/.test(r)?s&&a?n[r]=(...l)=>{a(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...a}:r==="className"&&(n[r]=[s,a].filter(Boolean).join(" "))}return{...e,...n}}function CL(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function jh(e){const t=e+"CollectionProvider",[n,r]=gn(t),[s,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:b,children:x}=y,g=Te.useRef(null),v=Te.useRef(new Map).current;return i.jsx(s,{scope:b,itemMap:v,collectionRef:g,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=fa(l),u=Te.forwardRef((y,b)=>{const{scope:x,children:g}=y,v=a(l,x),S=Ie(b,v.collectionRef);return i.jsx(c,{ref:S,children:g})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=fa(d),p=Te.forwardRef((y,b)=>{const{scope:x,children:g,...v}=y,S=Te.useRef(null),_=Ie(b,S),j=a(d,x);return Te.useEffect(()=>(j.itemMap.set(S,{ref:S,...v}),()=>void j.itemMap.delete(S))),i.jsx(h,{[f]:"",ref:_,children:g})});p.displayName=d;function w(y){const b=a(e+"CollectionConsumer",y);return Te.useCallback(()=>{const g=b.collectionRef.current;if(!g)return[];const v=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((j,N)=>v.indexOf(j.ref.current)-v.indexOf(N.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},w,r]}var jL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],he=jL.reduce((e,t)=>{const n=fa(`Primitive.${t}`),r=m.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Nv(e,t){e&&Ca.flushSync(()=>e.dispatchEvent(t))}function dt(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function kL(e,t=globalThis==null?void 0:globalThis.document){const n=dt(e);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var EL="DismissableLayer",Og="dismissableLayer.update",PL="dismissableLayer.pointerDownOutside",TL="dismissableLayer.focusOutside",j0,Qk=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Si=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=m.useContext(Qk),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),w=Ie(t,N=>f(N)),y=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(b),g=d?y.indexOf(d):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,S=g>=x,_=RL(N=>{const E=N.target,P=[...u.branches].some(I=>I.contains(E));!S||P||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},h),j=ML(N=>{const E=N.target;[...u.branches].some(I=>I.contains(E))||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},h);return kL(N=>{g===u.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(j0=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),k0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=j0)}},[d,h,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),k0())},[d,u]),m.useEffect(()=>{const N=()=>p({});return document.addEventListener(Og,N),()=>document.removeEventListener(Og,N)},[]),i.jsx(he.div,{...c,ref:w,style:{pointerEvents:v?S?"auto":"none":void 0,...e.style},onFocusCapture:Y(e.onFocusCapture,j.onFocusCapture),onBlurCapture:Y(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Y(e.onPointerDownCapture,_.onPointerDownCapture)})});Si.displayName=EL;var AL="DismissableLayerBranch",Kk=m.forwardRef((e,t)=>{const n=m.useContext(Qk),r=m.useRef(null),s=Ie(t,r);return m.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),i.jsx(he.div,{...e,ref:s})});Kk.displayName=AL;function RL(e,t=globalThis==null?void 0:globalThis.document){const n=dt(e),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){Gk(PL,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function ML(e,t=globalThis==null?void 0:globalThis.document){const n=dt(e),r=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!r.current&&Gk(TL,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function k0(){const e=new CustomEvent(Og);document.dispatchEvent(e)}function Gk(e,t,n,{discrete:r}){const s=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Nv(s,a):s.dispatchEvent(a)}var OL=Si,IL=Kk,Kt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},DL="Portal",Jo=m.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,a]=m.useState(!1);Kt(()=>a(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?s4.createPortal(i.jsx(he.div,{...r,ref:t}),o):null});Jo.displayName=DL;function FL(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var Lt=e=>{const{present:t,children:n}=e,r=LL(t),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),a=Ie(r.ref,$L(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:a}):null};Lt.displayName="Presence";function LL(e){const[t,n]=m.useState(),r=m.useRef({}),s=m.useRef(e),a=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=FL(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Gu(r.current);a.current=l==="mounted"?u:"none"},[l]),Kt(()=>{const u=r.current,d=s.current;if(d!==e){const h=a.current,p=Gu(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Kt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const y=Gu(r.current).includes(p.animationName);if(p.target===t&&y&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=p=>{p.target===t&&(a.current=Gu(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Gu(e){return(e==null?void 0:e.animationName)||"none"}function $L(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Er({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,s]=zL({defaultProp:t,onChange:n}),a=e!==void 0,o=a?e:r,l=dt(n),c=m.useCallback(u=>{if(a){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[a,e,s,l]);return[o,c]}function zL({defaultProp:e,onChange:t}){const n=m.useState(e),[r]=n,s=m.useRef(r),a=dt(t);return m.useEffect(()=>{s.current!==r&&(a(r),s.current=r)},[r,s,a]),n}var BL="VisuallyHidden",nu=m.forwardRef((e,t)=>i.jsx(he.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));nu.displayName=BL;var VL=nu,Cv="ToastProvider",[jv,UL,WL]=jh("Toast"),[Yk,R7]=gn("Toast",[WL]),[HL,kh]=Yk(Cv),Xk=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=e,[l,c]=m.useState(null),[u,d]=m.useState(0),f=m.useRef(!1),h=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Cv}\`. Expected non-empty \`string\`.`),i.jsx(jv.Provider,{scope:t,children:i.jsx(HL,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:m.useCallback(()=>d(p=>p+1),[]),onToastRemove:m.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};Xk.displayName=Cv;var Zk="ToastViewport",qL=["F8"],Ig="toast.viewportPause",Dg="toast.viewportResume",Jk=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=qL,label:s="Notifications ({hotkey})",...a}=e,o=kh(Zk,n),l=UL(n),c=m.useRef(null),u=m.useRef(null),d=m.useRef(null),f=m.useRef(null),h=Ie(t,f,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;m.useEffect(()=>{const b=x=>{var v;r.length!==0&&r.every(S=>x[S]||x.code===S)&&((v=f.current)==null||v.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),m.useEffect(()=>{const b=c.current,x=f.current;if(w&&b&&x){const g=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(Ig);x.dispatchEvent(j),o.isClosePausedRef.current=!0}},v=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(Dg);x.dispatchEvent(j),o.isClosePausedRef.current=!1}},S=j=>{!b.contains(j.relatedTarget)&&v()},_=()=>{b.contains(document.activeElement)||v()};return b.addEventListener("focusin",g),b.addEventListener("focusout",S),b.addEventListener("pointermove",g),b.addEventListener("pointerleave",_),window.addEventListener("blur",g),window.addEventListener("focus",v),()=>{b.removeEventListener("focusin",g),b.removeEventListener("focusout",S),b.removeEventListener("pointermove",g),b.removeEventListener("pointerleave",_),window.removeEventListener("blur",g),window.removeEventListener("focus",v)}}},[w,o.isClosePausedRef]);const y=m.useCallback(({tabbingDirection:b})=>{const g=l().map(v=>{const S=v.ref.current,_=[S,...a$(S)];return b==="forwards"?_:_.reverse()});return(b==="forwards"?g.reverse():g).flat()},[l]);return m.useEffect(()=>{const b=f.current;if(b){const x=g=>{var _,j,N;const v=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!v){const E=document.activeElement,P=g.shiftKey;if(g.target===b&&P){(_=u.current)==null||_.focus();return}const R=y({tabbingDirection:P?"backwards":"forwards"}),$=R.findIndex(C=>C===E);Zm(R.slice($+1))?g.preventDefault():P?(j=u.current)==null||j.focus():(N=d.current)==null||N.focus()}};return b.addEventListener("keydown",x),()=>b.removeEventListener("keydown",x)}},[l,y]),i.jsxs(IL,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&i.jsx(Fg,{ref:u,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"forwards"});Zm(b)}}),i.jsx(jv.Slot,{scope:n,children:i.jsx(he.ol,{tabIndex:-1,...a,ref:h})}),w&&i.jsx(Fg,{ref:d,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"backwards"});Zm(b)}})]})});Jk.displayName=Zk;var eE="ToastFocusProxy",Fg=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,a=kh(eE,n);return i.jsx(nu,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&r()}})});Fg.displayName=eE;var Eh="Toast",QL="toast.swipeStart",KL="toast.swipeMove",GL="toast.swipeCancel",YL="toast.swipeEnd",tE=m.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:a,...o}=e,[l=!0,c]=Er({prop:r,defaultProp:s,onChange:a});return i.jsx(Lt,{present:n||l,children:i.jsx(JL,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:dt(e.onPause),onResume:dt(e.onResume),onSwipeStart:Y(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Y(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Y(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Y(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});tE.displayName=Eh;var[XL,ZL]=Yk(Eh,{onClose(){}}),JL=m.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...w}=e,y=kh(Eh,n),[b,x]=m.useState(null),g=Ie(t,C=>x(C)),v=m.useRef(null),S=m.useRef(null),_=s||y.duration,j=m.useRef(0),N=m.useRef(_),E=m.useRef(0),{onToastAdd:P,onToastRemove:I}=y,k=dt(()=>{var W;(b==null?void 0:b.contains(document.activeElement))&&((W=y.viewport)==null||W.focus()),o()}),R=m.useCallback(C=>{!C||C===1/0||(window.clearTimeout(E.current),j.current=new Date().getTime(),E.current=window.setTimeout(k,C))},[k]);m.useEffect(()=>{const C=y.viewport;if(C){const W=()=>{R(N.current),u==null||u()},z=()=>{const ee=new Date().getTime()-j.current;N.current=N.current-ee,window.clearTimeout(E.current),c==null||c()};return C.addEventListener(Ig,z),C.addEventListener(Dg,W),()=>{C.removeEventListener(Ig,z),C.removeEventListener(Dg,W)}}},[y.viewport,_,c,u,R]),m.useEffect(()=>{a&&!y.isClosePausedRef.current&&R(_)},[a,_,y.isClosePausedRef,R]),m.useEffect(()=>(P(),()=>I()),[P,I]);const $=m.useMemo(()=>b?lE(b):null,[b]);return y.viewport?i.jsxs(i.Fragment,{children:[$&&i.jsx(e$,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),i.jsx(XL,{scope:n,onClose:k,children:Ca.createPortal(i.jsx(jv.ItemSlot,{scope:n,children:i.jsx(OL,{asChild:!0,onEscapeKeyDown:Y(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||k(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(he.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":y.swipeDirection,...w,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Y(e.onKeyDown,C=>{C.key==="Escape"&&(l==null||l(C.nativeEvent),C.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Y(e.onPointerDown,C=>{C.button===0&&(v.current={x:C.clientX,y:C.clientY})}),onPointerMove:Y(e.onPointerMove,C=>{if(!v.current)return;const W=C.clientX-v.current.x,z=C.clientY-v.current.y,ee=!!S.current,M=["left","right"].includes(y.swipeDirection),F=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,Q=M?F(0,W):0,X=M?0:F(0,z),ce=C.pointerType==="touch"?10:2,ke={x:Q,y:X},Ce={originalEvent:C,delta:ke};ee?(S.current=ke,Yu(KL,f,Ce,{discrete:!1})):E0(ke,y.swipeDirection,ce)?(S.current=ke,Yu(QL,d,Ce,{discrete:!1}),C.target.setPointerCapture(C.pointerId)):(Math.abs(W)>ce||Math.abs(z)>ce)&&(v.current=null)}),onPointerUp:Y(e.onPointerUp,C=>{const W=S.current,z=C.target;if(z.hasPointerCapture(C.pointerId)&&z.releasePointerCapture(C.pointerId),S.current=null,v.current=null,W){const ee=C.currentTarget,M={originalEvent:C,delta:W};E0(W,y.swipeDirection,y.swipeThreshold)?Yu(YL,p,M,{discrete:!0}):Yu(GL,h,M,{discrete:!0}),ee.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),e$=e=>{const{__scopeToast:t,children:n,...r}=e,s=kh(Eh,t),[a,o]=m.useState(!1),[l,c]=m.useState(!1);return r$(()=>o(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(Jo,{asChild:!0,children:i.jsx(nu,{...r,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",n]})})})},t$="ToastTitle",nE=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(he.div,{...r,ref:t})});nE.displayName=t$;var n$="ToastDescription",rE=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(he.div,{...r,ref:t})});rE.displayName=n$;var sE="ToastAction",aE=m.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?i.jsx(oE,{altText:n,asChild:!0,children:i.jsx(kv,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${sE}\`. Expected non-empty \`string\`.`),null)});aE.displayName=sE;var iE="ToastClose",kv=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=ZL(iE,n);return i.jsx(oE,{asChild:!0,children:i.jsx(he.button,{type:"button",...r,ref:t,onClick:Y(e.onClick,s.onClose)})})});kv.displayName=iE;var oE=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return i.jsx(he.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function lE(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),s$(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...lE(r))}}),t}function Yu(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Nv(s,a):s.dispatchEvent(a)}var E0=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),a=r>s;return t==="left"||t==="right"?a&&r>n:!a&&s>n};function r$(e=()=>{}){const t=dt(e);Kt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function s$(e){return e.nodeType===e.ELEMENT_NODE}function a$(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Zm(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var i$=Xk,cE=Jk,uE=tE,dE=nE,fE=rE,hE=aE,mE=kv;function pE(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=pE(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function gE(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=pE(e))&&(r&&(r+=" "),r+=t);return r}const P0=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,T0=gE,el=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return T0(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=a==null?void 0:a[u];if(d===null)return null;const h=P0(d)||P0(f);return s[u][h]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(w=>{let[y,b]=w;return Array.isArray(b)?b.includes({...a,...l}[y]):{...a,...l}[y]===b})?[...u,f,h]:u},[]);return T0(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yE=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var l$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...l$,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:yE("lucide",s),...l},[...o.map(([u,d])=>m.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(e,t)=>{const n=m.forwardRef(({className:r,...s},a)=>m.createElement(c$,{ref:a,iconNode:t,className:yE(`lucide-${o$(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=pe("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=pe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=pe("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=pe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=pe("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=pe("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=pe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h$=pe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=pe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=pe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=pe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=pe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=pe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y$=pe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=pe("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=pe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=pe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=pe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x$=pe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=pe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=pe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=pe("Highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=pe("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=pe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=pe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=pe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=pe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=pe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=pe("NotebookPen",[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=pe("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=pe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=pe("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=pe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=pe("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=pe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ph=pe("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=pe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=pe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=pe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=pe("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=pe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=pe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=pe("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=pe("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=pe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=pe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Mv="-",F$=e=>{const t=$$(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(Mv);return l[0]===""&&l.length!==1&&l.shift(),bE(l,t)||L$(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},bE=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?bE(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(Mv);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},A0=/^\[(.+)\]$/,L$=e=>{if(A0.test(e)){const t=A0.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},$$=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return B$(Object.entries(e.classGroups),n).forEach(([a,o])=>{Ug(o,r,a,t)}),r},Ug=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:R0(t,s);a.classGroupId=n;return}if(typeof s=="function"){if(z$(s)){Ug(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([a,o])=>{Ug(o,R0(t,a),n,r)})})},R0=(e,t)=>{let n=e;return t.split(Mv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},z$=e=>e.isThemeGetter,B$=(e,t)=>t?e.map(([n,r])=>{const s=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,s]}):e,V$=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return s(a,o),o},set(a,o){n.has(a)?n.set(a,o):s(a,o)}}},SE="!",U$=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let b=0;b<l.length;b++){let x=l[b];if(u===0){if(x===s&&(r||l.slice(b,b+a)===t)){c.push(l.slice(d,b)),d=b+a;continue}if(x==="/"){f=b;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(SE),w=p?h.substring(1):h,y=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:w,maybePostfixModifierPosition:y}};return n?l=>n({className:l,parseClassName:o}):o},W$=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},H$=e=>({cache:V$(e.cacheSize),parseClassName:U$(e),...F$(e)}),q$=/\s+/,Q$=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(q$);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(u);let w=!!p,y=r(w?h.substring(0,p):h);if(!y){if(!w){l=u+(l.length>0?" "+l:l);continue}if(y=r(h),!y){l=u+(l.length>0?" "+l:l);continue}w=!1}const b=W$(d).join(":"),x=f?b+SE:b,g=x+y;if(a.includes(g))continue;a.push(g);const v=s(y,w);for(let S=0;S<v.length;++S){const _=v[S];a.push(x+_)}l=u+(l.length>0?" "+l:l)}return l};function K$(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=_E(t))&&(r&&(r+=" "),r+=n);return r}const _E=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=_E(e[r]))&&(n&&(n+=" "),n+=t);return n};function G$(e,...t){let n,r,s,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=H$(u),r=n.cache.get,s=n.cache.set,a=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=Q$(c,n);return s(c,d),d}return function(){return a(K$.apply(null,arguments))}}const st=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},NE=/^\[(?:([a-z-]+):)?(.+)\]$/i,Y$=/^\d+\/\d+$/,X$=new Set(["px","full","screen"]),Z$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,J$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,e3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,t3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,n3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ss=e=>fo(e)||X$.has(e)||Y$.test(e),Ts=e=>tl(e,"length",u3),fo=e=>!!e&&!Number.isNaN(Number(e)),Jm=e=>tl(e,"number",fo),xl=e=>!!e&&Number.isInteger(Number(e)),r3=e=>e.endsWith("%")&&fo(e.slice(0,-1)),Me=e=>NE.test(e),As=e=>Z$.test(e),s3=new Set(["length","size","percentage"]),a3=e=>tl(e,s3,CE),i3=e=>tl(e,"position",CE),o3=new Set(["image","url"]),l3=e=>tl(e,o3,f3),c3=e=>tl(e,"",d3),wl=()=>!0,tl=(e,t,n)=>{const r=NE.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},u3=e=>J$.test(e)&&!e3.test(e),CE=()=>!1,d3=e=>t3.test(e),f3=e=>n3.test(e),h3=()=>{const e=st("colors"),t=st("spacing"),n=st("blur"),r=st("brightness"),s=st("borderColor"),a=st("borderRadius"),o=st("borderSpacing"),l=st("borderWidth"),c=st("contrast"),u=st("grayscale"),d=st("hueRotate"),f=st("invert"),h=st("gap"),p=st("gradientColorStops"),w=st("gradientColorStopPositions"),y=st("inset"),b=st("margin"),x=st("opacity"),g=st("padding"),v=st("saturate"),S=st("scale"),_=st("sepia"),j=st("skew"),N=st("space"),E=st("translate"),P=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",Me,t],R=()=>[Me,t],$=()=>["",ss,Ts],C=()=>["auto",fo,Me],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Me],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[fo,Me];return{cacheSize:500,separator:":",theme:{colors:[wl],spacing:[ss,Ts],blur:["none","",As,Me],brightness:X(),borderColor:[e],borderRadius:["none","","full",As,Me],borderSpacing:R(),borderWidth:$(),contrast:X(),grayscale:F(),hueRotate:X(),invert:F(),gap:R(),gradientColorStops:[e],gradientColorStopPositions:[r3,Ts],inset:k(),margin:k(),opacity:X(),padding:R(),saturate:X(),scale:X(),sepia:F(),skew:X(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",Me]}],container:["container"],columns:[{columns:[As]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),Me]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xl,Me]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Me]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",xl,Me]}],"grid-cols":[{"grid-cols":[wl]}],"col-start-end":[{col:["auto",{span:["full",xl,Me]},Me]}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":[wl]}],"row-start-end":[{row:["auto",{span:[xl,Me]},Me]}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Me]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Me,t]}],"min-w":[{"min-w":[Me,t,"min","max","fit"]}],"max-w":[{"max-w":[Me,t,"none","full","min","max","fit","prose",{screen:[As]},As]}],h:[{h:[Me,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Me,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Me,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Me,t,"auto","min","max","fit"]}],"font-size":[{text:["base",As,Ts]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jm]}],"font-family":[{font:[wl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Me]}],"line-clamp":[{"line-clamp":["none",fo,Jm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ss,Me]}],"list-image":[{"list-image":["none",Me]}],"list-style-type":[{list:["none","disc","decimal",Me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ss,Ts]}],"underline-offset":[{"underline-offset":["auto",ss,Me]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),i3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",a3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},l3]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[ss,Me]}],"outline-w":[{outline:[ss,Ts]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[ss,Ts]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",As,c3]}],"shadow-color":[{shadow:[wl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...ee(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ee()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",As,Me]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Me]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",Me]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",Me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[xl,Me]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Me]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ss,Ts,Jm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},m3=G$(h3);function te(...e){return m3(gE(e))}const p3=i$,jE=m.forwardRef(({className:e,...t},n)=>i.jsx(cE,{ref:n,className:te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));jE.displayName=cE.displayName;const g3=el("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),kE=m.forwardRef(({className:e,variant:t,...n},r)=>i.jsx(uE,{ref:r,className:te(g3({variant:t}),e),...n}));kE.displayName=uE.displayName;const y3=m.forwardRef(({className:e,...t},n)=>i.jsx(hE,{ref:n,className:te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));y3.displayName=hE.displayName;const EE=m.forwardRef(({className:e,...t},n)=>i.jsx(mE,{ref:n,className:te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(_n,{className:"h-4 w-4"})}));EE.displayName=mE.displayName;const PE=m.forwardRef(({className:e,...t},n)=>i.jsx(dE,{ref:n,className:te("text-sm font-semibold",e),...t}));PE.displayName=dE.displayName;const TE=m.forwardRef(({className:e,...t},n)=>i.jsx(fE,{ref:n,className:te("text-sm opacity-90",e),...t}));TE.displayName=fE.displayName;function v3(){const{toasts:e}=ja();return i.jsxs(p3,{children:[e.map(function({id:t,title:n,description:r,action:s,...a}){return i.jsxs(kE,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[n&&i.jsx(PE,{children:n}),r&&i.jsx(TE,{children:r})]}),s,i.jsx(EE,{})]},t)}),i.jsx(jE,{})]})}var x3=pC[" useId ".trim().toString()]||(()=>{}),w3=0;function or(e){const[t,n]=m.useState(x3());return Kt(()=>{n(r=>r??String(w3++))},[e]),t?`radix-${t}`:""}const b3=["top","right","bottom","left"],ha=Math.min,$n=Math.max,vf=Math.round,Xu=Math.floor,Gr=e=>({x:e,y:e}),S3={left:"right",right:"left",bottom:"top",top:"bottom"},_3={start:"end",end:"start"};function Wg(e,t,n){return $n(e,ha(t,n))}function Cs(e,t){return typeof e=="function"?e(t):e}function js(e){return e.split("-")[0]}function nl(e){return e.split("-")[1]}function Ov(e){return e==="x"?"y":"x"}function Iv(e){return e==="y"?"height":"width"}function ma(e){return["top","bottom"].includes(js(e))?"y":"x"}function Dv(e){return Ov(ma(e))}function N3(e,t,n){n===void 0&&(n=!1);const r=nl(e),s=Dv(e),a=Iv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=xf(o)),[o,xf(o)]}function C3(e){const t=xf(e);return[Hg(e),t,Hg(t)]}function Hg(e){return e.replace(/start|end/g,t=>_3[t])}function j3(e,t,n){const r=["left","right"],s=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?a:o;default:return[]}}function k3(e,t,n,r){const s=nl(e);let a=j3(js(e),n==="start",r);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(Hg)))),a}function xf(e){return e.replace(/left|right|bottom|top/g,t=>S3[t])}function E3(e){return{top:0,right:0,bottom:0,left:0,...e}}function AE(e){return typeof e!="number"?E3(e):{top:e,right:e,bottom:e,left:e}}function wf(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function M0(e,t,n){let{reference:r,floating:s}=e;const a=ma(t),o=Dv(t),l=Iv(o),c=js(t),u=a==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:r.y-s.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(nl(t)){case"start":p[o]-=h*(n&&u?-1:1);break;case"end":p[o]+=h*(n&&u?-1:1);break}return p}const P3=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=M0(u,r,c),h=r,p={},w=0;for(let y=0;y<l.length;y++){const{name:b,fn:x}=l[y],{x:g,y:v,data:S,reset:_}=await x({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=g??d,f=v??f,p={...p,[b]:{...p[b],...S}},_&&w<=50&&(w++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:f}=M0(u,h,c)),y=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:p}};async function Cc(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Cs(t,e),w=AE(p),b=l[h?f==="floating"?"reference":"floating":f],x=wf(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(b)))==null||n?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),g=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,v=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),S=await(a.isElement==null?void 0:a.isElement(v))?await(a.getScale==null?void 0:a.getScale(v))||{x:1,y:1}:{x:1,y:1},_=wf(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:v,strategy:c}):g);return{top:(x.top-_.top+w.top)/S.y,bottom:(_.bottom-x.bottom+w.bottom)/S.y,left:(x.left-_.left+w.left)/S.x,right:(_.right-x.right+w.right)/S.x}}const T3=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Cs(e,t)||{};if(u==null)return{};const f=AE(d),h={x:n,y:r},p=Dv(s),w=Iv(p),y=await o.getDimensions(u),b=p==="y",x=b?"top":"left",g=b?"bottom":"right",v=b?"clientHeight":"clientWidth",S=a.reference[w]+a.reference[p]-h[p]-a.floating[w],_=h[p]-a.reference[p],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=j?j[v]:0;(!N||!await(o.isElement==null?void 0:o.isElement(j)))&&(N=l.floating[v]||a.floating[w]);const E=S/2-_/2,P=N/2-y[w]/2-1,I=ha(f[x],P),k=ha(f[g],P),R=I,$=N-y[w]-k,C=N/2-y[w]/2+E,W=Wg(R,C,$),z=!c.arrow&&nl(s)!=null&&C!==W&&a.reference[w]/2-(C<R?I:k)-y[w]/2<0,ee=z?C<R?C-R:C-$:0;return{[p]:h[p]+ee,data:{[p]:W,centerOffset:C-W-ee,...z&&{alignmentOffset:ee}},reset:z}}}),A3=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...b}=Cs(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const x=js(s),g=ma(l),v=js(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(v||!y?[xf(l)]:C3(l)),j=w!=="none";!h&&j&&_.push(...k3(l,y,w,S));const N=[l,..._],E=await Cc(t,b),P=[];let I=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&P.push(E[x]),f){const C=N3(s,o,S);P.push(E[C[0]],E[C[1]])}if(I=[...I,{placement:s,overflows:P}],!P.every(C=>C<=0)){var k,R;const C=(((k=a.flip)==null?void 0:k.index)||0)+1,W=N[C];if(W)return{data:{index:C,overflows:I},reset:{placement:W}};let z=(R=I.filter(ee=>ee.overflows[0]<=0).sort((ee,M)=>ee.overflows[1]-M.overflows[1])[0])==null?void 0:R.placement;if(!z)switch(p){case"bestFit":{var $;const ee=($=I.filter(M=>{if(j){const F=ma(M.placement);return F===g||F==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(F=>F>0).reduce((F,Q)=>F+Q,0)]).sort((M,F)=>M[1]-F[1])[0])==null?void 0:$[0];ee&&(z=ee);break}case"initialPlacement":z=l;break}if(s!==z)return{reset:{placement:z}}}return{}}}};function O0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function I0(e){return b3.some(t=>e[t]>=0)}const R3=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Cs(e,t);switch(r){case"referenceHidden":{const a=await Cc(t,{...s,elementContext:"reference"}),o=O0(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:I0(o)}}}case"escaped":{const a=await Cc(t,{...s,altBoundary:!0}),o=O0(a,n.floating);return{data:{escapedOffsets:o,escaped:I0(o)}}}default:return{}}}}};async function M3(e,t){const{placement:n,platform:r,elements:s}=e,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=js(n),l=nl(n),c=ma(n)==="y",u=["left","top"].includes(o)?-1:1,d=a&&c?-1:1,f=Cs(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof w=="number"&&(p=l==="end"?w*-1:w),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const O3=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await M3(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},I3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:b=>{let{x,y:g}=b;return{x,y:g}}},...c}=Cs(e,t),u={x:n,y:r},d=await Cc(t,c),f=ma(js(s)),h=Ov(f);let p=u[h],w=u[f];if(a){const b=h==="y"?"top":"left",x=h==="y"?"bottom":"right",g=p+d[b],v=p-d[x];p=Wg(g,p,v)}if(o){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",g=w+d[b],v=w-d[x];w=Wg(g,w,v)}const y=l.fn({...t,[h]:p,[f]:w});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[h]:a,[f]:o}}}}}},D3=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Cs(e,t),d={x:n,y:r},f=ma(s),h=Ov(f);let p=d[h],w=d[f];const y=Cs(l,t),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const v=h==="y"?"height":"width",S=a.reference[h]-a.floating[v]+b.mainAxis,_=a.reference[h]+a.reference[v]-b.mainAxis;p<S?p=S:p>_&&(p=_)}if(u){var x,g;const v=h==="y"?"width":"height",S=["top","left"].includes(js(s)),_=a.reference[f]-a.floating[v]+(S&&((x=o.offset)==null?void 0:x[f])||0)+(S?0:b.crossAxis),j=a.reference[f]+a.reference[v]+(S?0:((g=o.offset)==null?void 0:g[f])||0)-(S?b.crossAxis:0);w<_?w=_:w>j&&(w=j)}return{[h]:p,[f]:w}}}},F3=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Cs(e,t),d=await Cc(t,u),f=js(s),h=nl(s),p=ma(s)==="y",{width:w,height:y}=a.floating;let b,x;f==="top"||f==="bottom"?(b=f,x=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,b=h==="end"?"top":"bottom");const g=y-d.top-d.bottom,v=w-d.left-d.right,S=ha(y-d[b],g),_=ha(w-d[x],v),j=!t.middlewareData.shift;let N=S,E=_;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=v),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(N=g),j&&!h){const I=$n(d.left,0),k=$n(d.right,0),R=$n(d.top,0),$=$n(d.bottom,0);p?E=w-2*(I!==0||k!==0?I+k:$n(d.left,d.right)):N=y-2*(R!==0||$!==0?R+$:$n(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:N});const P=await o.getDimensions(l.floating);return w!==P.width||y!==P.height?{reset:{rects:!0}}:{}}}};function Ah(){return typeof window<"u"}function rl(e){return RE(e)?(e.nodeName||"").toLowerCase():"#document"}function Vn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ts(e){var t;return(t=(RE(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function RE(e){return Ah()?e instanceof Node||e instanceof Vn(e).Node:!1}function Pr(e){return Ah()?e instanceof Element||e instanceof Vn(e).Element:!1}function Xr(e){return Ah()?e instanceof HTMLElement||e instanceof Vn(e).HTMLElement:!1}function D0(e){return!Ah()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Vn(e).ShadowRoot}function au(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Tr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function L3(e){return["table","td","th"].includes(rl(e))}function Rh(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Fv(e){const t=Lv(),n=Pr(e)?Tr(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function $3(e){let t=pa(e);for(;Xr(t)&&!Bo(t);){if(Fv(t))return t;if(Rh(t))return null;t=pa(t)}return null}function Lv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bo(e){return["html","body","#document"].includes(rl(e))}function Tr(e){return Vn(e).getComputedStyle(e)}function Mh(e){return Pr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function pa(e){if(rl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||D0(e)&&e.host||ts(e);return D0(t)?t.host:t}function ME(e){const t=pa(e);return Bo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Xr(t)&&au(t)?t:ME(t)}function jc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=ME(e),a=s===((r=e.ownerDocument)==null?void 0:r.body),o=Vn(s);if(a){const l=qg(o);return t.concat(o,o.visualViewport||[],au(s)?s:[],l&&n?jc(l):[])}return t.concat(s,jc(s,[],n))}function qg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function OE(e){const t=Tr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Xr(e),a=s?e.offsetWidth:n,o=s?e.offsetHeight:r,l=vf(n)!==a||vf(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function $v(e){return Pr(e)?e:e.contextElement}function ho(e){const t=$v(e);if(!Xr(t))return Gr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:a}=OE(t);let o=(a?vf(n.width):n.width)/r,l=(a?vf(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const z3=Gr(0);function IE(e){const t=Vn(e);return!Lv()||!t.visualViewport?z3:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function B3(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Vn(e)?!1:t}function hi(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),a=$v(e);let o=Gr(1);t&&(r?Pr(r)&&(o=ho(r)):o=ho(e));const l=B3(a,n,r)?IE(a):Gr(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(a){const h=Vn(a),p=r&&Pr(r)?Vn(r):r;let w=h,y=qg(w);for(;y&&r&&p!==w;){const b=ho(y),x=y.getBoundingClientRect(),g=Tr(y),v=x.left+(y.clientLeft+parseFloat(g.paddingLeft))*b.x,S=x.top+(y.clientTop+parseFloat(g.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,f*=b.y,c+=v,u+=S,w=Vn(y),y=qg(w)}}return wf({width:d,height:f,x:c,y:u})}function zv(e,t){const n=Mh(e).scrollLeft;return t?t.left+n:hi(ts(e)).left+n}function DE(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:zv(e,r)),a=r.top+t.scrollTop;return{x:s,y:a}}function V3(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const a=s==="fixed",o=ts(r),l=t?Rh(t.floating):!1;if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=Gr(1);const d=Gr(0),f=Xr(r);if((f||!f&&!a)&&((rl(r)!=="body"||au(o))&&(c=Mh(r)),Xr(r))){const p=hi(r);u=ho(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const h=o&&!f&&!a?DE(o,c,!0):Gr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function U3(e){return Array.from(e.getClientRects())}function W3(e){const t=ts(e),n=Mh(e),r=e.ownerDocument.body,s=$n(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=$n(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+zv(e);const l=-n.scrollTop;return Tr(r).direction==="rtl"&&(o+=$n(t.clientWidth,r.clientWidth)-s),{width:s,height:a,x:o,y:l}}function H3(e,t){const n=Vn(e),r=ts(e),s=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const u=Lv();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}function q3(e,t){const n=hi(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,a=Xr(e)?ho(e):Gr(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=r*a.y;return{width:o,height:l,x:c,y:u}}function F0(e,t,n){let r;if(t==="viewport")r=H3(e,n);else if(t==="document")r=W3(ts(e));else if(Pr(t))r=q3(t,n);else{const s=IE(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return wf(r)}function FE(e,t){const n=pa(e);return n===t||!Pr(n)||Bo(n)?!1:Tr(n).position==="fixed"||FE(n,t)}function Q3(e,t){const n=t.get(e);if(n)return n;let r=jc(e,[],!1).filter(l=>Pr(l)&&rl(l)!=="body"),s=null;const a=Tr(e).position==="fixed";let o=a?pa(e):e;for(;Pr(o)&&!Bo(o);){const l=Tr(o),c=Fv(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||au(o)&&!c&&FE(e,o))?r=r.filter(d=>d!==o):s=l,o=pa(o)}return t.set(e,r),r}function K3(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const o=[...n==="clippingAncestors"?Rh(t)?[]:Q3(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const f=F0(t,d,s);return u.top=$n(f.top,u.top),u.right=ha(f.right,u.right),u.bottom=ha(f.bottom,u.bottom),u.left=$n(f.left,u.left),u},F0(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function G3(e){const{width:t,height:n}=OE(e);return{width:t,height:n}}function Y3(e,t,n){const r=Xr(t),s=ts(t),a=n==="fixed",o=hi(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=Gr(0);if(r||!r&&!a)if((rl(t)!=="body"||au(s))&&(l=Mh(t)),r){const h=hi(t,!0,a,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else s&&(c.x=zv(s));const u=s&&!r&&!a?DE(s,l):Gr(0),d=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function ep(e){return Tr(e).position==="static"}function L0(e,t){if(!Xr(e)||Tr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ts(e)===n&&(n=n.ownerDocument.body),n}function LE(e,t){const n=Vn(e);if(Rh(e))return n;if(!Xr(e)){let s=pa(e);for(;s&&!Bo(s);){if(Pr(s)&&!ep(s))return s;s=pa(s)}return n}let r=L0(e,t);for(;r&&L3(r)&&ep(r);)r=L0(r,t);return r&&Bo(r)&&ep(r)&&!Fv(r)?n:r||$3(e)||n}const X3=async function(e){const t=this.getOffsetParent||LE,n=this.getDimensions,r=await n(e.floating);return{reference:Y3(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Z3(e){return Tr(e).direction==="rtl"}const J3={convertOffsetParentRelativeRectToViewportRelativeRect:V3,getDocumentElement:ts,getClippingRect:K3,getOffsetParent:LE,getElementRects:X3,getClientRects:U3,getDimensions:G3,getScale:ho,isElement:Pr,isRTL:Z3};function $E(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ez(e,t){let n=null,r;const s=ts(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const w=Xu(f),y=Xu(s.clientWidth-(d+h)),b=Xu(s.clientHeight-(f+p)),x=Xu(d),v={rootMargin:-w+"px "+-y+"px "+-b+"px "+-x+"px",threshold:$n(0,ha(1,c))||1};let S=!0;function _(j){const N=j[0].intersectionRatio;if(N!==c){if(!S)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!$E(u,e.getBoundingClientRect())&&o(),S=!1}try{n=new IntersectionObserver(_,{...v,root:s.ownerDocument})}catch{n=new IntersectionObserver(_,v)}n.observe(e)}return o(!0),a}function tz(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=$v(e),d=s||a?[...u?jc(u):[],...jc(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),a&&x.addEventListener("resize",n)});const f=u&&l?ez(u,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(x=>{let[g]=x;g&&g.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var v;(v=p)==null||v.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let w,y=c?hi(e):null;c&&b();function b(){const x=hi(e);y&&!$E(y,x)&&n(),y=x,w=requestAnimationFrame(b)}return n(),()=>{var x;d.forEach(g=>{s&&g.removeEventListener("scroll",n),a&&g.removeEventListener("resize",n)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,c&&cancelAnimationFrame(w)}}const nz=O3,rz=I3,sz=A3,az=F3,iz=R3,$0=T3,oz=D3,lz=(e,t,n)=>{const r=new Map,s={platform:J3,...n},a={...s.platform,_c:r};return P3(e,t,{...s,platform:a})};var jd=typeof document<"u"?m.useLayoutEffect:m.useEffect;function bf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!bf(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const a=s[r];if(!(a==="_owner"&&e.$$typeof)&&!bf(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function zE(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function z0(e,t){const n=zE(e);return Math.round(t*n)/n}function tp(e){const t=m.useRef(e);return jd(()=>{t.current=e}),t}function cz(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(r);bf(h,r)||p(r);const[w,y]=m.useState(null),[b,x]=m.useState(null),g=m.useCallback(M=>{M!==j.current&&(j.current=M,y(M))},[]),v=m.useCallback(M=>{M!==N.current&&(N.current=M,x(M))},[]),S=a||w,_=o||b,j=m.useRef(null),N=m.useRef(null),E=m.useRef(d),P=c!=null,I=tp(c),k=tp(s),R=tp(u),$=m.useCallback(()=>{if(!j.current||!N.current)return;const M={placement:t,strategy:n,middleware:h};k.current&&(M.platform=k.current),lz(j.current,N.current,M).then(F=>{const Q={...F,isPositioned:R.current!==!1};C.current&&!bf(E.current,Q)&&(E.current=Q,Ca.flushSync(()=>{f(Q)}))})},[h,t,n,k,R]);jd(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const C=m.useRef(!1);jd(()=>(C.current=!0,()=>{C.current=!1}),[]),jd(()=>{if(S&&(j.current=S),_&&(N.current=_),S&&_){if(I.current)return I.current(S,_,$);$()}},[S,_,$,I,P]);const W=m.useMemo(()=>({reference:j,floating:N,setReference:g,setFloating:v}),[g,v]),z=m.useMemo(()=>({reference:S,floating:_}),[S,_]),ee=m.useMemo(()=>{const M={position:n,left:0,top:0};if(!z.floating)return M;const F=z0(z.floating,d.x),Q=z0(z.floating,d.y);return l?{...M,transform:"translate("+F+"px, "+Q+"px)",...zE(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:Q}},[n,l,z.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:$,refs:W,elements:z,floatingStyles:ee}),[d,$,W,z,ee])}const uz=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?$0({element:r.current,padding:s}).fn(n):{}:r?$0({element:r,padding:s}).fn(n):{}}}},dz=(e,t)=>({...nz(e),options:[e,t]}),fz=(e,t)=>({...rz(e),options:[e,t]}),hz=(e,t)=>({...oz(e),options:[e,t]}),mz=(e,t)=>({...sz(e),options:[e,t]}),pz=(e,t)=>({...az(e),options:[e,t]}),gz=(e,t)=>({...iz(e),options:[e,t]}),yz=(e,t)=>({...uz(e),options:[e,t]});var vz="Arrow",BE=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...a}=e;return i.jsx(he.svg,{...a,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});BE.displayName=vz;var xz=BE;function Bv(e){const[t,n]=m.useState(void 0);return Kt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Vv="Popper",[VE,ka]=gn(Vv),[wz,UE]=VE(Vv),WE=e=>{const{__scopePopper:t,children:n}=e,[r,s]=m.useState(null);return i.jsx(wz,{scope:t,anchor:r,onAnchorChange:s,children:n})};WE.displayName=Vv;var HE="PopperAnchor",qE=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,a=UE(HE,n),o=m.useRef(null),l=Ie(t,o);return m.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:i.jsx(he.div,{...s,ref:l})});qE.displayName=HE;var Uv="PopperContent",[bz,Sz]=VE(Uv),QE=m.forwardRef((e,t)=>{var V,ae,je,Ve,Ue,qe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:w,...y}=e,b=UE(Uv,n),[x,g]=m.useState(null),v=Ie(t,zt=>g(zt)),[S,_]=m.useState(null),j=Bv(S),N=(j==null?void 0:j.width)??0,E=(j==null?void 0:j.height)??0,P=r+(a!=="center"?"-"+a:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],R=k.length>0,$={padding:I,boundary:k.filter(Nz),altBoundary:R},{refs:C,floatingStyles:W,placement:z,isPositioned:ee,middlewareData:M}=cz({strategy:"fixed",placement:P,whileElementsMounted:(...zt)=>tz(...zt,{animationFrame:p==="always"}),elements:{reference:b.anchor},middleware:[dz({mainAxis:s+E,alignmentAxis:o}),c&&fz({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?hz():void 0,...$}),c&&mz({...$}),pz({...$,apply:({elements:zt,rects:rn,availableWidth:rs,availableHeight:Mr})=>{const{width:Pe,height:Or}=rn.reference,Kn=zt.floating.style;Kn.setProperty("--radix-popper-available-width",`${rs}px`),Kn.setProperty("--radix-popper-available-height",`${Mr}px`),Kn.setProperty("--radix-popper-anchor-width",`${Pe}px`),Kn.setProperty("--radix-popper-anchor-height",`${Or}px`)}}),S&&yz({element:S,padding:l}),Cz({arrowWidth:N,arrowHeight:E}),h&&gz({strategy:"referenceHidden",...$})]}),[F,Q]=YE(z),X=dt(w);Kt(()=>{ee&&(X==null||X())},[ee,X]);const ce=(V=M.arrow)==null?void 0:V.x,ke=(ae=M.arrow)==null?void 0:ae.y,Ce=((je=M.arrow)==null?void 0:je.centerOffset)!==0,[$e,B]=m.useState();return Kt(()=>{x&&B(window.getComputedStyle(x).zIndex)},[x]),i.jsx("div",{ref:C.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:ee?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:$e,"--radix-popper-transform-origin":[(Ve=M.transformOrigin)==null?void 0:Ve.x,(Ue=M.transformOrigin)==null?void 0:Ue.y].join(" "),...((qe=M.hide)==null?void 0:qe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(bz,{scope:n,placedSide:F,onArrowChange:_,arrowX:ce,arrowY:ke,shouldHideArrow:Ce,children:i.jsx(he.div,{"data-side":F,"data-align":Q,...y,ref:v,style:{...y.style,animation:ee?void 0:"none"}})})})});QE.displayName=Uv;var KE="PopperArrow",_z={top:"bottom",right:"left",bottom:"top",left:"right"},GE=m.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,a=Sz(KE,r),o=_z[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(xz,{...s,ref:n,style:{...s.style,display:"block"}})})});GE.displayName=KE;function Nz(e){return e!==null}var Cz=e=>({name:"transformOrigin",options:e,fn(t){var b,x,g;const{placement:n,rects:r,middlewareData:s}=t,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=YE(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=s.arrow)==null?void 0:x.x)??0)+l/2,p=(((g=s.arrow)==null?void 0:g.y)??0)+c/2;let w="",y="";return u==="bottom"?(w=o?f:`${h}px`,y=`${-c}px`):u==="top"?(w=o?f:`${h}px`,y=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,y=o?f:`${p}px`):u==="left"&&(w=`${r.floating.width+c}px`,y=o?f:`${p}px`),{data:{x:w,y}}}});function YE(e){const[t,n="center"]=e.split("-");return[t,n]}var Oh=WE,iu=qE,Ih=QE,Dh=GE,[Fh,M7]=gn("Tooltip",[ka]),Lh=ka(),XE="TooltipProvider",jz=700,Qg="tooltip.open",[kz,Wv]=Fh(XE),ZE=e=>{const{__scopeTooltip:t,delayDuration:n=jz,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:a}=e,o=m.useRef(!0),l=m.useRef(!1),c=m.useRef(0);return m.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),i.jsx(kz,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:m.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:a})};ZE.displayName=XE;var $h="Tooltip",[Ez,zh]=Fh($h),JE=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=Wv($h,e.__scopeTooltip),u=Lh(t),[d,f]=m.useState(null),h=or(),p=m.useRef(0),w=o??c.disableHoverableContent,y=l??c.delayDuration,b=m.useRef(!1),[x=!1,g]=Er({prop:r,defaultProp:s,onChange:N=>{N?(c.onOpen(),document.dispatchEvent(new CustomEvent(Qg))):c.onClose(),a==null||a(N)}}),v=m.useMemo(()=>x?b.current?"delayed-open":"instant-open":"closed",[x]),S=m.useCallback(()=>{window.clearTimeout(p.current),p.current=0,b.current=!1,g(!0)},[g]),_=m.useCallback(()=>{window.clearTimeout(p.current),p.current=0,g(!1)},[g]),j=m.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{b.current=!0,g(!0),p.current=0},y)},[y,g]);return m.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),i.jsx(Oh,{...u,children:i.jsx(Ez,{scope:t,contentId:h,open:x,stateAttribute:v,trigger:d,onTriggerChange:f,onTriggerEnter:m.useCallback(()=>{c.isOpenDelayedRef.current?j():S()},[c.isOpenDelayedRef,j,S]),onTriggerLeave:m.useCallback(()=>{w?_():(window.clearTimeout(p.current),p.current=0)},[_,w]),onOpen:S,onClose:_,disableHoverableContent:w,children:n})})};JE.displayName=$h;var Kg="TooltipTrigger",eP=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=zh(Kg,n),a=Wv(Kg,n),o=Lh(n),l=m.useRef(null),c=Ie(t,l,s.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),f=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(iu,{asChild:!0,...o,children:i.jsx(he.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Y(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Y(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Y(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Y(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:Y(e.onBlur,s.onClose),onClick:Y(e.onClick,s.onClose)})})});eP.displayName=Kg;var Pz="TooltipPortal",[O7,Tz]=Fh(Pz,{forceMount:void 0}),Vo="TooltipContent",tP=m.forwardRef((e,t)=>{const n=Tz(Vo,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...a}=e,o=zh(Vo,e.__scopeTooltip);return i.jsx(Lt,{present:r||o.open,children:o.disableHoverableContent?i.jsx(nP,{side:s,...a,ref:t}):i.jsx(Az,{side:s,...a,ref:t})})}),Az=m.forwardRef((e,t)=>{const n=zh(Vo,e.__scopeTooltip),r=Wv(Vo,e.__scopeTooltip),s=m.useRef(null),a=Ie(t,s),[o,l]=m.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,h=m.useCallback(()=>{l(null),f(!1)},[f]),p=m.useCallback((w,y)=>{const b=w.currentTarget,x={x:w.clientX,y:w.clientY},g=Dz(x,b.getBoundingClientRect()),v=Fz(x,g),S=Lz(y.getBoundingClientRect()),_=zz([...v,...S]);l(_),f(!0)},[f]);return m.useEffect(()=>()=>h(),[h]),m.useEffect(()=>{if(c&&d){const w=b=>p(b,d),y=b=>p(b,c);return c.addEventListener("pointerleave",w),d.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",w),d.removeEventListener("pointerleave",y)}}},[c,d,p,h]),m.useEffect(()=>{if(o){const w=y=>{const b=y.target,x={x:y.clientX,y:y.clientY},g=(c==null?void 0:c.contains(b))||(d==null?void 0:d.contains(b)),v=!$z(x,o);g?h():v&&(h(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,d,o,u,h]),i.jsx(nP,{...e,ref:a})}),[Rz,Mz]=Fh($h,{isInside:!1}),Oz=SL("TooltipContent"),nP=m.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=zh(Vo,n),u=Lh(n),{onClose:d}=c;return m.useEffect(()=>(document.addEventListener(Qg,d),()=>document.removeEventListener(Qg,d)),[d]),m.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(Si,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(Ih,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(Oz,{children:r}),i.jsx(Rz,{scope:n,isInside:!0,children:i.jsx(VL,{id:c.contentId,role:"tooltip",children:s||r})})]})})});tP.displayName=Vo;var rP="TooltipArrow",Iz=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Lh(n);return Mz(rP,n).isInside?null:i.jsx(Dh,{...s,...r,ref:t})});Iz.displayName=rP;function Dz(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,s,a)){case a:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Fz(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Lz(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function $z(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,u=t[o].x,d=t[o].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(s=!s)}return s}function zz(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Bz(t)}function Bz(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Vz=ZE,Uz=JE,Wz=eP,sP=tP;const aP=Vz,Hz=Uz,qz=Wz,iP=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>i.jsx(sP,{ref:r,sideOffset:t,className:te("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));iP.displayName=sP.displayName;const np=768;function Qz(){const[e,t]=m.useState(void 0);return m.useEffect(()=>{const n=window.matchMedia(`(max-width: ${np-1}px)`),r=()=>{t(window.innerWidth<np)};return n.addEventListener("change",r),t(window.innerWidth<np),()=>n.removeEventListener("change",r)},[]),!!e}const Kz=el("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),q=m.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},a)=>{const o=r?Ch:"button";return i.jsx(o,{className:te(Kz({variant:t,size:n,className:e})),ref:a,...s})});q.displayName="Button";const gt=m.forwardRef(({className:e,type:t,...n},r)=>i.jsx("input",{type:t,className:te("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));gt.displayName="Input";var Gz="Separator",B0="horizontal",Yz=["horizontal","vertical"],oP=m.forwardRef((e,t)=>{const{decorative:n,orientation:r=B0,...s}=e,a=Xz(r)?r:B0,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(he.div,{"data-orientation":a,...l,...s,ref:t})});oP.displayName=Gz;function Xz(e){return Yz.includes(e)}var lP=oP;const Zz=m.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>i.jsx(lP,{ref:s,decorative:n,orientation:t,className:te("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Zz.displayName=lP.displayName;var rp="focusScope.autoFocusOnMount",sp="focusScope.autoFocusOnUnmount",V0={bubbles:!1,cancelable:!0},Jz="FocusScope",ou=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=m.useState(null),u=dt(s),d=dt(a),f=m.useRef(null),h=Ie(t,y=>c(y)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let y=function(v){if(p.paused||!l)return;const S=v.target;l.contains(S)?f.current=S:Ds(f.current,{select:!0})},b=function(v){if(p.paused||!l)return;const S=v.relatedTarget;S!==null&&(l.contains(S)||Ds(f.current,{select:!0}))},x=function(v){if(document.activeElement===document.body)for(const _ of v)_.removedNodes.length>0&&Ds(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const g=new MutationObserver(x);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),g.disconnect()}}},[r,l,p.paused]),m.useEffect(()=>{if(l){W0.add(p);const y=document.activeElement;if(!l.contains(y)){const x=new CustomEvent(rp,V0);l.addEventListener(rp,u),l.dispatchEvent(x),x.defaultPrevented||(eB(aB(cP(l)),{select:!0}),document.activeElement===y&&Ds(l))}return()=>{l.removeEventListener(rp,u),setTimeout(()=>{const x=new CustomEvent(sp,V0);l.addEventListener(sp,d),l.dispatchEvent(x),x.defaultPrevented||Ds(y??document.body,{select:!0}),l.removeEventListener(sp,d),W0.remove(p)},0)}}},[l,u,d,p]);const w=m.useCallback(y=>{if(!n&&!r||p.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(b&&x){const g=y.currentTarget,[v,S]=tB(g);v&&S?!y.shiftKey&&x===S?(y.preventDefault(),n&&Ds(v,{select:!0})):y.shiftKey&&x===v&&(y.preventDefault(),n&&Ds(S,{select:!0})):x===g&&y.preventDefault()}},[n,r,p.paused]);return i.jsx(he.div,{tabIndex:-1,...o,ref:h,onKeyDown:w})});ou.displayName=Jz;function eB(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ds(r,{select:t}),document.activeElement!==n)return}function tB(e){const t=cP(e),n=U0(t,e),r=U0(t.reverse(),e);return[n,r]}function cP(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function U0(e,t){for(const n of e)if(!nB(n,{upTo:t}))return n}function nB(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function rB(e){return e instanceof HTMLInputElement&&"select"in e}function Ds(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&rB(e)&&t&&e.select()}}var W0=sB();function sB(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=H0(e,t),e.unshift(t)},remove(t){var n;e=H0(e,t),(n=e[0])==null||n.resume()}}}function H0(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function aB(e){return e.filter(t=>t.tagName!=="A")}var ap=0;function Bh(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??q0()),document.body.insertAdjacentElement("beforeend",e[1]??q0()),ap++,()=>{ap===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ap--}},[])}function q0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Wr=function(){return Wr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Wr.apply(this,arguments)};function uP(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function iB(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,a;r<s;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var kd="right-scroll-bar-position",Ed="width-before-scroll-bar",oB="with-scroll-bars-hidden",lB="--removed-body-scroll-bar-size";function ip(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function cB(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var uB=typeof window<"u"?m.useLayoutEffect:m.useEffect,Q0=new WeakMap;function dB(e,t){var n=cB(null,function(r){return e.forEach(function(s){return ip(s,r)})});return uB(function(){var r=Q0.get(n);if(r){var s=new Set(r),a=new Set(e),o=n.current;s.forEach(function(l){a.has(l)||ip(l,null)}),a.forEach(function(l){s.has(l)||ip(l,o)})}Q0.set(n,e)},[e]),n}function fB(e){return e}function hB(e,t){t===void 0&&(t=fB);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function mB(e){e===void 0&&(e={});var t=hB(null);return t.options=Wr({async:!0,ssr:!1},e),t}var dP=function(e){var t=e.sideCar,n=uP(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Wr({},n))};dP.isSideCarExport=!0;function pB(e,t){return e.useMedium(t),dP}var fP=mB(),op=function(){},Vh=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:op,onWheelCapture:op,onTouchMoveCapture:op}),s=r[0],a=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,w=e.inert,y=e.allowPinchZoom,b=e.as,x=b===void 0?"div":b,g=e.gapMode,v=uP(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,_=dB([n,t]),j=Wr(Wr({},v),s);return m.createElement(m.Fragment,null,d&&m.createElement(S,{sideCar:fP,removeScrollBar:u,shards:f,noIsolation:p,inert:w,setCallbacks:a,allowPinchZoom:!!y,lockRef:n,gapMode:g}),o?m.cloneElement(m.Children.only(l),Wr(Wr({},j),{ref:_})):m.createElement(x,Wr({},j,{className:c,ref:_}),l))});Vh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vh.classNames={fullWidth:Ed,zeroRight:kd};var gB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yB(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=gB();return t&&e.setAttribute("nonce",t),e}function vB(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function xB(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var wB=function(){var e=0,t=null;return{add:function(n){e==0&&(t=yB())&&(vB(t,n),xB(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},bB=function(){var e=wB();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},hP=function(){var e=bB(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},SB={left:0,top:0,right:0,gap:0},lp=function(e){return parseInt(e||"",10)||0},_B=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[lp(n),lp(r),lp(s)]},NB=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return SB;var t=_B(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},CB=hP(),mo="data-scroll-locked",jB=function(e,t,n,r){var s=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(oB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(mo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(kd,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Ed,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(kd," .").concat(kd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ed," .").concat(Ed,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(mo,`] {
    `).concat(lB,": ").concat(l,`px;
  }
`)},K0=function(){var e=parseInt(document.body.getAttribute(mo)||"0",10);return isFinite(e)?e:0},kB=function(){m.useEffect(function(){return document.body.setAttribute(mo,(K0()+1).toString()),function(){var e=K0()-1;e<=0?document.body.removeAttribute(mo):document.body.setAttribute(mo,e.toString())}},[])},EB=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;kB();var a=m.useMemo(function(){return NB(s)},[s]);return m.createElement(CB,{styles:jB(a,!t,s,n?"":"!important")})},Gg=!1;if(typeof window<"u")try{var Zu=Object.defineProperty({},"passive",{get:function(){return Gg=!0,!0}});window.addEventListener("test",Zu,Zu),window.removeEventListener("test",Zu,Zu)}catch{Gg=!1}var Pi=Gg?{passive:!1}:!1,PB=function(e){return e.tagName==="TEXTAREA"},mP=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!PB(e)&&n[t]==="visible")},TB=function(e){return mP(e,"overflowY")},AB=function(e){return mP(e,"overflowX")},G0=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=pP(e,r);if(s){var a=gP(e,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},RB=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},MB=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},pP=function(e,t){return e==="v"?TB(t):AB(t)},gP=function(e,t){return e==="v"?RB(t):MB(t)},OB=function(e,t){return e==="h"&&t==="rtl"?-1:1},IB=function(e,t,n,r,s){var a=OB(e,window.getComputedStyle(t).direction),o=a*r,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{var p=gP(e,l),w=p[0],y=p[1],b=p[2],x=y-b-a*w;(w||x)&&pP(e,l)&&(f+=x,h+=w),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(h)<1||!s))&&(u=!0),u},Ju=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Y0=function(e){return[e.deltaX,e.deltaY]},X0=function(e){return e&&"current"in e?e.current:e},DB=function(e,t){return e[0]===t[0]&&e[1]===t[1]},FB=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},LB=0,Ti=[];function $B(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(LB++)[0],a=m.useState(hP)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=iB([e.lockRef.current],(e.shards||[]).map(X0),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var x=Ju(y),g=n.current,v="deltaX"in y?y.deltaX:g[0]-x[0],S="deltaY"in y?y.deltaY:g[1]-x[1],_,j=y.target,N=Math.abs(v)>Math.abs(S)?"h":"v";if("touches"in y&&N==="h"&&j.type==="range")return!1;var E=G0(N,j);if(!E)return!0;if(E?_=N:(_=N==="v"?"h":"v",E=G0(N,j)),!E)return!1;if(!r.current&&"changedTouches"in y&&(v||S)&&(r.current=_),!_)return!0;var P=r.current||_;return IB(P,b,y,P==="h"?v:S,!0)},[]),c=m.useCallback(function(y){var b=y;if(!(!Ti.length||Ti[Ti.length-1]!==a)){var x="deltaY"in b?Y0(b):Ju(b),g=t.current.filter(function(_){return _.name===b.type&&(_.target===b.target||b.target===_.shadowParent)&&DB(_.delta,x)})[0];if(g&&g.should){b.cancelable&&b.preventDefault();return}if(!g){var v=(o.current.shards||[]).map(X0).filter(Boolean).filter(function(_){return _.contains(b.target)}),S=v.length>0?l(b,v[0]):!o.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=m.useCallback(function(y,b,x,g){var v={name:y,delta:b,target:x,should:g,shadowParent:zB(x)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(S){return S!==v})},1)},[]),d=m.useCallback(function(y){n.current=Ju(y),r.current=void 0},[]),f=m.useCallback(function(y){u(y.type,Y0(y),y.target,l(y,e.lockRef.current))},[]),h=m.useCallback(function(y){u(y.type,Ju(y),y.target,l(y,e.lockRef.current))},[]);m.useEffect(function(){return Ti.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Pi),document.addEventListener("touchmove",c,Pi),document.addEventListener("touchstart",d,Pi),function(){Ti=Ti.filter(function(y){return y!==a}),document.removeEventListener("wheel",c,Pi),document.removeEventListener("touchmove",c,Pi),document.removeEventListener("touchstart",d,Pi)}},[]);var p=e.removeScrollBar,w=e.inert;return m.createElement(m.Fragment,null,w?m.createElement(a,{styles:FB(s)}):null,p?m.createElement(EB,{gapMode:e.gapMode}):null)}function zB(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const BB=pB(fP,$B);var lu=m.forwardRef(function(e,t){return m.createElement(Vh,Wr({},e,{ref:t,sideCar:BB}))});lu.classNames=Vh.classNames;var VB=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ai=new WeakMap,ed=new WeakMap,td={},cp=0,yP=function(e){return e&&(e.host||yP(e.parentNode))},UB=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=yP(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},WB=function(e,t,n,r){var s=UB(t,Array.isArray(e)?e:[e]);td[n]||(td[n]=new WeakMap);var a=td[n],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(r),w=p!==null&&p!=="false",y=(Ai.get(h)||0)+1,b=(a.get(h)||0)+1;Ai.set(h,y),a.set(h,b),o.push(h),y===1&&w&&ed.set(h,!0),b===1&&h.setAttribute(n,"true"),w||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(t),l.clear(),cp++,function(){o.forEach(function(f){var h=Ai.get(f)-1,p=a.get(f)-1;Ai.set(f,h),a.set(f,p),h||(ed.has(f)||f.removeAttribute(r),ed.delete(f)),p||f.removeAttribute(n)}),cp--,cp||(Ai=new WeakMap,Ai=new WeakMap,ed=new WeakMap,td={})}},Uh=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=VB(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),WB(r,s,n,"aria-hidden")):function(){return null}},Hv="Dialog",[vP,I7]=gn(Hv),[HB,Rr]=vP(Hv),xP=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[u=!1,d]=Er({prop:r,defaultProp:s,onChange:a});return i.jsx(HB,{scope:t,triggerRef:l,contentRef:c,contentId:or(),titleId:or(),descriptionId:or(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};xP.displayName=Hv;var wP="DialogTrigger",bP=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Rr(wP,n),a=Ie(t,s.triggerRef);return i.jsx(he.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Kv(s.open),...r,ref:a,onClick:Y(e.onClick,s.onOpenToggle)})});bP.displayName=wP;var qv="DialogPortal",[qB,SP]=vP(qv,{forceMount:void 0}),_P=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,a=Rr(qv,t);return i.jsx(qB,{scope:t,forceMount:n,children:m.Children.map(r,o=>i.jsx(Lt,{present:n||a.open,children:i.jsx(Jo,{asChild:!0,container:s,children:o})}))})};_P.displayName=qv;var Sf="DialogOverlay",NP=m.forwardRef((e,t)=>{const n=SP(Sf,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Rr(Sf,e.__scopeDialog);return a.modal?i.jsx(Lt,{present:r||a.open,children:i.jsx(KB,{...s,ref:t})}):null});NP.displayName=Sf;var QB=fa("DialogOverlay.RemoveScroll"),KB=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Rr(Sf,n);return i.jsx(lu,{as:QB,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(he.div,{"data-state":Kv(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),mi="DialogContent",CP=m.forwardRef((e,t)=>{const n=SP(mi,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,a=Rr(mi,e.__scopeDialog);return i.jsx(Lt,{present:r||a.open,children:a.modal?i.jsx(GB,{...s,ref:t}):i.jsx(YB,{...s,ref:t})})});CP.displayName=mi;var GB=m.forwardRef((e,t)=>{const n=Rr(mi,e.__scopeDialog),r=m.useRef(null),s=Ie(t,n.contentRef,r);return m.useEffect(()=>{const a=r.current;if(a)return Uh(a)},[]),i.jsx(jP,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Y(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Y(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Y(e.onFocusOutside,a=>a.preventDefault())})}),YB=m.forwardRef((e,t)=>{const n=Rr(mi,e.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return i.jsx(jP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),jP=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=Rr(mi,n),c=m.useRef(null),u=Ie(t,c);return Bh(),i.jsxs(i.Fragment,{children:[i.jsx(ou,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Si,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Kv(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(XB,{titleId:l.titleId}),i.jsx(JB,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Qv="DialogTitle",kP=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Rr(Qv,n);return i.jsx(he.h2,{id:s.titleId,...r,ref:t})});kP.displayName=Qv;var EP="DialogDescription",PP=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Rr(EP,n);return i.jsx(he.p,{id:s.descriptionId,...r,ref:t})});PP.displayName=EP;var TP="DialogClose",AP=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Rr(TP,n);return i.jsx(he.button,{type:"button",...r,ref:t,onClick:Y(e.onClick,()=>s.onOpenChange(!1))})});AP.displayName=TP;function Kv(e){return e?"open":"closed"}var RP="DialogTitleWarning",[D7,MP]=xL(RP,{contentName:mi,titleName:Qv,docsSlug:"dialog"}),XB=({titleId:e})=>{const t=MP(RP),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},ZB="DialogDescriptionWarning",JB=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${MP(ZB).contentName}}.`;return m.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},OP=xP,IP=bP,DP=_P,Wh=NP,Hh=CP,qh=kP,Qh=PP,FP=AP;const Kh=OP,e5=IP,t5=DP,LP=m.forwardRef(({className:e,...t},n)=>i.jsx(Wh,{className:te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));LP.displayName=Wh.displayName;const n5=el("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),cu=m.forwardRef(({side:e="right",className:t,children:n,...r},s)=>i.jsxs(t5,{children:[i.jsx(LP,{}),i.jsxs(Hh,{ref:s,className:te(n5({side:e}),t),...r,children:[n,i.jsxs(FP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(_n,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));cu.displayName=Hh.displayName;const uu=({className:e,...t})=>i.jsx("div",{className:te("flex flex-col space-y-2 text-center sm:text-left",e),...t});uu.displayName="SheetHeader";const $P=({className:e,...t})=>i.jsx("div",{className:te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});$P.displayName="SheetFooter";const du=m.forwardRef(({className:e,...t},n)=>i.jsx(qh,{ref:n,className:te("text-lg font-semibold text-foreground",e),...t}));du.displayName=qh.displayName;const Gh=m.forwardRef(({className:e,...t},n)=>i.jsx(Qh,{ref:n,className:te("text-sm text-muted-foreground",e),...t}));Gh.displayName=Qh.displayName;function Da({className:e,...t}){return i.jsx("div",{className:te("animate-pulse rounded-md bg-muted",e),...t})}const r5="sidebar_state",s5=60*60*24*7,a5="16rem",i5="18rem",o5="3rem",l5="b",zP=m.createContext(null);function Yh(){const e=m.useContext(zP);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function c5({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:s,children:a,...o}){const l=Qz(),[c,u]=m.useState(!1),[d,f]=m.useState(e),h=t??d,p=m.useCallback(x=>{const g=typeof x=="function"?x(h):x;n?n(g):f(g),document.cookie=`${r5}=${g}; path=/; max-age=${s5}`},[n,h]),w=m.useCallback(()=>l?u(x=>!x):p(x=>!x),[l,p,u]);m.useEffect(()=>{const x=g=>{g.key===l5&&(g.metaKey||g.ctrlKey)&&(g.preventDefault(),w())};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[w]);const y=h?"expanded":"collapsed",b=m.useMemo(()=>({state:y,open:h,setOpen:p,isMobile:l,openMobile:c,setOpenMobile:u,toggleSidebar:w}),[y,h,p,l,c,u,w]);return i.jsx(zP.Provider,{value:b,children:i.jsx(aP,{delayDuration:0,children:i.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":a5,"--sidebar-width-icon":o5,...s},className:te("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...o,children:a})})})}function u5({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:s,...a}){const{isMobile:o,state:l,openMobile:c,setOpenMobile:u}=Yh();return n==="none"?i.jsx("div",{"data-slot":"sidebar",className:te("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",r),...a,children:s}):o?i.jsx(Kh,{open:c,onOpenChange:u,...a,children:i.jsxs(cu,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":i5},side:e,children:[i.jsxs(uu,{className:"sr-only",children:[i.jsx(du,{children:"Sidebar"}),i.jsx(Gh,{children:"Displays the mobile sidebar."})]}),i.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})}):i.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":l,"data-collapsible":l==="collapsed"?n:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[i.jsx("div",{"data-slot":"sidebar-gap",className:te("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),i.jsx("div",{"data-slot":"sidebar-container",className:te("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...a,children:i.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:s})})]})}function d5({className:e,onClick:t,...n}){const{toggleSidebar:r}=Yh();return i.jsxs(q,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:te("h-7 w-7",e),onClick:s=>{t==null||t(s),r()},...n,children:[i.jsx(E$,{}),i.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function f5({className:e,...t}){return i.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:te("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function h5({className:e,...t}){return i.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:te("relative flex w-full min-w-0 flex-col p-2",e),...t})}function m5({className:e,asChild:t=!1,...n}){const r=t?Ch:"div";return i.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:te("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})}function p5({className:e,...t}){return i.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:te("w-full text-sm",e),...t})}function g5({className:e,...t}){return i.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:te("flex w-full min-w-0 flex-col gap-1",e),...t})}function y5({className:e,...t}){return i.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:te("group/menu-item relative",e),...t})}const v5=el("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function x5({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:s,className:a,...o}){const l=e?Ch:"button",{isMobile:c,state:u}=Yh(),d=i.jsx(l,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":t,className:te(v5({variant:n,size:r}),a),...o});return s?(typeof s=="string"&&(s={children:s}),i.jsxs(Hz,{children:[i.jsx(qz,{asChild:!0,children:d}),i.jsx(iP,{side:"right",align:"center",hidden:u!=="collapsed"||c,...s})]})):d}const w5=[{title:"My Library",url:"/",icon:S$},{title:"Currently Reading",url:"/reading",icon:Ft},{title:"Reading Goals",url:"/goals",icon:yf},{title:"Reading Stats",url:"/stats",icon:Th},{title:"Notes",url:"/notes",icon:k$}];function b5(){const[e]=Ek(),{setOpenMobile:t}=Yh(),n=()=>{t(!1),console.log("Navigation clicked, sidebar minimized")};return i.jsx(u5,{children:i.jsx(f5,{children:i.jsxs(h5,{children:[i.jsx(m5,{children:"BookTracker"}),i.jsx(p5,{children:i.jsx(g5,{children:w5.map(r=>i.jsx(y5,{children:i.jsx(x5,{asChild:!0,"data-active":e===r.url,children:i.jsxs(O4,{href:r.url,onClick:n,"data-testid":`link-${r.title.toLowerCase().replace(/\s+/g,"-")}`,children:[i.jsx(r.icon,{}),i.jsx("span",{children:r.title})]})})},r.title))})})]})})})}function S5(){const[e,t]=m.useState("light");m.useEffect(()=>{const r=localStorage.getItem("theme"),s=window.matchMedia("(prefers-color-scheme: dark)").matches,a=r||(s?"dark":"light");t(a),document.documentElement.classList.toggle("dark",a==="dark")},[]);const n=()=>{const r=e==="light"?"dark":"light";t(r),localStorage.setItem("theme",r),document.documentElement.classList.toggle("dark",r==="dark"),console.log("Theme toggled to:",r)};return i.jsxs(q,{variant:"ghost",size:"icon",onClick:n,"data-testid":"button-theme-toggle",children:[e==="light"?i.jsx(j$,{className:"h-5 w-5"}):i.jsx(R$,{className:"h-5 w-5"}),i.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}const _5=el("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Ee({className:e,variant:t,...n}){return i.jsx("div",{className:te(_5({variant:t}),e),...n})}const ve=m.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:te("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));ve.displayName="Card";const et=m.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:te("flex flex-col space-y-1.5 p-6",e),...t}));et.displayName="CardHeader";const tt=m.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:te("text-2xl font-semibold leading-none tracking-tight",e),...t}));tt.displayName="CardTitle";const N5=m.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:te("text-sm text-muted-foreground",e),...t}));N5.displayName="CardDescription";const we=m.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:te("p-6 pt-0",e),...t}));we.displayName="CardContent";const C5=m.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:te("flex items-center p-6 pt-0",e),...t}));C5.displayName="CardFooter";var Gv="Progress",Yv=100,[j5,F7]=gn(Gv),[k5,E5]=j5(Gv),BP=m.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:a=P5,...o}=e;(s||s===0)&&!Z0(s)&&console.error(T5(`${s}`,"Progress"));const l=Z0(s)?s:Yv;r!==null&&!J0(r,l)&&console.error(A5(`${r}`,"Progress"));const c=J0(r,l)?r:null,u=_f(c)?a(c,l):void 0;return i.jsx(k5,{scope:n,value:c,max:l,children:i.jsx(he.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":_f(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":WP(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});BP.displayName=Gv;var VP="ProgressIndicator",UP=m.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=E5(VP,n);return i.jsx(he.div,{"data-state":WP(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});UP.displayName=VP;function P5(e,t){return`${Math.round(e/t*100)}%`}function WP(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function _f(e){return typeof e=="number"}function Z0(e){return _f(e)&&!isNaN(e)&&e>0}function J0(e,t){return _f(e)&&!isNaN(e)&&e<=t&&e>=0}function T5(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Yv}\`.`}function A5(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Yv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var HP=BP,R5=UP;const ga=m.forwardRef(({className:e,value:t,...n},r)=>i.jsx(HP,{ref:r,className:te("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:i.jsx(R5,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));ga.displayName=HP.displayName;function Xv(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Zv="Checkbox",[M5,L7]=gn(Zv),[O5,I5]=M5(Zv),qP=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=m.useState(null),w=Ie(t,S=>p(S)),y=m.useRef(!1),b=h?d||!!h.closest("form"):!0,[x=!1,g]=Er({prop:s,defaultProp:a,onChange:u}),v=m.useRef(x);return m.useEffect(()=>{const S=h==null?void 0:h.form;if(S){const _=()=>g(v.current);return S.addEventListener("reset",_),()=>S.removeEventListener("reset",_)}},[h,g]),i.jsxs(O5,{scope:n,state:x,disabled:l,children:[i.jsx(he.button,{type:"button",role:"checkbox","aria-checked":oa(x)?"mixed":x,"aria-required":o,"data-state":GP(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:w,onKeyDown:Y(e.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:Y(e.onClick,S=>{g(_=>oa(_)?!0:!_),b&&(y.current=S.isPropagationStopped(),y.current||S.stopPropagation())})}),b&&i.jsx(D5,{control:h,bubbles:!y.current,name:r,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:oa(a)?!1:a})]})});qP.displayName=Zv;var QP="CheckboxIndicator",KP=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,a=I5(QP,n);return i.jsx(Lt,{present:r||oa(a.state)||a.state===!0,children:i.jsx(he.span,{"data-state":GP(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});KP.displayName=QP;var D5=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:s,...a}=e,o=m.useRef(null),l=Xv(n),c=Bv(t);m.useEffect(()=>{const d=o.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==n&&p){const w=new Event("click",{bubbles:r});d.indeterminate=oa(n),p.call(d,oa(n)?!1:n),d.dispatchEvent(w)}},[l,n,r]);const u=m.useRef(oa(n)?!1:n);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...a,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function oa(e){return e==="indeterminate"}function GP(e){return oa(e)?"indeterminate":e?"checked":"unchecked"}var YP=qP,F5=KP;const ys=m.forwardRef(({className:e,...t},n)=>i.jsx(YP,{ref:n,className:te("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(F5,{className:te("flex items-center justify-center text-current"),children:i.jsx(Tv,{className:"h-4 w-4"})})}));ys.displayName=YP.displayName;var L5=m.createContext(void 0);function fu(e){const t=m.useContext(L5);return e||t||"ltr"}var up="rovingFocusGroup.onEntryFocus",$5={bubbles:!1,cancelable:!0},Xh="RovingFocusGroup",[Yg,XP,z5]=jh(Xh),[B5,Zh]=gn(Xh,[z5]),[V5,U5]=B5(Xh),ZP=m.forwardRef((e,t)=>i.jsx(Yg.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Yg.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(W5,{...e,ref:t})})}));ZP.displayName=Xh;var W5=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),p=Ie(t,h),w=fu(a),[y=null,b]=Er({prop:o,defaultProp:l,onChange:c}),[x,g]=m.useState(!1),v=dt(u),S=XP(n),_=m.useRef(!1),[j,N]=m.useState(0);return m.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(up,v),()=>E.removeEventListener(up,v)},[v]),i.jsx(V5,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:y,onItemFocus:m.useCallback(E=>b(E),[b]),onItemShiftTab:m.useCallback(()=>g(!0),[]),onFocusableItemAdd:m.useCallback(()=>N(E=>E+1),[]),onFocusableItemRemove:m.useCallback(()=>N(E=>E-1),[]),children:i.jsx(he.div,{tabIndex:x||j===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:Y(e.onMouseDown,()=>{_.current=!0}),onFocus:Y(e.onFocus,E=>{const P=!_.current;if(E.target===E.currentTarget&&P&&!x){const I=new CustomEvent(up,$5);if(E.currentTarget.dispatchEvent(I),!I.defaultPrevented){const k=S().filter(z=>z.focusable),R=k.find(z=>z.active),$=k.find(z=>z.id===y),W=[R,$,...k].filter(Boolean).map(z=>z.ref.current);tT(W,d)}}_.current=!1}),onBlur:Y(e.onBlur,()=>g(!1))})})}),JP="RovingFocusGroupItem",eT=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:a,...o}=e,l=or(),c=a||l,u=U5(JP,n),d=u.currentTabStopId===c,f=XP(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return m.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),i.jsx(Yg.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:i.jsx(he.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:Y(e.onMouseDown,w=>{r?u.onItemFocus(c):w.preventDefault()}),onFocus:Y(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Y(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=Q5(w,u.orientation,u.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let x=f().filter(g=>g.focusable).map(g=>g.ref.current);if(y==="last")x.reverse();else if(y==="prev"||y==="next"){y==="prev"&&x.reverse();const g=x.indexOf(w.currentTarget);x=u.loop?K5(x,g+1):x.slice(g+1)}setTimeout(()=>tT(x))}})})})});eT.displayName=JP;var H5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function q5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Q5(e,t,n){const r=q5(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return H5[r]}function tT(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function K5(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var nT=ZP,rT=eT,Xg=["Enter"," "],G5=["ArrowDown","PageUp","Home"],sT=["ArrowUp","PageDown","End"],Y5=[...G5,...sT],X5={ltr:[...Xg,"ArrowRight"],rtl:[...Xg,"ArrowLeft"]},Z5={ltr:["ArrowLeft"],rtl:["ArrowRight"]},hu="Menu",[kc,J5,eV]=jh(hu),[Ni,aT]=gn(hu,[eV,ka,Zh]),Jh=ka(),iT=Zh(),[tV,Ci]=Ni(hu),[nV,mu]=Ni(hu),oT=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:a,modal:o=!0}=e,l=Jh(t),[c,u]=m.useState(null),d=m.useRef(!1),f=dt(a),h=fu(s);return m.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),i.jsx(Oh,{...l,children:i.jsx(tV,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(nV,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:r})})})};oT.displayName=hu;var rV="MenuAnchor",Jv=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Jh(n);return i.jsx(iu,{...s,...r,ref:t})});Jv.displayName=rV;var ex="MenuPortal",[sV,lT]=Ni(ex,{forceMount:void 0}),cT=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,a=Ci(ex,t);return i.jsx(sV,{scope:t,forceMount:n,children:i.jsx(Lt,{present:n||a.open,children:i.jsx(Jo,{asChild:!0,container:s,children:r})})})};cT.displayName=ex;var lr="MenuContent",[aV,tx]=Ni(lr),uT=m.forwardRef((e,t)=>{const n=lT(lr,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=Ci(lr,e.__scopeMenu),o=mu(lr,e.__scopeMenu);return i.jsx(kc.Provider,{scope:e.__scopeMenu,children:i.jsx(Lt,{present:r||a.open,children:i.jsx(kc.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(iV,{...s,ref:t}):i.jsx(oV,{...s,ref:t})})})})}),iV=m.forwardRef((e,t)=>{const n=Ci(lr,e.__scopeMenu),r=m.useRef(null),s=Ie(t,r);return m.useEffect(()=>{const a=r.current;if(a)return Uh(a)},[]),i.jsx(nx,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Y(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),oV=m.forwardRef((e,t)=>{const n=Ci(lr,e.__scopeMenu);return i.jsx(nx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),lV=fa("MenuContent.ScrollLock"),nx=m.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:w,...y}=e,b=Ci(lr,n),x=mu(lr,n),g=Jh(n),v=iT(n),S=J5(n),[_,j]=m.useState(null),N=m.useRef(null),E=Ie(t,N,b.onContentChange),P=m.useRef(0),I=m.useRef(""),k=m.useRef(0),R=m.useRef(null),$=m.useRef("right"),C=m.useRef(0),W=w?lu:m.Fragment,z=w?{as:lV,allowPinchZoom:!0}:void 0,ee=F=>{var V,ae;const Q=I.current+F,X=S().filter(je=>!je.disabled),ce=document.activeElement,ke=(V=X.find(je=>je.ref.current===ce))==null?void 0:V.textValue,Ce=X.map(je=>je.textValue),$e=wV(Ce,Q,ke),B=(ae=X.find(je=>je.textValue===$e))==null?void 0:ae.ref.current;(function je(Ve){I.current=Ve,window.clearTimeout(P.current),Ve!==""&&(P.current=window.setTimeout(()=>je(""),1e3))})(Q),B&&setTimeout(()=>B.focus())};m.useEffect(()=>()=>window.clearTimeout(P.current),[]),Bh();const M=m.useCallback(F=>{var X,ce;return $.current===((X=R.current)==null?void 0:X.side)&&SV(F,(ce=R.current)==null?void 0:ce.area)},[]);return i.jsx(aV,{scope:n,searchRef:I,onItemEnter:m.useCallback(F=>{M(F)&&F.preventDefault()},[M]),onItemLeave:m.useCallback(F=>{var Q;M(F)||((Q=N.current)==null||Q.focus(),j(null))},[M]),onTriggerLeave:m.useCallback(F=>{M(F)&&F.preventDefault()},[M]),pointerGraceTimerRef:k,onPointerGraceIntentChange:m.useCallback(F=>{R.current=F},[]),children:i.jsx(W,{...z,children:i.jsx(ou,{asChild:!0,trapped:s,onMountAutoFocus:Y(a,F=>{var Q;F.preventDefault(),(Q=N.current)==null||Q.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(Si,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:i.jsx(nT,{asChild:!0,...v,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:_,onCurrentTabStopIdChange:j,onEntryFocus:Y(c,F=>{x.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(Ih,{role:"menu","aria-orientation":"vertical","data-state":jT(b.open),"data-radix-menu-content":"",dir:x.dir,...g,...y,ref:E,style:{outline:"none",...y.style},onKeyDown:Y(y.onKeyDown,F=>{const X=F.target.closest("[data-radix-menu-content]")===F.currentTarget,ce=F.ctrlKey||F.altKey||F.metaKey,ke=F.key.length===1;X&&(F.key==="Tab"&&F.preventDefault(),!ce&&ke&&ee(F.key));const Ce=N.current;if(F.target!==Ce||!Y5.includes(F.key))return;F.preventDefault();const B=S().filter(V=>!V.disabled).map(V=>V.ref.current);sT.includes(F.key)&&B.reverse(),vV(B)}),onBlur:Y(e.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(P.current),I.current="")}),onPointerMove:Y(e.onPointerMove,Ec(F=>{const Q=F.target,X=C.current!==F.clientX;if(F.currentTarget.contains(Q)&&X){const ce=F.clientX>C.current?"right":"left";$.current=ce,C.current=F.clientX}}))})})})})})})});uT.displayName=lr;var cV="MenuGroup",rx=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(he.div,{role:"group",...r,ref:t})});rx.displayName=cV;var uV="MenuLabel",dT=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(he.div,{...r,ref:t})});dT.displayName=uV;var Nf="MenuItem",eb="menu.itemSelect",em=m.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,a=m.useRef(null),o=mu(Nf,e.__scopeMenu),l=tx(Nf,e.__scopeMenu),c=Ie(t,a),u=m.useRef(!1),d=()=>{const f=a.current;if(!n&&f){const h=new CustomEvent(eb,{bubbles:!0,cancelable:!0});f.addEventListener(eb,p=>r==null?void 0:r(p),{once:!0}),Nv(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(fT,{...s,ref:c,disabled:n,onClick:Y(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Y(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Y(e.onKeyDown,f=>{const h=l.searchRef.current!=="";n||h&&f.key===" "||Xg.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});em.displayName=Nf;var fT=m.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...a}=e,o=tx(Nf,n),l=iT(n),c=m.useRef(null),u=Ie(t,c),[d,f]=m.useState(!1),[h,p]=m.useState("");return m.useEffect(()=>{const w=c.current;w&&p((w.textContent??"").trim())},[a.children]),i.jsx(kc.ItemSlot,{scope:n,disabled:r,textValue:s??h,children:i.jsx(rT,{asChild:!0,...l,focusable:!r,children:i.jsx(he.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:u,onPointerMove:Y(e.onPointerMove,Ec(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Y(e.onPointerLeave,Ec(w=>o.onItemLeave(w))),onFocus:Y(e.onFocus,()=>f(!0)),onBlur:Y(e.onBlur,()=>f(!1))})})})}),dV="MenuCheckboxItem",hT=m.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return i.jsx(vT,{scope:e.__scopeMenu,checked:n,children:i.jsx(em,{role:"menuitemcheckbox","aria-checked":Cf(n)?"mixed":n,...s,ref:t,"data-state":ax(n),onSelect:Y(s.onSelect,()=>r==null?void 0:r(Cf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});hT.displayName=dV;var mT="MenuRadioGroup",[fV,hV]=Ni(mT,{value:void 0,onValueChange:()=>{}}),pT=m.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,a=dt(r);return i.jsx(fV,{scope:e.__scopeMenu,value:n,onValueChange:a,children:i.jsx(rx,{...s,ref:t})})});pT.displayName=mT;var gT="MenuRadioItem",yT=m.forwardRef((e,t)=>{const{value:n,...r}=e,s=hV(gT,e.__scopeMenu),a=n===s.value;return i.jsx(vT,{scope:e.__scopeMenu,checked:a,children:i.jsx(em,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":ax(a),onSelect:Y(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});yT.displayName=gT;var sx="MenuItemIndicator",[vT,mV]=Ni(sx,{checked:!1}),xT=m.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,a=mV(sx,n);return i.jsx(Lt,{present:r||Cf(a.checked)||a.checked===!0,children:i.jsx(he.span,{...s,ref:t,"data-state":ax(a.checked)})})});xT.displayName=sx;var pV="MenuSeparator",wT=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return i.jsx(he.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});wT.displayName=pV;var gV="MenuArrow",bT=m.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Jh(n);return i.jsx(Dh,{...s,...r,ref:t})});bT.displayName=gV;var yV="MenuSub",[$7,ST]=Ni(yV),Al="MenuSubTrigger",_T=m.forwardRef((e,t)=>{const n=Ci(Al,e.__scopeMenu),r=mu(Al,e.__scopeMenu),s=ST(Al,e.__scopeMenu),a=tx(Al,e.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(Jv,{asChild:!0,...u,children:i.jsx(fT,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":jT(n.open),...e,ref:Nh(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Y(e.onPointerMove,Ec(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Y(e.onPointerLeave,Ec(f=>{var p,w;d();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const y=(w=n.content)==null?void 0:w.dataset.side,b=y==="right",x=b?-5:5,g=h[b?"left":"right"],v=h[b?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:g,y:h.top},{x:v,y:h.top},{x:v,y:h.bottom},{x:g,y:h.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Y(e.onKeyDown,f=>{var p;const h=a.searchRef.current!=="";e.disabled||h&&f.key===" "||X5[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});_T.displayName=Al;var NT="MenuSubContent",CT=m.forwardRef((e,t)=>{const n=lT(lr,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,a=Ci(lr,e.__scopeMenu),o=mu(lr,e.__scopeMenu),l=ST(NT,e.__scopeMenu),c=m.useRef(null),u=Ie(t,c);return i.jsx(kc.Provider,{scope:e.__scopeMenu,children:i.jsx(Lt,{present:r||a.open,children:i.jsx(kc.Slot,{scope:e.__scopeMenu,children:i.jsx(nx,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Y(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Y(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Y(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=Z5[o.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});CT.displayName=NT;function jT(e){return e?"open":"closed"}function Cf(e){return e==="indeterminate"}function ax(e){return Cf(e)?"indeterminate":e?"checked":"unchecked"}function vV(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function xV(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function wV(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=xV(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function bV(e,t){const{x:n,y:r}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,u=t[o].x,d=t[o].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(s=!s)}return s}function SV(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return bV(n,t)}function Ec(e){return t=>t.pointerType==="mouse"?e(t):void 0}var _V=oT,NV=Jv,CV=cT,jV=uT,kV=rx,EV=dT,PV=em,TV=hT,AV=pT,RV=yT,MV=xT,OV=wT,IV=bT,DV=_T,FV=CT,ix="DropdownMenu",[LV,z7]=gn(ix,[aT]),yn=aT(),[$V,kT]=LV(ix),ET=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=yn(t),u=m.useRef(null),[d=!1,f]=Er({prop:s,defaultProp:a,onChange:o});return i.jsx($V,{scope:t,triggerId:or(),triggerRef:u,contentId:or(),open:d,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(h=>!h),[f]),modal:l,children:i.jsx(_V,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};ET.displayName=ix;var PT="DropdownMenuTrigger",TT=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,a=kT(PT,n),o=yn(n);return i.jsx(NV,{asChild:!0,...o,children:i.jsx(he.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Nh(t,a.triggerRef),onPointerDown:Y(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Y(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});TT.displayName=PT;var zV="DropdownMenuPortal",AT=e=>{const{__scopeDropdownMenu:t,...n}=e,r=yn(t);return i.jsx(CV,{...r,...n})};AT.displayName=zV;var RT="DropdownMenuContent",MT=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=kT(RT,n),a=yn(n),o=m.useRef(!1);return i.jsx(jV,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...r,ref:t,onCloseAutoFocus:Y(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Y(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});MT.displayName=RT;var BV="DropdownMenuGroup",VV=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=yn(n);return i.jsx(kV,{...s,...r,ref:t})});VV.displayName=BV;var UV="DropdownMenuLabel",OT=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=yn(n);return i.jsx(EV,{...s,...r,ref:t})});OT.displayName=UV;var WV="DropdownMenuItem",IT=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=yn(n);return i.jsx(PV,{...s,...r,ref:t})});IT.displayName=WV;var HV="DropdownMenuCheckboxItem",DT=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=yn(n);return i.jsx(TV,{...s,...r,ref:t})});DT.displayName=HV;var qV="DropdownMenuRadioGroup",QV=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=yn(n);return i.jsx(AV,{...s,...r,ref:t})});QV.displayName=qV;var KV="DropdownMenuRadioItem",FT=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=yn(n);return i.jsx(RV,{...s,...r,ref:t})});FT.displayName=KV;var GV="DropdownMenuItemIndicator",LT=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=yn(n);return i.jsx(MV,{...s,...r,ref:t})});LT.displayName=GV;var YV="DropdownMenuSeparator",$T=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=yn(n);return i.jsx(OV,{...s,...r,ref:t})});$T.displayName=YV;var XV="DropdownMenuArrow",ZV=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=yn(n);return i.jsx(IV,{...s,...r,ref:t})});ZV.displayName=XV;var JV="DropdownMenuSubTrigger",zT=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=yn(n);return i.jsx(DV,{...s,...r,ref:t})});zT.displayName=JV;var e6="DropdownMenuSubContent",BT=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=yn(n);return i.jsx(FV,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});BT.displayName=e6;var t6=ET,n6=TT,r6=AT,VT=MT,UT=OT,WT=IT,HT=DT,qT=FT,QT=LT,KT=$T,GT=zT,YT=BT;const jf=t6,kf=n6,s6=m.forwardRef(({className:e,inset:t,children:n,...r},s)=>i.jsxs(GT,{ref:s,className:te("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,i.jsx(p$,{className:"ml-auto"})]}));s6.displayName=GT.displayName;const a6=m.forwardRef(({className:e,...t},n)=>i.jsx(YT,{ref:n,className:te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));a6.displayName=YT.displayName;const Pc=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>i.jsx(r6,{children:i.jsx(VT,{ref:r,sideOffset:t,className:te("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));Pc.displayName=VT.displayName;const Fn=m.forwardRef(({className:e,inset:t,...n},r)=>i.jsx(WT,{ref:r,className:te("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));Fn.displayName=WT.displayName;const Li=m.forwardRef(({className:e,children:t,checked:n,...r},s)=>i.jsxs(HT,{ref:s,className:te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(QT,{children:i.jsx(Tv,{className:"h-4 w-4"})})}),t]}));Li.displayName=HT.displayName;const i6=m.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(qT,{ref:r,className:te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(QT,{children:i.jsx(y$,{className:"h-2 w-2 fill-current"})})}),t]}));i6.displayName=qT.displayName;const Rl=m.forwardRef(({className:e,inset:t,...n},r)=>i.jsx(UT,{ref:r,className:te("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Rl.displayName=UT.displayName;const Va=m.forwardRef(({className:e,...t},n)=>i.jsx(KT,{ref:n,className:te("-mx-1 my-1 h-px bg-muted",e),...t}));Va.displayName=KT.displayName;const o6={toRead:{label:"To Read",color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",icon:Ev},reading:{label:"Reading",color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",icon:Ft},onHold:{label:"On Hold",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",icon:pf},dnf:{label:"DNF",color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",icon:g$},finished:{label:"Finished",color:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",icon:mf}};function l6({id:e,title:t,author:n,genre:r,topics:s=[],tags:a=[],status:o="toRead",priority:l=3,format:c="paper",language:u="English",progress:d=0,totalPages:f,currentPage:h=0,coverUrl:p,addedAt:w,lastReadAt:y,usefulness:b,isCurrentlyReading:x=!1,isSelected:g=!1,showSelection:v=!1,viewMode:S="grid",onSelect:_,onStartReading:j,onContinueReading:N,onViewDetails:E,onDelete:P,onEdit:I,onStatusChange:k}){const[R,$]=m.useState(!1),C=o6[o],W=(C==null?void 0:C.icon)||Ev,z=(d||0)*100,ee=async()=>{$(!0),o==="reading"&&N?N(e):o!=="finished"&&j&&j(e),setTimeout(()=>$(!1),500)},M=()=>{E==null||E(e)},F=()=>{P==null||P(e)},Q=()=>{I==null||I(e)},X=()=>{const V=o==="toRead"?"reading":"toRead";k==null||k(e,V)},ce=()=>{k==null||k(e,ke(o))},ke=V=>{const ae=["toRead","reading","onHold","finished","dnf"],je=ae.indexOf(V);return ae[(je+1)%ae.length]},Ce=()=>o==="reading"?"Continue":o==="finished"?"Finished":"Start",B=o==="reading"?d$:o==="finished"?mf:zg;return S==="list"?i.jsx(ve,{className:`hover-elevate ${g?"ring-2 ring-primary":""}`,"data-testid":`card-book-${e}`,children:i.jsxs(we,{className:"flex items-center gap-4 p-4",children:[v&&i.jsx(ys,{checked:g,onCheckedChange:_,"data-testid":`checkbox-select-${e}`}),i.jsx("div",{className:"w-12 h-16 bg-muted rounded flex-shrink-0 flex items-center justify-center",children:p?i.jsx("img",{src:p,alt:t,className:"w-full h-full object-cover rounded"}):i.jsx(Ft,{className:"h-6 w-6 text-muted-foreground"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-serif font-medium truncate","data-testid":`text-book-title-${e}`,children:t}),i.jsxs("p",{className:"text-sm text-muted-foreground truncate","data-testid":`text-book-author-${e}`,children:["by ",n]})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[i.jsxs(Ee,{className:`${C==null?void 0:C.color} cursor-pointer hover-elevate`,onClick:ce,"data-testid":`badge-status-${e}`,children:[i.jsx(W,{className:"h-3 w-3 mr-1"}),C==null?void 0:C.label]}),l&&l!==3&&i.jsxs(Ee,{variant:"outline",className:`text-xs font-semibold ${l===1?"bg-red-100 text-red-800 border-red-200":l===2?"bg-orange-100 text-orange-800 border-orange-200":l===4?"bg-blue-100 text-blue-800 border-blue-200":l===5?"bg-green-100 text-green-800 border-green-200":"bg-gray-100 text-gray-800 border-gray-200"}`,children:["P",l]})]})]}),z>0&&i.jsx("div",{className:"mb-2",children:i.jsx(ga,{value:z,className:"h-1","data-testid":`progress-reading-${e}`})}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx(Ee,{variant:"outline",className:"text-xs",children:r}),a.slice(0,3).map((V,ae)=>i.jsx(Ee,{variant:"secondary",className:"text-xs",children:V},ae)),a.length>3&&i.jsxs(Ee,{variant:"secondary",className:"text-xs",children:["+",a.length-3]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[o!=="finished"&&i.jsxs(q,{size:"sm",onClick:ee,disabled:R,"data-testid":`button-primary-action-${e}`,children:[i.jsx(B,{className:"h-4 w-4 mr-1"}),R?"...":Ce()]}),i.jsxs(jf,{children:[i.jsx(kf,{asChild:!0,children:i.jsx(q,{variant:"ghost",size:"sm","data-testid":`button-book-menu-${e}`,children:i.jsx(Lg,{className:"h-4 w-4"})})}),i.jsxs(Pc,{align:"end",children:[i.jsxs(Fn,{onClick:M,children:[i.jsx(Ft,{className:"mr-2 h-4 w-4"}),"View Details"]}),i.jsxs(Fn,{children:[i.jsx(fi,{className:"mr-2 h-4 w-4"}),"Edit"]}),i.jsx(Va,{}),i.jsxs(Fn,{onClick:F,className:"text-destructive",children:[i.jsx(zo,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})]})}):i.jsxs(ve,{className:`hover-elevate ${g?"ring-2 ring-primary":""}`,"data-testid":`card-book-${e}`,children:[i.jsxs(et,{className:"flex flex-row items-start justify-between space-y-0 pb-2",children:[i.jsxs("div",{className:"flex items-start gap-2 flex-1",children:[v&&i.jsx(ys,{checked:g,onCheckedChange:_,className:"mt-1","data-testid":`checkbox-select-${e}`}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx(tt,{className:"text-base font-serif line-clamp-2","data-testid":`text-book-title-${e}`,children:t}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-1","data-testid":`text-book-author-${e}`,children:["by ",n]})]})]}),i.jsxs(jf,{children:[i.jsx(kf,{asChild:!0,children:i.jsx(q,{variant:"ghost",size:"icon","data-testid":`button-book-menu-${e}`,children:i.jsx(Lg,{className:"h-4 w-4"})})}),i.jsxs(Pc,{align:"end",children:[i.jsxs(Fn,{onClick:M,children:[i.jsx(Ft,{className:"mr-2 h-4 w-4"}),"View Details"]}),i.jsxs(Fn,{onClick:Q,children:[i.jsx(fi,{className:"mr-2 h-4 w-4"}),"Edit"]}),i.jsxs(Fn,{onClick:X,children:[i.jsx(T$,{className:"mr-2 h-4 w-4"}),"Move to ",o==="toRead"?"Reading":"To-Read"]}),i.jsx(Va,{}),i.jsxs(Fn,{onClick:F,className:"text-destructive",children:[i.jsx(zo,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),i.jsxs(we,{className:"space-y-3",children:[p&&i.jsx("div",{className:"aspect-[3/4] rounded-md overflow-hidden bg-muted",children:i.jsx("img",{src:p,alt:t,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsxs(Ee,{className:`${C==null?void 0:C.color} cursor-pointer hover-elevate`,onClick:ce,"data-testid":`badge-status-${e}`,children:[i.jsx(W,{className:"h-3 w-3 mr-1"}),C==null?void 0:C.label]}),l&&l!==3&&i.jsxs(Ee,{variant:"outline",className:`text-xs font-semibold ${l===1?"bg-red-100 text-red-800 border-red-200":l===2?"bg-orange-100 text-orange-800 border-orange-200":l===4?"bg-blue-100 text-blue-800 border-blue-200":l===5?"bg-green-100 text-green-800 border-green-200":"bg-gray-100 text-gray-800 border-gray-200"}`,children:["Priority ",l]}),i.jsx(Ee,{variant:"outline",className:"text-xs",children:c})]}),z>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Progress"}),i.jsxs("span",{"data-testid":`text-progress-percent-${e}`,children:[Math.round(z),"%"]})]}),i.jsx(ga,{value:z,className:"h-2","data-testid":`progress-reading-${e}`})]}),s.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-1","data-testid":`topics-display-${e}`,children:[s.slice(0,3).map((V,ae)=>i.jsx(Ee,{variant:"secondary",className:"text-xs","data-testid":`topic-badge-${e}-${ae}`,children:V},ae)),s.length>3&&i.jsxs(Ee,{variant:"secondary",className:"text-xs",children:["+",s.length-3]})]}),a.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-1","data-testid":`tags-display-${e}`,children:[a.slice(0,3).map((V,ae)=>i.jsx(Ee,{variant:"outline",className:"text-xs","data-testid":`tag-badge-${e}-${ae}`,children:V},ae)),a.length>3&&i.jsxs(Ee,{variant:"outline",className:"text-xs",children:["+",a.length-3]})]}),b&&i.jsxs("p",{className:"text-sm text-muted-foreground line-clamp-2","data-testid":`text-usefulness-${e}`,children:[i.jsx("strong",{children:"Why:"})," ",b]}),o!=="finished"&&i.jsxs(q,{onClick:ee,disabled:R,className:"w-full","data-testid":`button-primary-action-${e}`,children:[i.jsx(B,{className:"mr-2 h-4 w-4"}),R?"Loading...":Ce()]}),o==="finished"&&i.jsxs("div",{className:"text-center text-sm text-muted-foreground py-2",children:[i.jsx(mf,{className:"h-4 w-4 inline mr-1"}),"Completed"]})]})]})}var pu=e=>e.type==="checkbox",Ua=e=>e instanceof Date,un=e=>e==null;const XT=e=>typeof e=="object";var wt=e=>!un(e)&&!Array.isArray(e)&&XT(e)&&!Ua(e),ZT=e=>wt(e)&&e.target?pu(e.target)?e.target.checked:e.target.value:e,c6=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,JT=(e,t)=>e.has(c6(t)),u6=e=>{const t=e.constructor&&e.constructor.prototype;return wt(t)&&t.hasOwnProperty("isPrototypeOf")},ox=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Bt(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(ox&&(e instanceof Blob||r))&&(n||wt(e)))if(t=n?[]:{},!n&&!u6(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Bt(e[s]));else return e;return t}var tm=e=>Array.isArray(e)?e.filter(Boolean):[],vt=e=>e===void 0,re=(e,t,n)=>{if(!t||!wt(e))return n;const r=tm(t.split(/[,[\].]+?/)).reduce((s,a)=>un(s)?s:s[a],e);return vt(r)||r===e?vt(e[t])?n:e[t]:r},Ln=e=>typeof e=="boolean",lx=e=>/^\w*$/.test(e),eA=e=>tm(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ge=(e,t,n)=>{let r=-1;const s=lx(t)?[t]:eA(t),a=s.length,o=a-1;for(;++r<a;){const l=s[r];let c=n;if(r!==o){const u=e[l];c=wt(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Ef={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},wr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},as={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},tA=Te.createContext(null),nm=()=>Te.useContext(tA),d6=e=>{const{children:t,...n}=e;return Te.createElement(tA.Provider,{value:n},t)};var nA=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const o=a;return t._proxyFormState[o]!==wr.all&&(t._proxyFormState[o]=!r||wr.all),n&&(n[o]=!0),e[o]}});return s};function f6(e){const t=nm(),{control:n=t.control,disabled:r,name:s,exact:a}=e||{},[o,l]=Te.useState(n._formState),c=Te.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=Te.useRef(s);return u.current=s,Te.useEffect(()=>n._subscribe({name:u.current,formState:c.current,exact:a,callback:d=>{!r&&l({...n._formState,...d})}}),[n,r,a]),Te.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),Te.useMemo(()=>nA(o,n,c.current,!1),[o,n])}var Hr=e=>typeof e=="string",rA=(e,t,n,r,s)=>Hr(e)?(r&&t.watch.add(e),re(n,e,s)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),re(n,a))):(r&&(t.watchAll=!0),n);function h6(e){const t=nm(),{control:n=t.control,name:r,defaultValue:s,disabled:a,exact:o}=e||{},l=Te.useRef(r),c=Te.useRef(s);l.current=r,Te.useEffect(()=>n._subscribe({name:l.current,formState:{values:!0},exact:o,callback:f=>!a&&d(rA(l.current,n._names,f.values||n._formValues,!1,c.current))}),[n,a,o]);const[u,d]=Te.useState(n._getWatch(r,s));return Te.useEffect(()=>n._removeUnmounted()),u}function m6(e){const t=nm(),{name:n,disabled:r,control:s=t.control,shouldUnregister:a}=e,o=JT(s._names.array,n),l=h6({control:s,name:n,defaultValue:re(s._formValues,n,re(s._defaultValues,n,e.defaultValue)),exact:!0}),c=f6({control:s,name:n,exact:!0}),u=Te.useRef(e),d=Te.useRef(s.register(n,{...e.rules,value:l,...Ln(e.disabled)?{disabled:e.disabled}:{}})),f=Te.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!re(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!re(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!re(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!re(c.validatingFields,n)},error:{enumerable:!0,get:()=>re(c.errors,n)}}),[c,n]),h=Te.useCallback(b=>d.current.onChange({target:{value:ZT(b),name:n},type:Ef.CHANGE}),[n]),p=Te.useCallback(()=>d.current.onBlur({target:{value:re(s._formValues,n),name:n},type:Ef.BLUR}),[n,s._formValues]),w=Te.useCallback(b=>{const x=re(s._fields,n);x&&b&&(x._f.ref={focus:()=>b.focus(),select:()=>b.select(),setCustomValidity:g=>b.setCustomValidity(g),reportValidity:()=>b.reportValidity()})},[s._fields,n]),y=Te.useMemo(()=>({name:n,value:l,...Ln(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:h,onBlur:p,ref:w}),[n,r,c.disabled,h,p,w,l]);return Te.useEffect(()=>{const b=s._options.shouldUnregister||a;s.register(n,{...u.current.rules,...Ln(u.current.disabled)?{disabled:u.current.disabled}:{}});const x=(g,v)=>{const S=re(s._fields,g);S&&S._f&&(S._f.mount=v)};if(x(n,!0),b){const g=Bt(re(s._options.defaultValues,n));Ge(s._defaultValues,n,g),vt(re(s._formValues,n))&&Ge(s._formValues,n,g)}return!o&&s.register(n),()=>{(o?b&&!s._state.action:b)?s.unregister(n):x(n,!1)}},[n,s,o,a]),Te.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),Te.useMemo(()=>({field:y,formState:c,fieldState:f}),[y,c,f])}const p6=e=>e.render(m6(e));var sA=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},tc=e=>Array.isArray(e)?e:[e],tb=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}},Zg=e=>un(e)||!XT(e);function Bs(e,t){if(Zg(e)||Zg(t))return e===t;if(Ua(e)&&Ua(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const s of n){const a=e[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=t[s];if(Ua(a)&&Ua(o)||wt(a)&&wt(o)||Array.isArray(a)&&Array.isArray(o)?!Bs(a,o):a!==o)return!1}}return!0}var ln=e=>wt(e)&&!Object.keys(e).length,cx=e=>e.type==="file",br=e=>typeof e=="function",Pf=e=>{if(!ox)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},aA=e=>e.type==="select-multiple",ux=e=>e.type==="radio",g6=e=>ux(e)||pu(e),dp=e=>Pf(e)&&e.isConnected;function y6(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=vt(e)?r++:e[t[r++]];return e}function v6(e){for(const t in e)if(e.hasOwnProperty(t)&&!vt(e[t]))return!1;return!0}function kt(e,t){const n=Array.isArray(t)?t:lx(t)?[t]:eA(t),r=n.length===1?e:y6(e,n),s=n.length-1,a=n[s];return r&&delete r[a],s!==0&&(wt(r)&&ln(r)||Array.isArray(r)&&v6(r))&&kt(e,n.slice(0,-1)),e}var iA=e=>{for(const t in e)if(br(e[t]))return!0;return!1};function Tf(e,t={}){const n=Array.isArray(e);if(wt(e)||n)for(const r in e)Array.isArray(e[r])||wt(e[r])&&!iA(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Tf(e[r],t[r])):un(e[r])||(t[r]=!0);return t}function oA(e,t,n){const r=Array.isArray(e);if(wt(e)||r)for(const s in e)Array.isArray(e[s])||wt(e[s])&&!iA(e[s])?vt(t)||Zg(n[s])?n[s]=Array.isArray(e[s])?Tf(e[s],[]):{...Tf(e[s])}:oA(e[s],un(t)?{}:t[s],n[s]):n[s]=!Bs(e[s],t[s]);return n}var bl=(e,t)=>oA(e,t,Tf(t));const nb={value:!1,isValid:!1},rb={value:!0,isValid:!0};var lA=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!vt(e[0].attributes.value)?vt(e[0].value)||e[0].value===""?rb:{value:e[0].value,isValid:!0}:rb:nb}return nb},cA=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>vt(e)?e:t?e===""?NaN:e&&+e:n&&Hr(e)?new Date(e):r?r(e):e;const sb={isValid:!1,value:null};var uA=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,sb):sb;function ab(e){const t=e.ref;return cx(t)?t.files:ux(t)?uA(e.refs).value:aA(t)?[...t.selectedOptions].map(({value:n})=>n):pu(t)?lA(e.refs).value:cA(vt(t.value)?e.ref.value:t.value,e)}var x6=(e,t,n,r)=>{const s={};for(const a of e){const o=re(t,a);o&&Ge(s,a,o._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},Af=e=>e instanceof RegExp,Sl=e=>vt(e)?e:Af(e)?e.source:wt(e)?Af(e.value)?e.value.source:e.value:e,ib=e=>({isOnSubmit:!e||e===wr.onSubmit,isOnBlur:e===wr.onBlur,isOnChange:e===wr.onChange,isOnAll:e===wr.all,isOnTouch:e===wr.onTouched});const ob="AsyncFunction";var w6=e=>!!e&&!!e.validate&&!!(br(e.validate)&&e.validate.constructor.name===ob||wt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===ob)),b6=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),lb=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const nc=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const a=re(e,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(nc(l,t))break}else if(wt(l)&&nc(l,t))break}}};function cb(e,t,n){const r=re(e,n);if(r||lx(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const a=s.join("."),o=re(t,a),l=re(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};s.pop()}return{name:n}}var S6=(e,t,n,r)=>{n(e);const{name:s,...a}=e;return ln(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!r||wr.all))},_6=(e,t,n)=>!e||!t||e===t||tc(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),N6=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,C6=(e,t)=>!tm(re(e,t)).length&&kt(e,t),j6=(e,t,n)=>{const r=tc(re(e,n));return Ge(r,"root",t[n]),Ge(e,n,r),e},Pd=e=>Hr(e);function ub(e,t,n="validate"){if(Pd(e)||Array.isArray(e)&&e.every(Pd)||Ln(e)&&!e)return{type:n,message:Pd(e)?e:"",ref:t}}var Ri=e=>wt(e)&&!Af(e)?e:{value:e,message:""},db=async(e,t,n,r,s,a)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:w,name:y,valueAsNumber:b,mount:x}=e._f,g=re(n,y);if(!x||t.has(y))return{};const v=l?l[0]:o,S=R=>{s&&v.reportValidity&&(v.setCustomValidity(Ln(R)?"":R||""),v.reportValidity())},_={},j=ux(o),N=pu(o),E=j||N,P=(b||cx(o))&&vt(o.value)&&vt(g)||Pf(o)&&o.value===""||g===""||Array.isArray(g)&&!g.length,I=sA.bind(null,y,r,_),k=(R,$,C,W=as.maxLength,z=as.minLength)=>{const ee=R?$:C;_[y]={type:R?W:z,message:ee,ref:o,...I(R?W:z,ee)}};if(a?!Array.isArray(g)||!g.length:c&&(!E&&(P||un(g))||Ln(g)&&!g||N&&!lA(l).isValid||j&&!uA(l).isValid)){const{value:R,message:$}=Pd(c)?{value:!!c,message:c}:Ri(c);if(R&&(_[y]={type:as.required,message:$,ref:v,...I(as.required,$)},!r))return S($),_}if(!P&&(!un(f)||!un(h))){let R,$;const C=Ri(h),W=Ri(f);if(!un(g)&&!isNaN(g)){const z=o.valueAsNumber||g&&+g;un(C.value)||(R=z>C.value),un(W.value)||($=z<W.value)}else{const z=o.valueAsDate||new Date(g),ee=Q=>new Date(new Date().toDateString()+" "+Q),M=o.type=="time",F=o.type=="week";Hr(C.value)&&g&&(R=M?ee(g)>ee(C.value):F?g>C.value:z>new Date(C.value)),Hr(W.value)&&g&&($=M?ee(g)<ee(W.value):F?g<W.value:z<new Date(W.value))}if((R||$)&&(k(!!R,C.message,W.message,as.max,as.min),!r))return S(_[y].message),_}if((u||d)&&!P&&(Hr(g)||a&&Array.isArray(g))){const R=Ri(u),$=Ri(d),C=!un(R.value)&&g.length>+R.value,W=!un($.value)&&g.length<+$.value;if((C||W)&&(k(C,R.message,$.message),!r))return S(_[y].message),_}if(p&&!P&&Hr(g)){const{value:R,message:$}=Ri(p);if(Af(R)&&!g.match(R)&&(_[y]={type:as.pattern,message:$,ref:o,...I(as.pattern,$)},!r))return S($),_}if(w){if(br(w)){const R=await w(g,n),$=ub(R,v);if($&&(_[y]={...$,...I(as.validate,$.message)},!r))return S($.message),_}else if(wt(w)){let R={};for(const $ in w){if(!ln(R)&&!r)break;const C=ub(await w[$](g,n),v,$);C&&(R={...C,...I($,C.message)},S(C.message),r&&(_[y]=R))}if(!ln(R)&&(_[y]={ref:v,...R},!r))return _}}return S(!0),_};const k6={mode:wr.onSubmit,reValidateMode:wr.onChange,shouldFocusError:!0};function E6(e={}){let t={...k6,...e},n={submitCount:0,isDirty:!1,isLoading:br(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let s=wt(t.defaultValues)||wt(t.values)?Bt(t.values||t.defaultValues)||{}:{},a=t.shouldUnregister?{}:Bt(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:tb(),state:tb()},p=ib(t.mode),w=ib(t.reValidateMode),y=t.criteriaMode===wr.all,b=T=>L=>{clearTimeout(u),u=setTimeout(T,L)},x=async T=>{if(!t.disabled&&(d.isValid||f.isValid||T)){const L=t.resolver?ln((await P()).errors):await k(r,!0);L!==n.isValid&&h.state.next({isValid:L})}},g=(T,L)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((T||Array.from(l.mount)).forEach(U=>{U&&(L?Ge(n.validatingFields,U,L):kt(n.validatingFields,U))}),h.state.next({validatingFields:n.validatingFields,isValidating:!ln(n.validatingFields)}))},v=(T,L=[],U,le,ne=!0,Z=!0)=>{if(le&&U&&!t.disabled){if(o.action=!0,Z&&Array.isArray(re(r,T))){const de=U(re(r,T),le.argA,le.argB);ne&&Ge(r,T,de)}if(Z&&Array.isArray(re(n.errors,T))){const de=U(re(n.errors,T),le.argA,le.argB);ne&&Ge(n.errors,T,de),C6(n.errors,T)}if((d.touchedFields||f.touchedFields)&&Z&&Array.isArray(re(n.touchedFields,T))){const de=U(re(n.touchedFields,T),le.argA,le.argB);ne&&Ge(n.touchedFields,T,de)}(d.dirtyFields||f.dirtyFields)&&(n.dirtyFields=bl(s,a)),h.state.next({name:T,isDirty:$(T,L),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ge(a,T,L)},S=(T,L)=>{Ge(n.errors,T,L),h.state.next({errors:n.errors})},_=T=>{n.errors=T,h.state.next({errors:n.errors,isValid:!1})},j=(T,L,U,le)=>{const ne=re(r,T);if(ne){const Z=re(a,T,vt(U)?re(s,T):U);vt(Z)||le&&le.defaultChecked||L?Ge(a,T,L?Z:ab(ne._f)):z(T,Z),o.mount&&x()}},N=(T,L,U,le,ne)=>{let Z=!1,de=!1;const Ke={name:T};if(!t.disabled){if(!U||le){(d.isDirty||f.isDirty)&&(de=n.isDirty,n.isDirty=Ke.isDirty=$(),Z=de!==Ke.isDirty);const bt=Bs(re(s,T),L);de=!!re(n.dirtyFields,T),bt?kt(n.dirtyFields,T):Ge(n.dirtyFields,T,!0),Ke.dirtyFields=n.dirtyFields,Z=Z||(d.dirtyFields||f.dirtyFields)&&de!==!bt}if(U){const bt=re(n.touchedFields,T);bt||(Ge(n.touchedFields,T,U),Ke.touchedFields=n.touchedFields,Z=Z||(d.touchedFields||f.touchedFields)&&bt!==U)}Z&&ne&&h.state.next(Ke)}return Z?Ke:{}},E=(T,L,U,le)=>{const ne=re(n.errors,T),Z=(d.isValid||f.isValid)&&Ln(L)&&n.isValid!==L;if(t.delayError&&U?(c=b(()=>S(T,U)),c(t.delayError)):(clearTimeout(u),c=null,U?Ge(n.errors,T,U):kt(n.errors,T)),(U?!Bs(ne,U):ne)||!ln(le)||Z){const de={...le,...Z&&Ln(L)?{isValid:L}:{},errors:n.errors,name:T};n={...n,...de},h.state.next(de)}},P=async T=>{g(T,!0);const L=await t.resolver(a,t.context,x6(T||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return g(T),L},I=async T=>{const{errors:L}=await P(T);if(T)for(const U of T){const le=re(L,U);le?Ge(n.errors,U,le):kt(n.errors,U)}else n.errors=L;return L},k=async(T,L,U={valid:!0})=>{for(const le in T){const ne=T[le];if(ne){const{_f:Z,...de}=ne;if(Z){const Ke=l.array.has(Z.name),bt=ne._f&&w6(ne._f);bt&&d.validatingFields&&g([le],!0);const Yt=await db(ne,l.disabled,a,y,t.shouldUseNativeValidation&&!L,Ke);if(bt&&d.validatingFields&&g([le]),Yt[Z.name]&&(U.valid=!1,L))break;!L&&(re(Yt,Z.name)?Ke?j6(n.errors,Yt,Z.name):Ge(n.errors,Z.name,Yt[Z.name]):kt(n.errors,Z.name))}!ln(de)&&await k(de,L,U)}}return U.valid},R=()=>{for(const T of l.unMount){const L=re(r,T);L&&(L._f.refs?L._f.refs.every(U=>!dp(U)):!dp(L._f.ref))&&je(T)}l.unMount=new Set},$=(T,L)=>!t.disabled&&(T&&L&&Ge(a,T,L),!Bs(ce(),s)),C=(T,L,U)=>rA(T,l,{...o.mount?a:vt(L)?s:Hr(T)?{[T]:L}:L},U,L),W=T=>tm(re(o.mount?a:s,T,t.shouldUnregister?re(s,T,[]):[])),z=(T,L,U={})=>{const le=re(r,T);let ne=L;if(le){const Z=le._f;Z&&(!Z.disabled&&Ge(a,T,cA(L,Z)),ne=Pf(Z.ref)&&un(L)?"":L,aA(Z.ref)?[...Z.ref.options].forEach(de=>de.selected=ne.includes(de.value)):Z.refs?pu(Z.ref)?Z.refs.length>1?Z.refs.forEach(de=>(!de.defaultChecked||!de.disabled)&&(de.checked=Array.isArray(ne)?!!ne.find(Ke=>Ke===de.value):ne===de.value)):Z.refs[0]&&(Z.refs[0].checked=!!ne):Z.refs.forEach(de=>de.checked=de.value===ne):cx(Z.ref)?Z.ref.value="":(Z.ref.value=ne,Z.ref.type||h.state.next({name:T,values:Bt(a)})))}(U.shouldDirty||U.shouldTouch)&&N(T,ne,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&X(T)},ee=(T,L,U)=>{for(const le in L){const ne=L[le],Z=`${T}.${le}`,de=re(r,Z);(l.array.has(T)||wt(ne)||de&&!de._f)&&!Ua(ne)?ee(Z,ne,U):z(Z,ne,U)}},M=(T,L,U={})=>{const le=re(r,T),ne=l.array.has(T),Z=Bt(L);Ge(a,T,Z),ne?(h.array.next({name:T,values:Bt(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&U.shouldDirty&&h.state.next({name:T,dirtyFields:bl(s,a),isDirty:$(T,Z)})):le&&!le._f&&!un(Z)?ee(T,Z,U):z(T,Z,U),lb(T,l)&&h.state.next({...n}),h.state.next({name:o.mount?T:void 0,values:Bt(a)})},F=async T=>{o.mount=!0;const L=T.target;let U=L.name,le=!0;const ne=re(r,U),Z=de=>{le=Number.isNaN(de)||Ua(de)&&isNaN(de.getTime())||Bs(de,re(a,U,de))};if(ne){let de,Ke;const bt=L.type?ab(ne._f):ZT(T),Yt=T.type===Ef.BLUR||T.type===Ef.FOCUS_OUT,kI=!b6(ne._f)&&!t.resolver&&!re(n.errors,U)&&!ne._f.deps||N6(Yt,re(n.touchedFields,U),n.isSubmitted,w,p),xm=lb(U,l,Yt);Ge(a,U,bt),Yt?(ne._f.onBlur&&ne._f.onBlur(T),c&&c(0)):ne._f.onChange&&ne._f.onChange(T);const wm=N(U,bt,Yt),EI=!ln(wm)||xm;if(!Yt&&h.state.next({name:U,type:T.type,values:Bt(a)}),kI)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Yt&&x():Yt||x()),EI&&h.state.next({name:U,...xm?{}:wm});if(!Yt&&xm&&h.state.next({...n}),t.resolver){const{errors:Zx}=await P([U]);if(Z(bt),le){const PI=cb(n.errors,r,U),Jx=cb(Zx,r,PI.name||U);de=Jx.error,U=Jx.name,Ke=ln(Zx)}}else g([U],!0),de=(await db(ne,l.disabled,a,y,t.shouldUseNativeValidation))[U],g([U]),Z(bt),le&&(de?Ke=!1:(d.isValid||f.isValid)&&(Ke=await k(r,!0)));le&&(ne._f.deps&&X(ne._f.deps),E(U,Ke,de,wm))}},Q=(T,L)=>{if(re(n.errors,L)&&T.focus)return T.focus(),1},X=async(T,L={})=>{let U,le;const ne=tc(T);if(t.resolver){const Z=await I(vt(T)?T:ne);U=ln(Z),le=T?!ne.some(de=>re(Z,de)):U}else T?(le=(await Promise.all(ne.map(async Z=>{const de=re(r,Z);return await k(de&&de._f?{[Z]:de}:de)}))).every(Boolean),!(!le&&!n.isValid)&&x()):le=U=await k(r);return h.state.next({...!Hr(T)||(d.isValid||f.isValid)&&U!==n.isValid?{}:{name:T},...t.resolver||!T?{isValid:U}:{},errors:n.errors}),L.shouldFocus&&!le&&nc(r,Q,T?ne:l.mount),le},ce=T=>{const L={...o.mount?a:s};return vt(T)?L:Hr(T)?re(L,T):T.map(U=>re(L,U))},ke=(T,L)=>({invalid:!!re((L||n).errors,T),isDirty:!!re((L||n).dirtyFields,T),error:re((L||n).errors,T),isValidating:!!re(n.validatingFields,T),isTouched:!!re((L||n).touchedFields,T)}),Ce=T=>{T&&tc(T).forEach(L=>kt(n.errors,L)),h.state.next({errors:T?n.errors:{}})},$e=(T,L,U)=>{const le=(re(r,T,{_f:{}})._f||{}).ref,ne=re(n.errors,T)||{},{ref:Z,message:de,type:Ke,...bt}=ne;Ge(n.errors,T,{...bt,...L,ref:le}),h.state.next({name:T,errors:n.errors,isValid:!1}),U&&U.shouldFocus&&le&&le.focus&&le.focus()},B=(T,L)=>br(T)?h.state.subscribe({next:U=>T(C(void 0,L),U)}):C(T,L,!0),V=T=>h.state.subscribe({next:L=>{_6(T.name,L.name,T.exact)&&S6(L,T.formState||d,Kn,T.reRenderRoot)&&T.callback({values:{...a},...n,...L})}}).unsubscribe,ae=T=>(o.mount=!0,f={...f,...T.formState},V({...T,formState:f})),je=(T,L={})=>{for(const U of T?tc(T):l.mount)l.mount.delete(U),l.array.delete(U),L.keepValue||(kt(r,U),kt(a,U)),!L.keepError&&kt(n.errors,U),!L.keepDirty&&kt(n.dirtyFields,U),!L.keepTouched&&kt(n.touchedFields,U),!L.keepIsValidating&&kt(n.validatingFields,U),!t.shouldUnregister&&!L.keepDefaultValue&&kt(s,U);h.state.next({values:Bt(a)}),h.state.next({...n,...L.keepDirty?{isDirty:$()}:{}}),!L.keepIsValid&&x()},Ve=({disabled:T,name:L})=>{(Ln(T)&&o.mount||T||l.disabled.has(L))&&(T?l.disabled.add(L):l.disabled.delete(L))},Ue=(T,L={})=>{let U=re(r,T);const le=Ln(L.disabled)||Ln(t.disabled);return Ge(r,T,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:T}},name:T,mount:!0,...L}}),l.mount.add(T),U?Ve({disabled:Ln(L.disabled)?L.disabled:t.disabled,name:T}):j(T,!0,L.value),{...le?{disabled:L.disabled||t.disabled}:{},...t.progressive?{required:!!L.required,min:Sl(L.min),max:Sl(L.max),minLength:Sl(L.minLength),maxLength:Sl(L.maxLength),pattern:Sl(L.pattern)}:{},name:T,onChange:F,onBlur:F,ref:ne=>{if(ne){Ue(T,L),U=re(r,T);const Z=vt(ne.value)&&ne.querySelectorAll&&ne.querySelectorAll("input,select,textarea")[0]||ne,de=g6(Z),Ke=U._f.refs||[];if(de?Ke.find(bt=>bt===Z):Z===U._f.ref)return;Ge(r,T,{_f:{...U._f,...de?{refs:[...Ke.filter(dp),Z,...Array.isArray(re(s,T))?[{}]:[]],ref:{type:Z.type,name:T}}:{ref:Z}}}),j(T,!1,void 0,Z)}else U=re(r,T,{}),U._f&&(U._f.mount=!1),(t.shouldUnregister||L.shouldUnregister)&&!(JT(l.array,T)&&o.action)&&l.unMount.add(T)}}},qe=()=>t.shouldFocusError&&nc(r,Q,l.mount),zt=T=>{Ln(T)&&(h.state.next({disabled:T}),nc(r,(L,U)=>{const le=re(r,U);le&&(L.disabled=le._f.disabled||T,Array.isArray(le._f.refs)&&le._f.refs.forEach(ne=>{ne.disabled=le._f.disabled||T}))},0,!1))},rn=(T,L)=>async U=>{let le;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let ne=Bt(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:Z,values:de}=await P();n.errors=Z,ne=de}else await k(r);if(l.disabled.size)for(const Z of l.disabled)Ge(ne,Z,void 0);if(kt(n.errors,"root"),ln(n.errors)){h.state.next({errors:{}});try{await T(ne,U)}catch(Z){le=Z}}else L&&await L({...n.errors},U),qe(),setTimeout(qe);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ln(n.errors)&&!le,submitCount:n.submitCount+1,errors:n.errors}),le)throw le},rs=(T,L={})=>{re(r,T)&&(vt(L.defaultValue)?M(T,Bt(re(s,T))):(M(T,L.defaultValue),Ge(s,T,Bt(L.defaultValue))),L.keepTouched||kt(n.touchedFields,T),L.keepDirty||(kt(n.dirtyFields,T),n.isDirty=L.defaultValue?$(T,Bt(re(s,T))):$()),L.keepError||(kt(n.errors,T),d.isValid&&x()),h.state.next({...n}))},Mr=(T,L={})=>{const U=T?Bt(T):s,le=Bt(U),ne=ln(T),Z=ne?s:le;if(L.keepDefaultValues||(s=U),!L.keepValues){if(L.keepDirtyValues){const de=new Set([...l.mount,...Object.keys(bl(s,a))]);for(const Ke of Array.from(de))re(n.dirtyFields,Ke)?Ge(Z,Ke,re(a,Ke)):M(Ke,re(Z,Ke))}else{if(ox&&vt(T))for(const de of l.mount){const Ke=re(r,de);if(Ke&&Ke._f){const bt=Array.isArray(Ke._f.refs)?Ke._f.refs[0]:Ke._f.ref;if(Pf(bt)){const Yt=bt.closest("form");if(Yt){Yt.reset();break}}}}for(const de of l.mount)M(de,re(Z,de))}a=Bt(Z),h.array.next({values:{...Z}}),h.state.next({values:{...Z}})}l={mount:L.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!L.keepIsValid||!!L.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:L.keepSubmitCount?n.submitCount:0,isDirty:ne?!1:L.keepDirty?n.isDirty:!!(L.keepDefaultValues&&!Bs(T,s)),isSubmitted:L.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ne?{}:L.keepDirtyValues?L.keepDefaultValues&&a?bl(s,a):n.dirtyFields:L.keepDefaultValues&&T?bl(s,T):L.keepDirty?n.dirtyFields:{},touchedFields:L.keepTouched?n.touchedFields:{},errors:L.keepErrors?n.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Pe=(T,L)=>Mr(br(T)?T(a):T,L),Or=(T,L={})=>{const U=re(r,T),le=U&&U._f;if(le){const ne=le.refs?le.refs[0]:le.ref;ne.focus&&(ne.focus(),L.shouldSelect&&br(ne.select)&&ne.select())}},Kn=T=>{n={...n,...T}},Xx={control:{register:Ue,unregister:je,getFieldState:ke,handleSubmit:rn,setError:$e,_subscribe:V,_runSchema:P,_getWatch:C,_getDirty:$,_setValid:x,_setFieldArray:v,_setDisabledField:Ve,_setErrors:_,_getFieldArray:W,_reset:Mr,_resetDefaultValues:()=>br(t.defaultValues)&&t.defaultValues().then(T=>{Pe(T,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:R,_disableForm:zt,_subjects:h,_proxyFormState:d,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(T){o=T},get _defaultValues(){return s},get _names(){return l},set _names(T){l=T},get _formState(){return n},get _options(){return t},set _options(T){t={...t,...T}}},subscribe:ae,trigger:X,register:Ue,handleSubmit:rn,watch:B,setValue:M,getValues:ce,reset:Pe,resetField:rs,clearErrors:Ce,unregister:je,setError:$e,setFocus:Or,getFieldState:ke};return{...Xx,formControl:Xx}}function P6(e={}){const t=Te.useRef(void 0),n=Te.useRef(void 0),[r,s]=Te.useState({isDirty:!1,isValidating:!1,isLoading:br(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:br(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:E6(e),formState:r},e.formControl&&e.defaultValues&&!br(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const a=t.current.control;return a._options=e,Te.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0}),[a]),Te.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),Te.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),Te.useEffect(()=>{e.values&&!Bs(e.values,n.current)?(a._reset(e.values,a._options.resetOptions),n.current=e.values,s(o=>({...o}))):a._resetDefaultValues()},[e.values,a]),Te.useEffect(()=>{e.errors&&!ln(e.errors)&&a._setErrors(e.errors)},[e.errors,a]),Te.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),Te.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[e.shouldUnregister,a]),t.current.formState=nA(r,a),t.current}const fb=(e,t,n)=>{if(e&&"reportValidity"in e){const r=re(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},dA=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?fb(r.ref,n,e):r.refs&&r.refs.forEach(s=>fb(s,n,e))}},T6=(e,t)=>{t.shouldUseNativeValidation&&dA(e,t);const n={};for(const r in e){const s=re(t.fields,r),a=Object.assign(e[r]||{},{ref:s&&s.ref});if(A6(t.names||Object.keys(e),r)){const o=Object.assign({},re(n,r));Ge(o,"root",a),Ge(n,r,o)}else Ge(n,r,a)}return n},A6=(e,t)=>e.some(n=>n.startsWith(t+"."));var R6=function(e,t){for(var n={};e.length;){var r=e[0],s=r.code,a=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:a,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=n[o].types,u=c&&c[r.code];n[o]=sA(o,t,n,s,u?[].concat(u,r.message):r.message)}e.shift()}return n},M6=function(e,t,n){return n===void 0&&(n={}),function(r,s,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(u){return a.shouldUseNativeValidation&&dA({},a),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:T6(R6(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};const gu=m.forwardRef(({className:e,...t},n)=>i.jsx("textarea",{className:te("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));gu.displayName="Textarea";const yu=OP,rm=IP,O6=DP,fA=m.forwardRef(({className:e,...t},n)=>i.jsx(Wh,{ref:n,className:te("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));fA.displayName=Wh.displayName;const sl=m.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(O6,{children:[i.jsx(fA,{}),i.jsxs(Hh,{ref:r,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,i.jsxs(FP,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(_n,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));sl.displayName=Hh.displayName;const al=({className:e,...t})=>i.jsx("div",{className:te("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});al.displayName="DialogHeader";const il=m.forwardRef(({className:e,...t},n)=>i.jsx(qh,{ref:n,className:te("text-lg font-semibold leading-none tracking-tight",e),...t}));il.displayName=qh.displayName;const hA=m.forwardRef(({className:e,...t},n)=>i.jsx(Qh,{ref:n,className:te("text-sm text-muted-foreground",e),...t}));hA.displayName=Qh.displayName;var I6="Label",mA=m.forwardRef((e,t)=>i.jsx(he.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));mA.displayName=I6;var pA=mA;const D6=el("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Oe=m.forwardRef(({className:e,...t},n)=>i.jsx(pA,{ref:n,className:te(D6(),e),...t}));Oe.displayName=pA.displayName;const F6=d6,gA=m.createContext({}),Gn=({...e})=>i.jsx(gA.Provider,{value:{name:e.name},children:i.jsx(p6,{...e})}),sm=()=>{const e=m.useContext(gA),t=m.useContext(yA),{getFieldState:n,formState:r}=nm(),s=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},yA=m.createContext({}),Pn=m.forwardRef(({className:e,...t},n)=>{const r=m.useId();return i.jsx(yA.Provider,{value:{id:r},children:i.jsx("div",{ref:n,className:te("space-y-2",e),...t})})});Pn.displayName="FormItem";const Tn=m.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:s}=sm();return i.jsx(Oe,{ref:n,className:te(r&&"text-destructive",e),htmlFor:s,...t})});Tn.displayName="FormLabel";const An=m.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:a}=sm();return i.jsx(Ch,{ref:t,id:r,"aria-describedby":n?`${s} ${a}`:`${s}`,"aria-invalid":!!n,...e})});An.displayName="FormControl";const L6=m.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=sm();return i.jsx("p",{ref:n,id:r,className:te("text-sm text-muted-foreground",e),...t})});L6.displayName="FormDescription";const Yn=m.forwardRef(({className:e,children:t,...n},r)=>{const{error:s,formMessageId:a}=sm(),o=s?String((s==null?void 0:s.message)??""):t;return o?i.jsx("p",{ref:r,id:a,className:te("text-sm font-medium text-destructive",e),...n,children:o}):null});Yn.displayName="FormMessage";function Jg(e,[t,n]){return Math.min(n,Math.max(t,e))}var $6=[" ","Enter","ArrowUp","ArrowDown"],z6=[" ","Enter"],vu="Select",[am,im,B6]=jh(vu),[ol,B7]=gn(vu,[B6,ka]),om=ka(),[V6,Ea]=ol(vu),[U6,W6]=ol(vu),vA=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:w}=e,y=om(t),[b,x]=m.useState(null),[g,v]=m.useState(null),[S,_]=m.useState(!1),j=fu(u),[N=!1,E]=Er({prop:r,defaultProp:s,onChange:a}),[P,I]=Er({prop:o,defaultProp:l,onChange:c}),k=m.useRef(null),R=b?w||!!b.closest("form"):!0,[$,C]=m.useState(new Set),W=Array.from($).map(z=>z.props.value).join(";");return i.jsx(Oh,{...y,children:i.jsxs(V6,{required:p,scope:t,trigger:b,onTriggerChange:x,valueNode:g,onValueNodeChange:v,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:or(),value:P,onValueChange:I,open:N,onOpenChange:E,dir:j,triggerPointerDownPosRef:k,disabled:h,children:[i.jsx(am.Provider,{scope:t,children:i.jsx(U6,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(z=>{C(ee=>new Set(ee).add(z))},[]),onNativeOptionRemove:m.useCallback(z=>{C(ee=>{const M=new Set(ee);return M.delete(z),M})},[]),children:n})}),R?i.jsxs(UA,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:z=>I(z.target.value),disabled:h,form:w,children:[P===void 0?i.jsx("option",{value:""}):null,Array.from($)]},W):null]})})};vA.displayName=vu;var xA="SelectTrigger",wA=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,a=om(n),o=Ea(xA,n),l=o.disabled||r,c=Ie(t,o.onTriggerChange),u=im(n),d=m.useRef("touch"),[f,h,p]=WA(y=>{const b=u().filter(v=>!v.disabled),x=b.find(v=>v.value===o.value),g=HA(b,y,x);g!==void 0&&o.onValueChange(g.value)}),w=y=>{l||(o.onOpenChange(!0),p()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return i.jsx(iu,{asChild:!0,...a,children:i.jsx(he.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":VA(o.value)?"":void 0,...s,ref:c,onClick:Y(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&w(y)}),onPointerDown:Y(s.onPointerDown,y=>{d.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(w(y),y.preventDefault())}),onKeyDown:Y(s.onKeyDown,y=>{const b=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&h(y.key),!(b&&y.key===" ")&&$6.includes(y.key)&&(w(),y.preventDefault())})})})});wA.displayName=xA;var bA="SelectValue",SA=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:a,placeholder:o="",...l}=e,c=Ea(bA,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Ie(t,c.onValueNodeChange);return Kt(()=>{u(d)},[u,d]),i.jsx(he.span,{...l,ref:f,style:{pointerEvents:"none"},children:VA(c.value)?i.jsx(i.Fragment,{children:o}):a})});SA.displayName=bA;var H6="SelectIcon",_A=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return i.jsx(he.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});_A.displayName=H6;var q6="SelectPortal",NA=e=>i.jsx(Jo,{asChild:!0,...e});NA.displayName=q6;var pi="SelectContent",CA=m.forwardRef((e,t)=>{const n=Ea(pi,e.__scopeSelect),[r,s]=m.useState();if(Kt(()=>{s(new DocumentFragment)},[]),!n.open){const a=r;return a?Ca.createPortal(i.jsx(jA,{scope:e.__scopeSelect,children:i.jsx(am.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(kA,{...e,ref:t})});CA.displayName=pi;var hr=10,[jA,Pa]=ol(pi),Q6="SelectContentImpl",K6=fa("SelectContent.RemoveScroll"),kA=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:w,hideWhenDetached:y,avoidCollisions:b,...x}=e,g=Ea(pi,n),[v,S]=m.useState(null),[_,j]=m.useState(null),N=Ie(t,V=>S(V)),[E,P]=m.useState(null),[I,k]=m.useState(null),R=im(n),[$,C]=m.useState(!1),W=m.useRef(!1);m.useEffect(()=>{if(v)return Uh(v)},[v]),Bh();const z=m.useCallback(V=>{const[ae,...je]=R().map(qe=>qe.ref.current),[Ve]=je.slice(-1),Ue=document.activeElement;for(const qe of V)if(qe===Ue||(qe==null||qe.scrollIntoView({block:"nearest"}),qe===ae&&_&&(_.scrollTop=0),qe===Ve&&_&&(_.scrollTop=_.scrollHeight),qe==null||qe.focus(),document.activeElement!==Ue))return},[R,_]),ee=m.useCallback(()=>z([E,v]),[z,E,v]);m.useEffect(()=>{$&&ee()},[$,ee]);const{onOpenChange:M,triggerPointerDownPosRef:F}=g;m.useEffect(()=>{if(v){let V={x:0,y:0};const ae=Ve=>{var Ue,qe;V={x:Math.abs(Math.round(Ve.pageX)-(((Ue=F.current)==null?void 0:Ue.x)??0)),y:Math.abs(Math.round(Ve.pageY)-(((qe=F.current)==null?void 0:qe.y)??0))}},je=Ve=>{V.x<=10&&V.y<=10?Ve.preventDefault():v.contains(Ve.target)||M(!1),document.removeEventListener("pointermove",ae),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",je,{capture:!0})}}},[v,M,F]),m.useEffect(()=>{const V=()=>M(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[M]);const[Q,X]=WA(V=>{const ae=R().filter(Ue=>!Ue.disabled),je=ae.find(Ue=>Ue.ref.current===document.activeElement),Ve=HA(ae,V,je);Ve&&setTimeout(()=>Ve.ref.current.focus())}),ce=m.useCallback((V,ae,je)=>{const Ve=!W.current&&!je;(g.value!==void 0&&g.value===ae||Ve)&&(P(V),Ve&&(W.current=!0))},[g.value]),ke=m.useCallback(()=>v==null?void 0:v.focus(),[v]),Ce=m.useCallback((V,ae,je)=>{const Ve=!W.current&&!je;(g.value!==void 0&&g.value===ae||Ve)&&k(V)},[g.value]),$e=r==="popper"?ey:EA,B=$e===ey?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:w,hideWhenDetached:y,avoidCollisions:b}:{};return i.jsx(jA,{scope:n,content:v,viewport:_,onViewportChange:j,itemRefCallback:ce,selectedItem:E,onItemLeave:ke,itemTextRefCallback:Ce,focusSelectedItem:ee,selectedItemText:I,position:r,isPositioned:$,searchRef:Q,children:i.jsx(lu,{as:K6,allowPinchZoom:!0,children:i.jsx(ou,{asChild:!0,trapped:g.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:Y(s,V=>{var ae;(ae=g.trigger)==null||ae.focus({preventScroll:!0}),V.preventDefault()}),children:i.jsx(Si,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:i.jsx($e,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:V=>V.preventDefault(),...x,...B,onPlaced:()=>C(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:Y(x.onKeyDown,V=>{const ae=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!ae&&V.key.length===1&&X(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let Ve=R().filter(Ue=>!Ue.disabled).map(Ue=>Ue.ref.current);if(["ArrowUp","End"].includes(V.key)&&(Ve=Ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const Ue=V.target,qe=Ve.indexOf(Ue);Ve=Ve.slice(qe+1)}setTimeout(()=>z(Ve)),V.preventDefault()}})})})})})})});kA.displayName=Q6;var G6="SelectItemAlignedPosition",EA=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,a=Ea(pi,n),o=Pa(pi,n),[l,c]=m.useState(null),[u,d]=m.useState(null),f=Ie(t,N=>d(N)),h=im(n),p=m.useRef(!1),w=m.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:x,focusSelectedItem:g}=o,v=m.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&y&&b&&x){const N=a.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),I=x.getBoundingClientRect();if(a.dir!=="rtl"){const Ue=I.left-E.left,qe=P.left-Ue,zt=N.left-qe,rn=N.width+zt,rs=Math.max(rn,E.width),Mr=window.innerWidth-hr,Pe=Jg(qe,[hr,Math.max(hr,Mr-rs)]);l.style.minWidth=rn+"px",l.style.left=Pe+"px"}else{const Ue=E.right-I.right,qe=window.innerWidth-P.right-Ue,zt=window.innerWidth-N.right-qe,rn=N.width+zt,rs=Math.max(rn,E.width),Mr=window.innerWidth-hr,Pe=Jg(qe,[hr,Math.max(hr,Mr-rs)]);l.style.minWidth=rn+"px",l.style.right=Pe+"px"}const k=h(),R=window.innerHeight-hr*2,$=y.scrollHeight,C=window.getComputedStyle(u),W=parseInt(C.borderTopWidth,10),z=parseInt(C.paddingTop,10),ee=parseInt(C.borderBottomWidth,10),M=parseInt(C.paddingBottom,10),F=W+z+$+M+ee,Q=Math.min(b.offsetHeight*5,F),X=window.getComputedStyle(y),ce=parseInt(X.paddingTop,10),ke=parseInt(X.paddingBottom,10),Ce=N.top+N.height/2-hr,$e=R-Ce,B=b.offsetHeight/2,V=b.offsetTop+B,ae=W+z+V,je=F-ae;if(ae<=Ce){const Ue=k.length>0&&b===k[k.length-1].ref.current;l.style.bottom="0px";const qe=u.clientHeight-y.offsetTop-y.offsetHeight,zt=Math.max($e,B+(Ue?ke:0)+qe+ee),rn=ae+zt;l.style.height=rn+"px"}else{const Ue=k.length>0&&b===k[0].ref.current;l.style.top="0px";const zt=Math.max(Ce,W+y.offsetTop+(Ue?ce:0)+B)+je;l.style.height=zt+"px",y.scrollTop=ae-Ce+y.offsetTop}l.style.margin=`${hr}px 0`,l.style.minHeight=Q+"px",l.style.maxHeight=R+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,a.trigger,a.valueNode,l,u,y,b,x,a.dir,r]);Kt(()=>v(),[v]);const[S,_]=m.useState();Kt(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const j=m.useCallback(N=>{N&&w.current===!0&&(v(),g==null||g(),w.current=!1)},[v,g]);return i.jsx(X6,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:j,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:i.jsx(he.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});EA.displayName=G6;var Y6="SelectPopperPosition",ey=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=hr,...a}=e,o=om(n);return i.jsx(Ih,{...o,...a,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ey.displayName=Y6;var[X6,dx]=ol(pi,{}),ty="SelectViewport",PA=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,a=Pa(ty,n),o=dx(ty,n),l=Ie(t,a.onViewportChange),c=m.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(am.Slot,{scope:n,children:i.jsx(he.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Y(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const w=window.innerHeight-hr*2,y=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),x=Math.max(y,b);if(x<w){const g=x+p,v=Math.min(w,g),S=g-v;f.style.height=v+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});PA.displayName=ty;var TA="SelectGroup",[Z6,J6]=ol(TA),e8=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=or();return i.jsx(Z6,{scope:n,id:s,children:i.jsx(he.div,{role:"group","aria-labelledby":s,...r,ref:t})})});e8.displayName=TA;var AA="SelectLabel",RA=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=J6(AA,n);return i.jsx(he.div,{id:s.id,...r,ref:t})});RA.displayName=AA;var Rf="SelectItem",[t8,MA]=ol(Rf),OA=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:a,...o}=e,l=Ea(Rf,n),c=Pa(Rf,n),u=l.value===r,[d,f]=m.useState(a??""),[h,p]=m.useState(!1),w=Ie(t,g=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,g,r,s)}),y=or(),b=m.useRef("touch"),x=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(t8,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:m.useCallback(g=>{f(v=>v||((g==null?void 0:g.textContent)??"").trim())},[]),children:i.jsx(am.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:i.jsx(he.div,{role:"option","aria-labelledby":y,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:w,onFocus:Y(o.onFocus,()=>p(!0)),onBlur:Y(o.onBlur,()=>p(!1)),onClick:Y(o.onClick,()=>{b.current!=="mouse"&&x()}),onPointerUp:Y(o.onPointerUp,()=>{b.current==="mouse"&&x()}),onPointerDown:Y(o.onPointerDown,g=>{b.current=g.pointerType}),onPointerMove:Y(o.onPointerMove,g=>{var v;b.current=g.pointerType,s?(v=c.onItemLeave)==null||v.call(c):b.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Y(o.onPointerLeave,g=>{var v;g.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:Y(o.onKeyDown,g=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&g.key===" "||(z6.includes(g.key)&&x(),g.key===" "&&g.preventDefault())})})})})});OA.displayName=Rf;var Ml="SelectItemText",IA=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...a}=e,o=Ea(Ml,n),l=Pa(Ml,n),c=MA(Ml,n),u=W6(Ml,n),[d,f]=m.useState(null),h=Ie(t,x=>f(x),c.onItemTextChange,x=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,x,c.value,c.disabled)}),p=d==null?void 0:d.textContent,w=m.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=u;return Kt(()=>(y(w),()=>b(w)),[y,b,w]),i.jsxs(i.Fragment,{children:[i.jsx(he.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ca.createPortal(a.children,o.valueNode):null]})});IA.displayName=Ml;var DA="SelectItemIndicator",FA=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return MA(DA,n).isSelected?i.jsx(he.span,{"aria-hidden":!0,...r,ref:t}):null});FA.displayName=DA;var ny="SelectScrollUpButton",LA=m.forwardRef((e,t)=>{const n=Pa(ny,e.__scopeSelect),r=dx(ny,e.__scopeSelect),[s,a]=m.useState(!1),o=Ie(t,r.onScrollButtonChange);return Kt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(zA,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});LA.displayName=ny;var ry="SelectScrollDownButton",$A=m.forwardRef((e,t)=>{const n=Pa(ry,e.__scopeSelect),r=dx(ry,e.__scopeSelect),[s,a]=m.useState(!1),o=Ie(t,r.onScrollButtonChange);return Kt(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?i.jsx(zA,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});$A.displayName=ry;var zA=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,a=Pa("SelectScrollButton",n),o=m.useRef(null),l=im(n),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Kt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(he.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Y(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Y(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Y(s.onPointerLeave,()=>{c()})})}),n8="SelectSeparator",BA=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return i.jsx(he.div,{"aria-hidden":!0,...r,ref:t})});BA.displayName=n8;var sy="SelectArrow",r8=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=om(n),a=Ea(sy,n),o=Pa(sy,n);return a.open&&o.position==="popper"?i.jsx(Dh,{...s,...r,ref:t}):null});r8.displayName=sy;function VA(e){return e===""||e===void 0}var UA=m.forwardRef((e,t)=>{const{value:n,...r}=e,s=m.useRef(null),a=Ie(t,s),o=Xv(n);return m.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&d){const f=new Event("change",{bubbles:!0});d.call(l,n),l.dispatchEvent(f)}},[o,n]),i.jsx(nu,{asChild:!0,children:i.jsx("select",{...r,ref:a,defaultValue:n})})});UA.displayName="BubbleSelect";function WA(e){const t=dt(e),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,a]}function HA(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=s8(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function s8(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var a8=vA,qA=wA,i8=SA,o8=_A,l8=NA,QA=CA,c8=PA,KA=RA,GA=OA,u8=IA,d8=FA,YA=LA,XA=$A,ZA=BA;const la=a8,ca=i8,vs=m.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(qA,{ref:r,className:te("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,i.jsx(o8,{asChild:!0,children:i.jsx(ru,{className:"h-4 w-4 opacity-50"})})]}));vs.displayName=qA.displayName;const JA=m.forwardRef(({className:e,...t},n)=>i.jsx(YA,{ref:n,className:te("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(vE,{className:"h-4 w-4"})}));JA.displayName=YA.displayName;const eR=m.forwardRef(({className:e,...t},n)=>i.jsx(XA,{ref:n,className:te("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(ru,{className:"h-4 w-4"})}));eR.displayName=XA.displayName;const xs=m.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>i.jsx(l8,{children:i.jsxs(QA,{ref:s,className:te("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[i.jsx(JA,{}),i.jsx(c8,{className:te("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(eR,{})]})}));xs.displayName=QA.displayName;const f8=m.forwardRef(({className:e,...t},n)=>i.jsx(KA,{ref:n,className:te("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));f8.displayName=KA.displayName;const wn=m.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(GA,{ref:r,className:te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(d8,{children:i.jsx(Tv,{className:"h-4 w-4"})})}),i.jsx(u8,{children:t})]}));wn.displayName=GA.displayName;const h8=m.forwardRef(({className:e,...t},n)=>i.jsx(ZA,{ref:n,className:te("-mx-1 my-1 h-px bg-muted",e),...t}));h8.displayName=ZA.displayName;function m8(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var fx="ScrollArea",[tR,V7]=gn(fx),[p8,dr]=tR(fx),nR=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:a=600,...o}=e,[l,c]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState(null),[p,w]=m.useState(null),[y,b]=m.useState(null),[x,g]=m.useState(0),[v,S]=m.useState(0),[_,j]=m.useState(!1),[N,E]=m.useState(!1),P=Ie(t,k=>c(k)),I=fu(s);return i.jsx(p8,{scope:n,type:r,dir:I,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:w,scrollbarXEnabled:_,onScrollbarXEnabledChange:j,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:N,onScrollbarYEnabledChange:E,onCornerWidthChange:g,onCornerHeightChange:S,children:i.jsx(he.div,{dir:I,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":v+"px",...e.style}})})});nR.displayName=fx;var rR="ScrollAreaViewport",sR=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...a}=e,o=dr(rR,n),l=m.useRef(null),c=Ie(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(he.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});sR.displayName=rR;var ns="ScrollAreaScrollbar",hx=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=dr(ns,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return m.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?i.jsx(g8,{...r,ref:t,forceMount:n}):s.type==="scroll"?i.jsx(y8,{...r,ref:t,forceMount:n}):s.type==="auto"?i.jsx(aR,{...r,ref:t,forceMount:n}):s.type==="always"?i.jsx(mx,{...r,ref:t}):null});hx.displayName=ns;var g8=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=dr(ns,e.__scopeScrollArea),[a,o]=m.useState(!1);return m.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(Lt,{present:n||a,children:i.jsx(aR,{"data-state":a?"visible":"hidden",...r,ref:t})})}),y8=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=dr(ns,e.__scopeScrollArea),a=e.orientation==="horizontal",o=cm(()=>c("SCROLL_END"),100),[l,c]=m8("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),m.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,a,c,o]),i.jsx(Lt,{present:n||l!=="hidden",children:i.jsx(mx,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Y(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Y(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),aR=m.forwardRef((e,t)=>{const n=dr(ns,e.__scopeScrollArea),{forceMount:r,...s}=e,[a,o]=m.useState(!1),l=e.orientation==="horizontal",c=cm(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return Uo(n.viewport,c),Uo(n.content,c),i.jsx(Lt,{present:r||a,children:i.jsx(mx,{"data-state":a?"visible":"hidden",...s,ref:t})})}),mx=m.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=dr(ns,e.__scopeScrollArea),a=m.useRef(null),o=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=uR(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return _8(h,o.current,l,p)}return n==="horizontal"?i.jsx(v8,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollLeft,p=hb(h,l,s.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):n==="vertical"?i.jsx(x8,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollTop,p=hb(h,l);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),v8=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=dr(ns,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),u=Ie(t,c,a.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(oR,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":lm(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),fR(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Of(o.paddingLeft),paddingEnd:Of(o.paddingRight)}})}})}),x8=m.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,a=dr(ns,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),u=Ie(t,c,a.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(oR,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":lm(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),fR(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Of(o.paddingTop),paddingEnd:Of(o.paddingBottom)}})}})}),[w8,iR]=tR(ns),oR=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=dr(ns,n),[w,y]=m.useState(null),b=Ie(t,P=>y(P)),x=m.useRef(null),g=m.useRef(""),v=p.viewport,S=r.content-r.viewport,_=dt(d),j=dt(c),N=cm(f,10);function E(P){if(x.current){const I=P.clientX-x.current.left,k=P.clientY-x.current.top;u({x:I,y:k})}}return m.useEffect(()=>{const P=I=>{const k=I.target;(w==null?void 0:w.contains(k))&&_(I,S)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[v,w,S,_]),m.useEffect(j,[r,j]),Uo(w,N),Uo(p.content,N),i.jsx(w8,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:dt(a),onThumbPointerUp:dt(o),onThumbPositionChange:j,onThumbPointerDown:dt(l),children:i.jsx(he.div,{...h,ref:b,style:{position:"absolute",...h.style},onPointerDown:Y(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),x.current=w.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),E(P))}),onPointerMove:Y(e.onPointerMove,E),onPointerUp:Y(e.onPointerUp,P=>{const I=P.target;I.hasPointerCapture(P.pointerId)&&I.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=g.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})})})}),Mf="ScrollAreaThumb",lR=m.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=iR(Mf,e.__scopeScrollArea);return i.jsx(Lt,{present:n||s.hasThumb,children:i.jsx(b8,{ref:t,...r})})}),b8=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,a=dr(Mf,n),o=iR(Mf,n),{onThumbPositionChange:l}=o,c=Ie(t,f=>o.onThumbChange(f)),u=m.useRef(void 0),d=cm(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!u.current){const p=N8(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,l]),i.jsx(he.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Y(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),w=f.clientX-p.left,y=f.clientY-p.top;o.onThumbPointerDown({x:w,y})}),onPointerUp:Y(e.onPointerUp,o.onThumbPointerUp)})});lR.displayName=Mf;var px="ScrollAreaCorner",cR=m.forwardRef((e,t)=>{const n=dr(px,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?i.jsx(S8,{...e,ref:t}):null});cR.displayName=px;var S8=m.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=dr(px,n),[a,o]=m.useState(0),[l,c]=m.useState(0),u=!!(a&&l);return Uo(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Uo(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?i.jsx(he.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Of(e){return e?parseInt(e,10):0}function uR(e,t){const n=e/t;return isNaN(n)?0:n}function lm(e){const t=uR(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function _8(e,t,n,r="ltr"){const s=lm(n),a=s/2,o=t||a,l=s-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return dR([c,u],f)(e)}function hb(e,t,n="ltr"){const r=lm(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,o=t.content-t.viewport,l=a-r,c=n==="ltr"?[0,o]:[o*-1,0],u=Jg(e,c);return dR([0,o],[0,l])(u)}function dR(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function fR(e,t){return e>0&&e<t}var N8=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},o=n.left!==a.left,l=n.top!==a.top;(o||l)&&t(),n=a,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function cm(e,t){const n=dt(e),r=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),m.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Uo(e,t){const n=dt(t);Kt(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var hR=nR,C8=sR,j8=cR;const ll=m.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(hR,{ref:r,className:te("relative overflow-hidden",e),...n,children:[i.jsx(C8,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(mR,{}),i.jsx(j8,{})]}));ll.displayName=hR.displayName;const mR=m.forwardRef(({className:e,orientation:t="vertical",...n},r)=>i.jsx(hx,{ref:r,orientation:t,className:te("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:i.jsx(lR,{className:"relative flex-1 rounded-full bg-border"})}));mR.displayName=hx.displayName;const pR="https://openlibrary.org",k8=`${pR}/search.json`,E8=`${pR}/api/books`,P8="https://www.googleapis.com/books/v1/volumes";class T8{constructor(){this.controller=null,this.searchCache=new Map,this.CACHE_DURATION=5*60*1e3}async searchBooks(t,n=10){if(!t.trim())return[];const r=`${t.toLowerCase()}-${n}`,s=this.searchCache.get(r);if(s&&Date.now()-s.timestamp<this.CACHE_DURATION)return s.results;this.controller&&this.controller.abort(),this.controller=new AbortController;try{const a=await this.searchGoogleBooks(t,n);return this.searchCache.set(r,{results:a,timestamp:Date.now()}),a}catch(a){if(a instanceof Error&&a.name==="AbortError")return[];console.error("Book search error:",a);try{const o=await this.searchOpenLibrary(t,n);return this.searchCache.set(r,{results:o,timestamp:Date.now()}),o}catch(o){throw console.error("Fallback search also failed:",o),a}}}async searchGoogleBooks(t,n){var l;const r=`${P8}?q=${encodeURIComponent(t)}&maxResults=${n}&orderBy=relevance&printType=books`,s=await fetch(r,{signal:(l=this.controller)==null?void 0:l.signal});if(!s.ok)throw new Error(`Google Books API error: ${s.status}`);return((await s.json()).items||[]).map((c,u)=>{var h;const d=c.volumeInfo||{},f=d.imageLinks||{};return{key:`google-${c.id}-${u}`,googleId:c.id,title:d.title||"Unknown Title",author_name:d.authors||["Unknown Author"],first_publish_year:d.publishedDate?parseInt(d.publishedDate.split("-")[0]):void 0,isbn:((h=d.industryIdentifiers)==null?void 0:h.map(p=>p.identifier))||[],number_of_pages_median:d.pageCount||void 0,subject:d.categories||[],thumbnail:f.thumbnail||f.smallThumbnail||"",description:d.description||"",publisher:d.publisher||"",averageRating:d.averageRating||0,ratingsCount:d.ratingsCount||0,categories:d.categories||[],cover_i:this.extractCoverId(f.thumbnail)}})}async searchOpenLibrary(t,n){var a;const r=await fetch(`${k8}?q=${encodeURIComponent(t)}&limit=${n}&fields=key,title,author_name,first_publish_year,isbn,number_of_pages_median,subject,cover_i,edition_key,cover_edition_key`,{signal:(a=this.controller)==null?void 0:a.signal});if(!r.ok)throw new Error(`Open Library search failed: ${r.status}`);return(await r.json()).docs||[]}extractCoverId(t){if(!t)return;const n=t.match(/\/b\/id\/(\d+)-/);return n?parseInt(n[1]):void 0}async getBookDetails(t){var n,r,s,a,o,l,c,u;try{if(t.googleId)return this.createGoogleBooksDetails(t);let d="";if(t.cover_edition_key)d=`OLID:${t.cover_edition_key}`;else if(t.edition_key&&t.edition_key.length>0)d=`OLID:${t.edition_key[0]}`;else if(t.isbn&&t.isbn.length>0)d=`ISBN:${t.isbn[0]}`;else return this.createFallbackDetails(t);const f=await fetch(`${E8}?bibkeys=${d}&jscmd=data&format=json`);if(!f.ok)throw new Error(`Failed to fetch book details: ${f.status}`);const h=await f.json(),p=Object.values(h)[0];if(!p)return this.createFallbackDetails(t);const w={title:p.title||"",authors:p.authors?p.authors.map(y=>y.name):[],publishYear:p.publish_date?parseInt(p.publish_date):void 0,pageCount:p.number_of_pages||void 0,subjects:p.subjects?p.subjects.map(y=>y.name):[],description:((n=p.description)==null?void 0:n.value)||p.description,coverUrl:((r=p.cover)==null?void 0:r.large)||((s=p.cover)==null?void 0:s.medium)||((a=p.cover)==null?void 0:a.small)};return((l=(o=p.identifiers)==null?void 0:o.isbn_13)==null?void 0:l.length)>0?w.isbn=p.identifiers.isbn_13[0]:((u=(c=p.identifiers)==null?void 0:c.isbn_10)==null?void 0:u.length)>0&&(w.isbn=p.identifiers.isbn_10[0]),w}catch(d){return console.error("Error fetching book details:",d),this.createFallbackDetails(t)}}createGoogleBooksDetails(t){var n;return{title:t.title,authors:t.author_name||[],publishYear:t.first_publish_year,pageCount:t.number_of_pages_median,subjects:t.subject||t.categories||[],description:t.description,coverUrl:t.thumbnail,isbn:(n=t.isbn)==null?void 0:n[0]}}createFallbackDetails(t){return{title:t.title,authors:t.author_name||[],publishYear:t.first_publish_year,pageCount:t.number_of_pages_median,subjects:t.subject||[],coverUrl:t.cover_i&&this.getCoverUrl(t.cover_i,"M")||void 0}}getCoverUrl(t,n="M"){return t?`https://covers.openlibrary.org/b/id/${t}-${n}.jpg`:null}getCanonicalGenre(t){if(!t||t.length===0)return"General Non-Fiction";const n={fiction:"Fiction",novel:"Fiction","science fiction":"Fiction",fantasy:"Fiction",mystery:"Fiction",romance:"Fiction",horror:"Fiction",thriller:"Fiction",adventure:"Fiction",drama:"Fiction","literary fiction":"Fiction","self help":"Personal Development","self-help":"Personal Development","personal development":"Personal Development","self improvement":"Personal Development","self-improvement":"Personal Development",motivation:"Personal Development",productivity:"Personal Development",habits:"Personal Development",business:"Business / Finance",entrepreneurship:"Business / Finance",management:"Business / Finance",economics:"Business / Finance",finance:"Business / Finance",investing:"Business / Finance",money:"Business / Finance",leadership:"Business / Finance",marketing:"Business / Finance",startup:"Business / Finance",philosophy:"Philosophy / Spirituality",spirituality:"Philosophy / Spirituality",religion:"Philosophy / Spirituality",meditation:"Philosophy / Spirituality",wisdom:"Philosophy / Spirituality",ethics:"Philosophy / Spirituality",consciousness:"Philosophy / Spirituality",psychology:"Psychology / Self-Improvement","cognitive science":"Psychology / Self-Improvement","behavioral psychology":"Psychology / Self-Improvement","mental health":"Psychology / Self-Improvement",therapy:"Psychology / Self-Improvement",mindfulness:"Psychology / Self-Improvement","emotional intelligence":"Psychology / Self-Improvement",history:"History / Culture",culture:"History / Culture",anthropology:"History / Culture",sociology:"History / Culture",civilization:"History / Culture","world history":"History / Culture","cultural studies":"History / Culture",science:"Science / Technology",technology:"Science / Technology","computer science":"Science / Technology",programming:"Science / Technology",physics:"Science / Technology",biology:"Science / Technology",chemistry:"Science / Technology",mathematics:"Science / Technology",engineering:"Science / Technology","artificial intelligence":"Science / Technology",biography:"Biography/Memoir",autobiography:"Biography/Memoir",memoir:"Biography/Memoir",memoirs:"Biography/Memoir","personal narrative":"Biography/Memoir"};for(const s of t){const a=s.toLowerCase().trim();if(n[a])return n[a];for(const[o,l]of Object.entries(n))if(a.includes(o))return l}const r=["juvenile","young adult","children","stories"];for(const s of t){const a=s.toLowerCase();if(r.some(o=>a.includes(o)))return"Fiction"}return"General Non-Fiction"}extractTopics(t,n,r=5){const s=new Set,a={redemption:"Redemption",betrayal:"Betrayal","cultural conflict":"Cultural Conflict",identity:"Identity",friendship:"Friendship",trauma:"Trauma",forgiveness:"Forgiveness",immigration:"Immigration",loyalty:"Loyalty",guilt:"Guilt",class:"Social Class",war:"War",resilience:"Resilience","coming of age":"Coming of Age",family:"Family",love:"Love",death:"Death",power:"Power",corruption:"Corruption",survival:"Survival",violence:"Violence",justice:"Justice",freedom:"Freedom",oppression:"Oppression",revolution:"Revolution",leadership:"Leadership",innovation:"Innovation",success:"Success",failure:"Failure",courage:"Courage",fear:"Fear",hope:"Hope",transformation:"Transformation","self-discovery":"Self-Discovery",relationships:"Relationships",morality:"Morality",sacrifice:"Sacrifice",honor:"Honor",tradition:"Tradition",change:"Change",conflict:"Conflict",peace:"Peace",loss:"Loss",recovery:"Recovery",growth:"Personal Growth",purpose:"Purpose",meaning:"Meaning",truth:"Truth",deception:"Deception"},o=["fiction","nonfiction","non-fiction","novel","book","books","literature","english","american","british","juvenile","adult","young adult","textbook","study guide","guide","handbook","manual","reference","collection","anthology","series","volume","edition","revised","paperback","hardcover","ebook","audiobook","large print","accessible book","protected daisy","in library","borrowable"];if(t)for(const l of t){const c=l.toLowerCase().trim();if(!(o.some(u=>c.includes(u))||c.length>50||/^\d{4}$/.test(c)||c.includes("accessible_book")||c.includes("protected_daisy"))){for(const[u,d]of Object.entries(a))c.includes(u)&&s.add(d);if(c.length<=25&&c.split(" ").length<=3&&!c.includes("--")&&c!=="fiction"&&c!=="non-fiction"){const u=l.split(" ").map(d=>d.charAt(0).toUpperCase()+d.slice(1).toLowerCase()).join(" ");s.add(u)}}}if(n){const l=n.toLowerCase();for(const[c,u]of Object.entries(a))l.includes(c)&&s.add(u)}return Array.from(s).slice(0,r)}cancel(){this.controller&&(this.controller.abort(),this.controller=null)}clearCache(){this.searchCache.clear()}getCacheStats(){return{size:this.searchCache.size,keys:Array.from(this.searchCache.keys())}}}const rc=new T8;function A8(e=150){const[t,n]=m.useState([]),[r,s]=m.useState(!1),[a,o]=m.useState(null),l=m.useRef(),c=m.useCallback(d=>{if(l.current&&clearTimeout(l.current),o(null),!d.trim()){n([]),s(!1);return}s(!0),l.current=setTimeout(async()=>{try{const f=await rc.searchBooks(d,8);n(f),o(null)}catch(f){console.error("Book search failed:",f),o("Failed to search for books. Please try again."),n([])}finally{s(!1)}},e)},[e]),u=m.useCallback(()=>{n([]),s(!1),o(null),rc.cancel()},[]);return m.useEffect(()=>()=>{l.current&&clearTimeout(l.current),rc.cancel()},[]),{suggestions:t,isLoading:r,error:a,search:c,clearSuggestions:u}}function R8({value:e,onChange:t,onBookSelect:n,placeholder:r="Start typing to search for books...",disabled:s,"data-testid":a}){const[o,l]=m.useState(!1),[c,u]=m.useState(!1),d=m.useRef(null),f=m.useRef(null),{suggestions:h,isLoading:p,error:w,search:y,clearSuggestions:b}=A8(),x=_=>{t(_),y(_),l(!0)},g=async _=>{l(!1),u(!0);try{t(_.title);const j=await rc.getBookDetails(_);if(j&&n){const N={title:j.title,authors:j.authors,subjects:j.subjects,description:j.description,pageCount:j.pageCount,publishYear:j.publishYear};n(N),console.log("Auto-populated book details:",N)}}catch(j){if(console.error("Failed to fetch book details:",j),n){const N={title:_.title,authors:_.author_name||[],subjects:_.subject||[],pageCount:_.number_of_pages_median,publishYear:_.first_publish_year};n(N)}}finally{u(!1)}},v=_=>{d.current&&!d.current.contains(_.target)&&f.current&&!f.current.contains(_.target)&&l(!1)};m.useEffect(()=>(document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)),[]);const S=_=>!_||_.length===0?"Unknown Author":_.length===1?_[0]:_.length===2?_.join(" & "):`${_[0]} & ${_.length-1} others`;return i.jsxs("div",{className:"relative w-full",children:[i.jsxs("div",{className:"relative",children:[i.jsx(gt,{ref:d,value:e,onChange:_=>x(_.target.value),placeholder:r,disabled:s||c,"data-testid":a,className:"pr-10 h-8"}),(p||c)&&i.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:i.jsx($g,{className:"h-4 w-4 animate-spin text-muted-foreground"})})]}),o&&e.trim().length>0&&i.jsx("div",{ref:f,className:"absolute z-50 w-full mt-1 bg-popover border border-border rounded-md shadow-lg","data-testid":`${a}-suggestions`,children:w?i.jsx("div",{className:"p-3 text-sm text-destructive","data-testid":`${a}-error`,children:w}):p?i.jsxs("div",{className:"p-4 text-center",children:[i.jsx($g,{className:"h-6 w-6 animate-spin mx-auto mb-2 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Searching for books..."})]}):h.length>0?i.jsx(ll,{className:"max-h-80",children:i.jsx("div",{className:"p-1",children:h.map((_,j)=>i.jsx(q,{variant:"ghost",className:"w-full justify-start h-auto p-3 hover-elevate",onClick:()=>g(_),"data-testid":`${a}-suggestion-${j}`,children:i.jsxs("div",{className:"flex items-start gap-3 w-full",children:[i.jsx("div",{className:"flex-shrink-0",children:_.thumbnail?i.jsx("img",{src:_.thumbnail,alt:_.title,className:"w-12 h-16 object-cover rounded",onError:N=>{N.target.style.display="none"}}):_.cover_i?i.jsx("img",{src:rc.getCoverUrl(_.cover_i,"S")||"",alt:_.title,className:"w-12 h-16 object-cover rounded",onError:N=>{N.target.style.display="none"}}):i.jsx("div",{className:"w-12 h-16 bg-muted rounded flex items-center justify-center",children:i.jsx(f$,{className:"h-6 w-6 text-muted-foreground"})})}),i.jsxs("div",{className:"flex-1 text-left space-y-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-sm leading-tight line-clamp-2",children:_.title}),i.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(I$,{className:"h-3 w-3"}),i.jsx("span",{className:"truncate",children:S(_.author_name)})]}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[_.first_publish_year&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(_i,{className:"h-3 w-3"}),i.jsx("span",{children:_.first_publish_year})]}),_.number_of_pages_median&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(b$,{className:"h-3 w-3"}),i.jsxs("span",{children:[_.number_of_pages_median," pages"]})]}),_.averageRating&&_.averageRating>0&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-yellow-500",children:"★"}),i.jsx("span",{children:_.averageRating.toFixed(1)})]})]}),_.subject&&_.subject.length>0||_.categories&&_.categories.length>0?i.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[(_.categories||_.subject||[]).slice(0,2).map((N,E)=>i.jsx(Ee,{variant:"secondary",className:"text-xs px-1 py-0",children:N.length>15?N.substring(0,15)+"...":N},E)),(_.categories||_.subject||[]).length>2&&i.jsxs(Ee,{variant:"outline",className:"text-xs px-1 py-0",children:["+",(_.categories||_.subject||[]).length-2]})]}):null]})]})},`${_.key}-${j}`))})}):i.jsx("div",{className:"p-3 text-sm text-muted-foreground text-center","data-testid":`${a}-no-results`,children:"No books found. Try a different search term."})})]})}const H=Symbol.for("drizzle:entityKind");function Ut(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,H))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(H in n&&n[H]===t[H])return!0;n=Object.getPrototypeOf(n)}return!1}var SS;SS=H;class Wo{constructor(t,n){O(this,"name");O(this,"keyAsName");O(this,"primary");O(this,"notNull");O(this,"default");O(this,"defaultFn");O(this,"onUpdateFn");O(this,"hasDefault");O(this,"isUnique");O(this,"uniqueName");O(this,"uniqueType");O(this,"dataType");O(this,"columnType");O(this,"enumValues");O(this,"generated");O(this,"generatedIdentity");O(this,"config");this.table=t,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}O(Wo,SS,"Column");var _S;_S=H;class gR{constructor(t,n,r){O(this,"config");O(this,"$default",this.$defaultFn);O(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}O(gR,_S,"ColumnBuilder");const po=Symbol.for("drizzle:Name");var NS;NS=H;class yR{constructor(t,n){O(this,"reference");O(this,"_onUpdate","no action");O(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:s,foreignColumns:a}=t();return{name:r,columns:s,foreignTable:a[0].table,foreignColumns:a}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new vR(t,this)}}O(yR,NS,"PgForeignKeyBuilder");var CS;CS=H;class vR{constructor(t,n){O(this,"reference");O(this,"onUpdate");O(this,"onDelete");this.table=t,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:t,columns:n,foreignColumns:r}=this.reference(),s=n.map(l=>l.name),a=r.map(l=>l.name),o=[this.table[po],...s,r[0].table[po],...a];return t??`${o.join("_")}_fk`}}O(vR,CS,"PgForeignKey");function M8(e,...t){return e(...t)}function O8(e,t){return`${e[po]}_${t.join("_")}_unique`}function mb(e,t,n){for(let r=t;r<e.length;r++){const s=e[r];if(s==="\\"){r++;continue}if(s==='"')return[e.slice(t,r).replace(/\\/g,""),r+1];if(!n&&(s===","||s==="}"))return[e.slice(t,r).replace(/\\/g,""),r]}return[e.slice(t).replace(/\\/g,""),e.length]}function xR(e,t=0){const n=[];let r=t,s=!1;for(;r<e.length;){const a=e[r];if(a===","){(s||r===t)&&n.push(""),s=!0,r++;continue}if(s=!1,a==="\\"){r+=2;continue}if(a==='"'){const[c,u]=mb(e,r+1,!0);n.push(c),r=u;continue}if(a==="}")return[n,r+1];if(a==="{"){const[c,u]=xR(e,r+1);n.push(c),r=u;continue}const[o,l]=mb(e,r,!1);n.push(o),r=l}return[n,r]}function I8(e){const[t]=xR(e,1);return t}function wR(e){return`{${e.map(t=>Array.isArray(t)?wR(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var jS,kS;class He extends(kS=gR,jS=H,kS){constructor(){super(...arguments);O(this,"foreignKeyConfigs",[])}array(n){return new SR(this.config.name,this,n)}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n,r){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:s,actions:a})=>M8((o,l)=>{const c=new yR(()=>{const u=o();return{columns:[n],foreignColumns:[u]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(r)},s,a))}buildExtraConfigColumn(n){return new bR(n,this.config)}}O(He,jS,"PgColumnBuilder");var ES,PS;class Re extends(PS=Wo,ES=H,PS){constructor(t,n){n.uniqueName||(n.uniqueName=O8(t,[n.name])),super(t,n),this.table=t}}O(Re,ES,"PgColumn");var TS,AS;class bR extends(AS=Re,TS=H,AS){constructor(){super(...arguments);O(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});O(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}O(bR,TS,"ExtraConfigColumn");var RS,MS;class SR extends(MS=He,RS=H,MS){constructor(t,n,r){super(t,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(t){const n=this.config.baseBuilder.build(t);return new ay(t,this.config,n)}}O(SR,RS,"PgArrayBuilder");var OS,IS;const ih=class ih extends(IS=Re,OS=H,IS){constructor(n,r,s,a){super(n,r);O(this,"size");this.baseColumn=s,this.range=a,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=I8(n)),n.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(n,r=!1){const s=n.map(a=>a===null?null:Ut(this.baseColumn,ih)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return r?s:wR(s)}};O(ih,OS,"PgArray");let ay=ih;const pb=Symbol.for("drizzle:isPgEnum");function D8(e){return!!e&&typeof e=="function"&&pb in e&&e[pb]===!0}var DS;DS=H;class gx{constructor(t,n,r,s=!1){this._={brand:"Subquery",sql:t,selectedFields:n,alias:r,isWith:s}}}O(gx,DS,"Subquery");const F8={startActiveSpan(e,t){return t()}},go=Symbol.for("drizzle:ViewBaseConfig"),fp=Symbol.for("drizzle:Schema"),gb=Symbol.for("drizzle:Columns"),yb=Symbol.for("drizzle:ExtraConfigColumns"),hp=Symbol.for("drizzle:OriginalName"),mp=Symbol.for("drizzle:BaseName"),If=Symbol.for("drizzle:IsAlias"),vb=Symbol.for("drizzle:ExtraConfigBuilder"),_R=Symbol.for("drizzle:IsDrizzleTable");var FS,LS,$S,zS,BS,VS,US,WS,HS,qS;qS=H,HS=po,WS=hp,US=fp,VS=gb,BS=yb,zS=mp,$S=If,LS=_R,FS=vb;class dn{constructor(t,n,r){O(this,HS);O(this,WS);O(this,US);O(this,VS);O(this,BS);O(this,zS);O(this,$S,!1);O(this,LS,!0);O(this,FS);this[po]=this[hp]=t,this[fp]=n,this[mp]=r}}O(dn,qS,"Table"),O(dn,"Symbol",{Name:po,Schema:fp,OriginalName:hp,Columns:gb,ExtraConfigColumns:yb,BaseName:mp,IsAlias:If,ExtraConfigBuilder:vb});function NR(e){return typeof e=="object"&&e!==null&&_R in e}function L8(e){return e!=null&&typeof e.getSQL=="function"}function $8(e){var n;const t={sql:"",params:[]};for(const r of e)t.sql+=r.sql,t.params.push(...r.params),(n=r.typings)!=null&&n.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}var QS;QS=H;class Jn{constructor(t){O(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new Mt([this])}}O(Jn,QS,"StringChunk");var KS;KS=H;const La=class La{constructor(t){O(this,"decoder",CR);O(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return F8.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,t);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(t,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:s,escapeName:a,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:u}=r;return $8(t.map(d=>{var f;if(Ut(d,Jn))return{sql:d.value.join(""),params:[]};if(Ut(d,Df))return{sql:a(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const h=[new Jn("(")];for(const[p,w]of d.entries())h.push(w),p<d.length-1&&h.push(new Jn(", "));return h.push(new Jn(")")),this.buildQueryFromSourceParams(h,r)}if(Ut(d,La))return this.buildQueryFromSourceParams(d.queryChunks,{...r,inlineParams:c||d.shouldInlineParams});if(Ut(d,dn)){const h=d[dn.Symbol.Schema],p=d[dn.Symbol.Name];return{sql:h===void 0||d[If]?a(p):a(h)+"."+a(p),params:[]}}if(Ut(d,Wo)){const h=s.getColumnCasing(d);if(n.invokeSource==="indexes")return{sql:a(h),params:[]};const p=d.table[dn.Symbol.Schema];return{sql:d.table[If]||p===void 0?a(d.table[dn.Symbol.Name])+"."+a(h):a(p)+"."+a(d.table[dn.Symbol.Name])+"."+a(h),params:[]}}if(Ut(d,ER)){const h=d[go].schema,p=d[go].name;return{sql:h===void 0||d[go].isAlias?a(p):a(h)+"."+a(p),params:[]}}if(Ut(d,yx)){if(Ut(d.value,Ff))return{sql:o(u.value++,d),params:[d],typings:["none"]};const h=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(Ut(h,La))return this.buildQueryFromSourceParams([h],r);if(c)return{sql:this.mapInlineParam(h,r),params:[]};let p=["none"];return l&&(p=[l(d.encoder)]),{sql:o(u.value++,h),params:[h],typings:p}}return Ut(d,Ff)?{sql:o(u.value++,d),params:[d],typings:["none"]}:Ut(d,La.Aliased)&&d.fieldAlias!==void 0?{sql:a(d.fieldAlias),params:[]}:Ut(d,gx)?d._.isWith?{sql:a(d._.alias),params:[]}:this.buildQueryFromSourceParams([new Jn("("),d._.sql,new Jn(") "),new Df(d._.alias)],r):D8(d)?d.schema?{sql:a(d.schema)+"."+a(d.enumName),params:[]}:{sql:a(d.enumName),params:[]}:L8(d)?(f=d.shouldOmitSQLParens)!=null&&f.call(d)?this.buildQueryFromSourceParams([d.getSQL()],r):this.buildQueryFromSourceParams([new Jn("("),d.getSQL(),new Jn(")")],r):c?{sql:this.mapInlineParam(d,r),params:[]}:{sql:o(u.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(t,{escapeString:n}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return n(t);if(typeof t=="object"){const r=t.toString();return n(r==="[object Object]"?JSON.stringify(t):r)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new La.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};O(La,KS,"SQL");let Mt=La;var GS;GS=H;class Df{constructor(t){O(this,"brand");this.value=t}getSQL(){return new Mt([this])}}O(Df,GS,"Name");const CR={mapFromDriverValue:e=>e},jR={mapToDriverValue:e=>e};({...CR,...jR});var YS;YS=H;class yx{constructor(t,n=jR){O(this,"brand");this.value=t,this.encoder=n}getSQL(){return new Mt([this])}}O(yx,YS,"Param");function Un(e,...t){const n=[];(t.length>0||e.length>0&&e[0]!=="")&&n.push(new Jn(e[0]));for(const[r,s]of t.entries())n.push(s,new Jn(e[r+1]));return new Mt(n)}(e=>{function t(){return new Mt([])}e.empty=t;function n(c){return new Mt(c)}e.fromList=n;function r(c){return new Mt([new Jn(c)])}e.raw=r;function s(c,u){const d=[];for(const[f,h]of c.entries())f>0&&u!==void 0&&d.push(u),d.push(h);return new Mt(d)}e.join=s;function a(c){return new Df(c)}e.identifier=a;function o(c){return new Ff(c)}e.placeholder=o;function l(c,u){return new yx(c,u)}e.param=l})(Un||(Un={}));(e=>{var n;n=H;const r=class r{constructor(a,o){O(this,"isSelectionField",!1);this.sql=a,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};O(r,n,"SQL.Aliased");let t=r;e.Aliased=t})(Mt||(Mt={}));var XS;XS=H;class Ff{constructor(t){this.name=t}getSQL(){return new Mt([this])}}O(Ff,XS,"Placeholder");const kR=Symbol.for("drizzle:IsDrizzleView");var ZS,JS,e_;e_=H,JS=go,ZS=kR;class ER{constructor({name:t,schema:n,selectedFields:r,query:s}){O(this,JS);O(this,ZS,!0);this[go]={name:t,originalName:t,schema:n,selectedFields:r,query:s,isExisting:!s,isAlias:!1}}getSQL(){return new Mt([this])}}O(ER,e_,"View");function z8(e){return typeof e=="object"&&e!==null&&kR in e}Wo.prototype.getSQL=function(){return new Mt([this])};dn.prototype.getSQL=function(){return new Mt([this])};gx.prototype.getSQL=function(){return new Mt([this])};function B8(e){return e[dn.Symbol.Columns]}function V8(e){return e[go].selectedFields}function $t(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var t_,n_;class xu extends(n_=He,t_=H,n_){generatedAlwaysAsIdentity(t){if(t){const{name:n,...r}=t;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:n,...r}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}O(xu,t_,"PgIntColumnBaseBuilder");var r_,s_;class PR extends(s_=xu,r_=H,s_){constructor(t){super(t,"number","PgBigInt53")}build(t){return new TR(t,this.config)}}O(PR,r_,"PgBigInt53Builder");var a_,i_;class TR extends(i_=Re,a_=H,i_){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}O(TR,a_,"PgBigInt53");var o_,l_;class AR extends(l_=xu,o_=H,l_){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new RR(t,this.config)}}O(AR,o_,"PgBigInt64Builder");var c_,u_;class RR extends(u_=Re,c_=H,u_){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}O(RR,c_,"PgBigInt64");function U8(e,t){const{name:n,config:r}=$t(e,t);return r.mode==="number"?new PR(n):new AR(n)}var d_,f_;class MR extends(f_=He,d_=H,f_){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new OR(t,this.config)}}O(MR,d_,"PgBigSerial53Builder");var h_,m_;class OR extends(m_=Re,h_=H,m_){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}O(OR,h_,"PgBigSerial53");var p_,g_;class IR extends(g_=He,p_=H,g_){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new DR(t,this.config)}}O(IR,p_,"PgBigSerial64Builder");var y_,v_;class DR extends(v_=Re,y_=H,v_){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}O(DR,y_,"PgBigSerial64");function W8(e,t){const{name:n,config:r}=$t(e,t);return r.mode==="number"?new MR(n):new IR(n)}var x_,w_;class FR extends(w_=He,x_=H,w_){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new LR(t,this.config)}}O(FR,x_,"PgBooleanBuilder");var b_,S_;class LR extends(S_=Re,b_=H,S_){getSQLType(){return"boolean"}}O(LR,b_,"PgBoolean");function um(e){return new FR(e??"")}var __,N_;class $R extends(N_=He,__=H,N_){constructor(t,n){super(t,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new zR(t,this.config)}}O($R,__,"PgCharBuilder");var C_,j_;class zR extends(j_=Re,C_=H,j_){constructor(){super(...arguments);O(this,"length",this.config.length);O(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}O(zR,C_,"PgChar");function H8(e,t={}){const{name:n,config:r}=$t(e,t);return new $R(n,r)}var k_,E_;class BR extends(E_=He,k_=H,E_){constructor(t){super(t,"string","PgCidr")}build(t){return new VR(t,this.config)}}O(BR,k_,"PgCidrBuilder");var P_,T_;class VR extends(T_=Re,P_=H,T_){getSQLType(){return"cidr"}}O(VR,P_,"PgCidr");function q8(e){return new BR(e??"")}var A_,R_;class UR extends(R_=He,A_=H,R_){constructor(t,n,r){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(t){return new WR(t,this.config)}}O(UR,A_,"PgCustomColumnBuilder");var M_,O_;class WR extends(O_=Re,M_=H,O_){constructor(n,r){super(n,r);O(this,"sqlName");O(this,"mapTo");O(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}O(WR,M_,"PgCustomColumn");function Q8(e){return(t,n)=>{const{name:r,config:s}=$t(t,n);return new UR(r,s,e)}}var I_,D_;class cl extends(D_=He,I_=H,D_){defaultNow(){return this.default(Un`now()`)}}O(cl,I_,"PgDateColumnBaseBuilder");var F_,L_;class HR extends(L_=cl,F_=H,L_){constructor(t){super(t,"date","PgDate")}build(t){return new qR(t,this.config)}}O(HR,F_,"PgDateBuilder");var $_,z_;class qR extends(z_=Re,$_=H,z_){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}O(qR,$_,"PgDate");var B_,V_;class QR extends(V_=cl,B_=H,V_){constructor(t){super(t,"string","PgDateString")}build(t){return new KR(t,this.config)}}O(QR,B_,"PgDateStringBuilder");var U_,W_;class KR extends(W_=Re,U_=H,W_){getSQLType(){return"date"}}O(KR,U_,"PgDateString");function Tc(e,t){const{name:n,config:r}=$t(e,t);return(r==null?void 0:r.mode)==="date"?new HR(n):new QR(n)}var H_,q_;class GR extends(q_=He,H_=H,q_){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new YR(t,this.config)}}O(GR,H_,"PgDoublePrecisionBuilder");var Q_,K_;class YR extends(K_=Re,Q_=H,K_){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}O(YR,Q_,"PgDoublePrecision");function K8(e){return new GR(e??"")}var G_,Y_;class XR extends(Y_=He,G_=H,Y_){constructor(t){super(t,"string","PgInet")}build(t){return new ZR(t,this.config)}}O(XR,G_,"PgInetBuilder");var X_,Z_;class ZR extends(Z_=Re,X_=H,Z_){getSQLType(){return"inet"}}O(ZR,X_,"PgInet");function G8(e){return new XR(e??"")}var J_,e1;class JR extends(e1=xu,J_=H,e1){constructor(t){super(t,"number","PgInteger")}build(t){return new e2(t,this.config)}}O(JR,J_,"PgIntegerBuilder");var t1,n1;class e2 extends(n1=Re,t1=H,n1){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}O(e2,t1,"PgInteger");function Nt(e){return new JR(e??"")}var r1,s1;class t2 extends(s1=He,r1=H,s1){constructor(t,n){super(t,"string","PgInterval"),this.config.intervalConfig=n}build(t){return new n2(t,this.config)}}O(t2,r1,"PgIntervalBuilder");var a1,i1;class n2 extends(i1=Re,a1=H,i1){constructor(){super(...arguments);O(this,"fields",this.config.intervalConfig.fields);O(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${n}${r}`}}O(n2,a1,"PgInterval");function Y8(e,t={}){const{name:n,config:r}=$t(e,t);return new t2(n,r)}var o1,l1;class r2 extends(l1=He,o1=H,l1){constructor(t){super(t,"json","PgJson")}build(t){return new s2(t,this.config)}}O(r2,o1,"PgJsonBuilder");var c1,u1;class s2 extends(u1=Re,c1=H,u1){constructor(t,n){super(t,n)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}O(s2,c1,"PgJson");function X8(e){return new r2(e??"")}var d1,f1;class a2 extends(f1=He,d1=H,f1){constructor(t){super(t,"json","PgJsonb")}build(t){return new i2(t,this.config)}}O(a2,d1,"PgJsonbBuilder");var h1,m1;class i2 extends(m1=Re,h1=H,m1){constructor(t,n){super(t,n)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}O(i2,h1,"PgJsonb");function Z8(e){return new a2(e??"")}var p1,g1;class o2 extends(g1=He,p1=H,g1){constructor(t){super(t,"array","PgLine")}build(t){return new l2(t,this.config)}}O(o2,p1,"PgLineBuilder");var y1,v1;class l2 extends(v1=Re,y1=H,v1){getSQLType(){return"line"}mapFromDriverValue(t){const[n,r,s]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(s)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}O(l2,y1,"PgLine");var x1,w1;class c2 extends(w1=He,x1=H,w1){constructor(t){super(t,"json","PgLineABC")}build(t){return new u2(t,this.config)}}O(c2,x1,"PgLineABCBuilder");var b1,S1;class u2 extends(S1=Re,b1=H,S1){getSQLType(){return"line"}mapFromDriverValue(t){const[n,r,s]=t.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(s)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}O(u2,b1,"PgLineABC");function J8(e,t){const{name:n,config:r}=$t(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new o2(n):new c2(n)}var _1,N1;class d2 extends(N1=He,_1=H,N1){constructor(t){super(t,"string","PgMacaddr")}build(t){return new f2(t,this.config)}}O(d2,_1,"PgMacaddrBuilder");var C1,j1;class f2 extends(j1=Re,C1=H,j1){getSQLType(){return"macaddr"}}O(f2,C1,"PgMacaddr");function eU(e){return new d2(e??"")}var k1,E1;class h2 extends(E1=He,k1=H,E1){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new m2(t,this.config)}}O(h2,k1,"PgMacaddr8Builder");var P1,T1;class m2 extends(T1=Re,P1=H,T1){getSQLType(){return"macaddr8"}}O(m2,P1,"PgMacaddr8");function tU(e){return new h2(e??"")}var A1,R1;class p2 extends(R1=He,A1=H,R1){constructor(t,n,r){super(t,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(t){return new g2(t,this.config)}}O(p2,A1,"PgNumericBuilder");var M1,O1;class g2 extends(O1=Re,M1=H,O1){constructor(n,r){super(n,r);O(this,"precision");O(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}O(g2,M1,"PgNumeric");function nU(e,t){const{name:n,config:r}=$t(e,t);return new p2(n,r==null?void 0:r.precision,r==null?void 0:r.scale)}var I1,D1;class y2 extends(D1=He,I1=H,D1){constructor(t){super(t,"array","PgPointTuple")}build(t){return new v2(t,this.config)}}O(y2,I1,"PgPointTupleBuilder");var F1,L1;class v2 extends(L1=Re,F1=H,L1){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,r]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}O(v2,F1,"PgPointTuple");var $1,z1;class x2 extends(z1=He,$1=H,z1){constructor(t){super(t,"json","PgPointObject")}build(t){return new w2(t,this.config)}}O(x2,$1,"PgPointObjectBuilder");var B1,V1;class w2 extends(V1=Re,B1=H,V1){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,r]=t.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}O(w2,B1,"PgPointObject");function rU(e,t){const{name:n,config:r}=$t(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new y2(n):new x2(n)}function sU(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(Number.parseInt(e.slice(n,n+2),16));return new Uint8Array(t)}function xb(e,t){const n=new ArrayBuffer(8),r=new DataView(n);for(let s=0;s<8;s++)r.setUint8(s,e[t+s]);return r.getFloat64(0,!0)}function b2(e){const t=sU(e);let n=0;const r=t[n];n+=1;const s=new DataView(t.buffer),a=s.getUint32(n,r===1);if(n+=4,a&536870912&&(s.getUint32(n,r===1),n+=4),(a&65535)===1){const o=xb(t,n);n+=8;const l=xb(t,n);return n+=8,[o,l]}throw new Error("Unsupported geometry type")}var U1,W1;class S2 extends(W1=He,U1=H,W1){constructor(t){super(t,"array","PgGeometry")}build(t){return new _2(t,this.config)}}O(S2,U1,"PgGeometryBuilder");var H1,q1;class _2 extends(q1=Re,H1=H,q1){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return b2(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}O(_2,H1,"PgGeometry");var Q1,K1;class N2 extends(K1=He,Q1=H,K1){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new C2(t,this.config)}}O(N2,Q1,"PgGeometryObjectBuilder");var G1,Y1;class C2 extends(Y1=Re,G1=H,Y1){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const n=b2(t);return{x:n[0],y:n[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}O(C2,G1,"PgGeometryObject");function aU(e,t){const{name:n,config:r}=$t(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new S2(n):new N2(n)}var X1,Z1;class j2 extends(Z1=He,X1=H,Z1){constructor(t,n){super(t,"number","PgReal"),this.config.length=n}build(t){return new k2(t,this.config)}}O(j2,X1,"PgRealBuilder");var J1,eN;class k2 extends(eN=Re,J1=H,eN){constructor(n,r){super(n,r);O(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}O(k2,J1,"PgReal");function wu(e){return new j2(e??"")}var tN,nN;class E2 extends(nN=He,tN=H,nN){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new P2(t,this.config)}}O(E2,tN,"PgSerialBuilder");var rN,sN;class P2 extends(sN=Re,rN=H,sN){getSQLType(){return"serial"}}O(P2,rN,"PgSerial");function vx(e){return new E2(e??"")}var aN,iN;class T2 extends(iN=xu,aN=H,iN){constructor(t){super(t,"number","PgSmallInt")}build(t){return new A2(t,this.config)}}O(T2,aN,"PgSmallIntBuilder");var oN,lN;class A2 extends(lN=Re,oN=H,lN){constructor(){super(...arguments);O(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}O(A2,oN,"PgSmallInt");function iU(e){return new T2(e??"")}var cN,uN;class R2 extends(uN=He,cN=H,uN){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new M2(t,this.config)}}O(R2,cN,"PgSmallSerialBuilder");var dN,fN;class M2 extends(fN=Re,dN=H,fN){getSQLType(){return"smallserial"}}O(M2,dN,"PgSmallSerial");function oU(e){return new R2(e??"")}var hN,mN;class O2 extends(mN=He,hN=H,mN){constructor(t,n){super(t,"string","PgText"),this.config.enumValues=n.enum}build(t){return new I2(t,this.config)}}O(O2,hN,"PgTextBuilder");var pN,gN;class I2 extends(gN=Re,pN=H,gN){constructor(){super(...arguments);O(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}O(I2,pN,"PgText");function Ye(e,t={}){const{name:n,config:r}=$t(e,t);return new O2(n,r)}var yN,vN;class D2 extends(vN=cl,yN=H,vN){constructor(t,n,r){super(t,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}build(t){return new F2(t,this.config)}}O(D2,yN,"PgTimeBuilder");var xN,wN;class F2 extends(wN=Re,xN=H,wN){constructor(n,r){super(n,r);O(this,"withTimezone");O(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}O(F2,xN,"PgTime");function lU(e,t={}){const{name:n,config:r}=$t(e,t);return new D2(n,r.withTimezone??!1,r.precision)}var bN,SN;class L2 extends(SN=cl,bN=H,SN){constructor(t,n,r){super(t,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(t){return new $2(t,this.config)}}O(L2,bN,"PgTimestampBuilder");var _N,NN;class $2 extends(NN=Re,_N=H,NN){constructor(n,r){super(n,r);O(this,"withTimezone");O(this,"precision");O(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));O(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}O($2,_N,"PgTimestamp");var CN,jN;class z2 extends(jN=cl,CN=H,jN){constructor(t,n,r){super(t,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(t){return new B2(t,this.config)}}O(z2,CN,"PgTimestampStringBuilder");var kN,EN;class B2 extends(EN=Re,kN=H,EN){constructor(n,r){super(n,r);O(this,"withTimezone");O(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}O(B2,kN,"PgTimestampString");function At(e,t={}){const{name:n,config:r}=$t(e,t);return(r==null?void 0:r.mode)==="string"?new z2(n,r.withTimezone??!1,r.precision):new L2(n,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var PN,TN;class V2 extends(TN=He,PN=H,TN){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(Un`gen_random_uuid()`)}build(t){return new U2(t,this.config)}}O(V2,PN,"PgUUIDBuilder");var AN,RN;class U2 extends(RN=Re,AN=H,RN){getSQLType(){return"uuid"}}O(U2,AN,"PgUUID");function cU(e){return new V2(e??"")}var MN,ON;class W2 extends(ON=He,MN=H,ON){constructor(t,n){super(t,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new H2(t,this.config)}}O(W2,MN,"PgVarcharBuilder");var IN,DN;class H2 extends(DN=Re,IN=H,DN){constructor(){super(...arguments);O(this,"length",this.config.length);O(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}O(H2,IN,"PgVarchar");function Cr(e,t={}){const{name:n,config:r}=$t(e,t);return new W2(n,r)}var FN,LN;class q2 extends(LN=He,FN=H,LN){constructor(t,n){super(t,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(t){return new Q2(t,this.config)}}O(q2,FN,"PgBinaryVectorBuilder");var $N,zN;class Q2 extends(zN=Re,$N=H,zN){constructor(){super(...arguments);O(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}O(Q2,$N,"PgBinaryVector");function uU(e,t){const{name:n,config:r}=$t(e,t);return new q2(n,r)}var BN,VN;class K2 extends(VN=He,BN=H,VN){constructor(t,n){super(t,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(t){return new G2(t,this.config)}}O(K2,BN,"PgHalfVectorBuilder");var UN,WN;class G2 extends(WN=Re,UN=H,WN){constructor(){super(...arguments);O(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}O(G2,UN,"PgHalfVector");function dU(e,t){const{name:n,config:r}=$t(e,t);return new K2(n,r)}var HN,qN;class Y2 extends(qN=He,HN=H,qN){constructor(t,n){super(t,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(t){return new X2(t,this.config)}}O(Y2,HN,"PgSparseVectorBuilder");var QN,KN;class X2 extends(KN=Re,QN=H,KN){constructor(){super(...arguments);O(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}O(X2,QN,"PgSparseVector");function fU(e,t){const{name:n,config:r}=$t(e,t);return new Y2(n,r)}var GN,YN;class Z2 extends(YN=He,GN=H,YN){constructor(t,n){super(t,"array","PgVector"),this.config.dimensions=n.dimensions}build(t){return new J2(t,this.config)}}O(Z2,GN,"PgVectorBuilder");var XN,ZN;class J2 extends(ZN=Re,XN=H,ZN){constructor(){super(...arguments);O(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}O(J2,XN,"PgVector");function hU(e,t){const{name:n,config:r}=$t(e,t);return new Z2(n,r)}function mU(){return{bigint:U8,bigserial:W8,boolean:um,char:H8,cidr:q8,customType:Q8,date:Tc,doublePrecision:K8,inet:G8,integer:Nt,interval:Y8,json:X8,jsonb:Z8,line:J8,macaddr:eU,macaddr8:tU,numeric:nU,point:rU,geometry:aU,real:wu,serial:vx,smallint:iU,smallserial:oU,text:Ye,time:lU,timestamp:At,uuid:cU,varchar:Cr,bit:uU,halfvec:dU,sparsevec:fU,vector:hU}}const iy=Symbol.for("drizzle:PgInlineForeignKeys"),wb=Symbol.for("drizzle:EnableRLS");var JN,eC,tC,nC,rC;class Lf extends(rC=dn,nC=H,tC=iy,eC=wb,JN=dn.Symbol.ExtraConfigBuilder,rC){constructor(){super(...arguments);O(this,tC,[]);O(this,eC,!1);O(this,JN)}}O(Lf,nC,"PgTable"),O(Lf,"Symbol",Object.assign({},dn.Symbol,{InlineForeignKeys:iy,EnableRLS:wb}));function pU(e,t,n,r,s=e){const a=new Lf(e,r,s),o=typeof t=="function"?t(mU()):t,l=Object.fromEntries(Object.entries(o).map(([d,f])=>{const h=f;h.setName(d);const p=h.build(a);return a[iy].push(...h.buildForeignKeys(p,a)),[d,p]})),c=Object.fromEntries(Object.entries(o).map(([d,f])=>{const h=f;h.setName(d);const p=h.buildExtraConfigColumn(a);return[d,p]})),u=Object.assign(a,l);return u[dn.Symbol.Columns]=l,u[dn.Symbol.ExtraConfigColumns]=c,Object.assign(u,{enableRLS:()=>(u[Lf.Symbol.EnableRLS]=!0,u)})}const ji=(e,t,n)=>pU(e,t,n,void 0);var We;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},e.find=(s,a)=>{for(const o of s)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(We||(We={}));var oy;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(oy||(oy={}));const oe=We.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fs=e=>{switch(typeof e){case"undefined":return oe.undefined;case"string":return oe.string;case"number":return isNaN(e)?oe.nan:oe.number;case"boolean":return oe.boolean;case"function":return oe.function;case"bigint":return oe.bigint;case"symbol":return oe.symbol;case"object":return Array.isArray(e)?oe.array:e===null?oe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?oe.promise:typeof Map<"u"&&e instanceof Map?oe.map:typeof Set<"u"&&e instanceof Set?oe.set:typeof Date<"u"&&e instanceof Date?oe.date:oe.object;default:return oe.unknown}},K=We.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),gU=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Wn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(a){return a.message},r={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),r}static assert(t){if(!(t instanceof Wn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,We.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Wn.create=e=>new Wn(e);const Ho=(e,t)=>{let n;switch(e.code){case K.invalid_type:e.received===oe.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case K.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,We.jsonStringifyReplacer)}`;break;case K.unrecognized_keys:n=`Unrecognized key(s) in object: ${We.joinValues(e.keys,", ")}`;break;case K.invalid_union:n="Invalid input";break;case K.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${We.joinValues(e.options)}`;break;case K.invalid_enum_value:n=`Invalid enum value. Expected ${We.joinValues(e.options)}, received '${e.received}'`;break;case K.invalid_arguments:n="Invalid function arguments";break;case K.invalid_return_type:n="Invalid function return type";break;case K.invalid_date:n="Invalid date";break;case K.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:We.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case K.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case K.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case K.custom:n="Invalid input";break;case K.invalid_intersection_types:n="Intersection results could not be merged";break;case K.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case K.not_finite:n="Number must be finite";break;default:n=t.defaultError,We.assertNever(e)}return{message:n}};let eM=Ho;function yU(e){eM=e}function $f(){return eM}const zf=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,a=[...n,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:a,message:l}},vU=[];function se(e,t){const n=$f(),r=zf({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Ho?void 0:Ho].filter(s=>!!s)});e.common.issues.push(r)}class nn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return Ne;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const a=await s.key,o=await s.value;r.push({key:a,value:o})}return nn.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return Ne;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[a.value]=o.value)}return{status:t.value,value:r}}}const Ne=Object.freeze({status:"aborted"}),to=e=>({status:"dirty",value:e}),hn=e=>({status:"valid",value:e}),ly=e=>e.status==="aborted",cy=e=>e.status==="dirty",gi=e=>e.status==="valid",Ac=e=>typeof Promise<"u"&&e instanceof Promise;function Bf(e,t,n,r){if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function tM(e,t,n,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var fe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(fe||(fe={}));var Ol,Il;class Zr{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const bb=(e,t)=>{if(gi(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Wn(e.common.issues);return this._error=n,this._error}}};function Ae(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{var c,u;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??r)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:l.defaultError}},description:s}}class Fe{get description(){return this._def.description}_getType(t){return fs(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:fs(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new nn,ctx:{common:t.parent.common,data:t.data,parsedType:fs(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Ac(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fs(t)},a=this._parseSync({data:t,path:s.path,parent:s});return bb(s,a)}"~validate"(t){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fs(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:s});return gi(a)?{value:a.value}:{issues:s.common.issues}}catch(a){!((r=(n=a==null?void 0:a.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(a=>gi(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fs(t)},s=this._parse({data:t,path:r.path,parent:r}),a=await(Ac(s)?s:Promise.resolve(s));return bb(r,a)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const o=t(s),l=()=>a.addIssue({code:K.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new Ar({schema:this,typeName:Se.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Yr.create(this,this._def)}nullable(){return wa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return jr.create(this)}promise(){return Qo.create(this,this._def)}or(t){return Ic.create([this,t],this._def)}and(t){return Dc.create(this,t,this._def)}transform(t){return new Ar({...Ae(this._def),schema:this,typeName:Se.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Bc({...Ae(this._def),innerType:this,defaultValue:n,typeName:Se.ZodDefault})}brand(){return new xx({typeName:Se.ZodBranded,type:this,...Ae(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Vc({...Ae(this._def),innerType:this,catchValue:n,typeName:Se.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return bu.create(this,t)}readonly(){return Uc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const xU=/^c[^\s-]{8,}$/i,wU=/^[0-9a-z]+$/,bU=/^[0-9A-HJKMNP-TV-Z]{26}$/i,SU=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_U=/^[a-z0-9_-]{21}$/i,NU=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,CU=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,jU=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,kU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let pp;const EU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,PU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,TU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,AU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,RU=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,MU=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nM="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",OU=new RegExp(`^${nM}$`);function rM(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function IU(e){return new RegExp(`^${rM(e)}$`)}function sM(e){let t=`${nM}T${rM(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function DU(e,t){return!!((t==="v4"||!t)&&EU.test(e)||(t==="v6"||!t)&&TU.test(e))}function FU(e,t){if(!NU.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function LU(e,t){return!!((t==="v4"||!t)&&PU.test(e)||(t==="v6"||!t)&&AU.test(e))}class Sr extends Fe{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==oe.string){const a=this._getOrReturnCtx(t);return se(a,{code:K.invalid_type,expected:oe.string,received:a.parsedType}),Ne}const r=new nn;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),se(s,{code:K.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),se(s,{code:K.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?se(s,{code:K.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&se(s,{code:K.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")jU.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"email",code:K.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")pp||(pp=new RegExp(kU,"u")),pp.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"emoji",code:K.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")SU.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"uuid",code:K.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")_U.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"nanoid",code:K.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")xU.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"cuid",code:K.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")wU.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"cuid2",code:K.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")bU.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"ulid",code:K.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),se(s,{validation:"url",code:K.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"regex",code:K.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),se(s,{code:K.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),se(s,{code:K.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),se(s,{code:K.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?sM(a).test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{code:K.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?OU.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{code:K.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?IU(a).test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{code:K.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?CU.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"duration",code:K.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?DU(t.data,a.version)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"ip",code:K.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?FU(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"jwt",code:K.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?LU(t.data,a.version)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"cidr",code:K.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?RU.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"base64",code:K.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?MU.test(t.data)||(s=this._getOrReturnCtx(t,s),se(s,{validation:"base64url",code:K.invalid_string,message:a.message}),r.dirty()):We.assertNever(a);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:K.invalid_string,...fe.errToObj(r)})}_addCheck(t){return new Sr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...fe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...fe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...fe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...fe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...fe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...fe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...fe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...fe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...fe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...fe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...fe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...fe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...fe.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...fe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...fe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...fe.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...fe.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...fe.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...fe.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...fe.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...fe.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...fe.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...fe.errToObj(n)})}nonempty(t){return this.min(1,fe.errToObj(t))}trim(){return new Sr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Sr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Sr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Sr.create=e=>{var t;return new Sr({checks:[],typeName:Se.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ae(e)})};function $U(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,a=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return a%o/Math.pow(10,s)}class ya extends Fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==oe.number){const a=this._getOrReturnCtx(t);return se(a,{code:K.invalid_type,expected:oe.number,received:a.parsedType}),Ne}let r;const s=new nn;for(const a of this._def.checks)a.kind==="int"?We.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),se(r,{code:K.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),se(r,{code:K.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),se(r,{code:K.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?$U(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),se(r,{code:K.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),se(r,{code:K.not_finite,message:a.message}),s.dirty()):We.assertNever(a);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,fe.toString(n))}gt(t,n){return this.setLimit("min",t,!1,fe.toString(n))}lte(t,n){return this.setLimit("max",t,!0,fe.toString(n))}lt(t,n){return this.setLimit("max",t,!1,fe.toString(n))}setLimit(t,n,r,s){return new ya({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:fe.toString(s)}]})}_addCheck(t){return new ya({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:fe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:fe.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:fe.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:fe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:fe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:fe.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&We.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}ya.create=e=>new ya({checks:[],typeName:Se.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ae(e)});class va extends Fe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==oe.bigint)return this._getInvalidInput(t);let r;const s=new nn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),se(r,{code:K.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),se(r,{code:K.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),se(r,{code:K.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):We.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return se(n,{code:K.invalid_type,expected:oe.bigint,received:n.parsedType}),Ne}gte(t,n){return this.setLimit("min",t,!0,fe.toString(n))}gt(t,n){return this.setLimit("min",t,!1,fe.toString(n))}lte(t,n){return this.setLimit("max",t,!0,fe.toString(n))}lt(t,n){return this.setLimit("max",t,!1,fe.toString(n))}setLimit(t,n,r,s){return new va({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:fe.toString(s)}]})}_addCheck(t){return new va({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:fe.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:fe.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}va.create=e=>{var t;return new va({checks:[],typeName:Se.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ae(e)})};class Rc extends Fe{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==oe.boolean){const r=this._getOrReturnCtx(t);return se(r,{code:K.invalid_type,expected:oe.boolean,received:r.parsedType}),Ne}return hn(t.data)}}Rc.create=e=>new Rc({typeName:Se.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ae(e)});class yi extends Fe{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==oe.date){const a=this._getOrReturnCtx(t);return se(a,{code:K.invalid_type,expected:oe.date,received:a.parsedType}),Ne}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return se(a,{code:K.invalid_date}),Ne}const r=new nn;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),se(s,{code:K.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),se(s,{code:K.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):We.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new yi({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:fe.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:fe.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}yi.create=e=>new yi({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Se.ZodDate,...Ae(e)});class Vf extends Fe{_parse(t){if(this._getType(t)!==oe.symbol){const r=this._getOrReturnCtx(t);return se(r,{code:K.invalid_type,expected:oe.symbol,received:r.parsedType}),Ne}return hn(t.data)}}Vf.create=e=>new Vf({typeName:Se.ZodSymbol,...Ae(e)});class Mc extends Fe{_parse(t){if(this._getType(t)!==oe.undefined){const r=this._getOrReturnCtx(t);return se(r,{code:K.invalid_type,expected:oe.undefined,received:r.parsedType}),Ne}return hn(t.data)}}Mc.create=e=>new Mc({typeName:Se.ZodUndefined,...Ae(e)});class Oc extends Fe{_parse(t){if(this._getType(t)!==oe.null){const r=this._getOrReturnCtx(t);return se(r,{code:K.invalid_type,expected:oe.null,received:r.parsedType}),Ne}return hn(t.data)}}Oc.create=e=>new Oc({typeName:Se.ZodNull,...Ae(e)});class qo extends Fe{constructor(){super(...arguments),this._any=!0}_parse(t){return hn(t.data)}}qo.create=e=>new qo({typeName:Se.ZodAny,...Ae(e)});class ti extends Fe{constructor(){super(...arguments),this._unknown=!0}_parse(t){return hn(t.data)}}ti.create=e=>new ti({typeName:Se.ZodUnknown,...Ae(e)});class ks extends Fe{_parse(t){const n=this._getOrReturnCtx(t);return se(n,{code:K.invalid_type,expected:oe.never,received:n.parsedType}),Ne}}ks.create=e=>new ks({typeName:Se.ZodNever,...Ae(e)});class Uf extends Fe{_parse(t){if(this._getType(t)!==oe.undefined){const r=this._getOrReturnCtx(t);return se(r,{code:K.invalid_type,expected:oe.void,received:r.parsedType}),Ne}return hn(t.data)}}Uf.create=e=>new Uf({typeName:Se.ZodVoid,...Ae(e)});class jr extends Fe{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==oe.array)return se(n,{code:K.invalid_type,expected:oe.array,received:n.parsedType}),Ne;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(o||l)&&(se(n,{code:o?K.too_big:K.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(se(n,{code:K.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(se(n,{code:K.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>s.type._parseAsync(new Zr(n,o,n.path,l)))).then(o=>nn.mergeArray(r,o));const a=[...n.data].map((o,l)=>s.type._parseSync(new Zr(n,o,n.path,l)));return nn.mergeArray(r,a)}get element(){return this._def.type}min(t,n){return new jr({...this._def,minLength:{value:t,message:fe.toString(n)}})}max(t,n){return new jr({...this._def,maxLength:{value:t,message:fe.toString(n)}})}length(t,n){return new jr({...this._def,exactLength:{value:t,message:fe.toString(n)}})}nonempty(t){return this.min(1,t)}}jr.create=(e,t)=>new jr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Se.ZodArray,...Ae(t)});function $i(e){if(e instanceof ct){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Yr.create($i(r))}return new ct({...e._def,shape:()=>t})}else return e instanceof jr?new jr({...e._def,type:$i(e.element)}):e instanceof Yr?Yr.create($i(e.unwrap())):e instanceof wa?wa.create($i(e.unwrap())):e instanceof Jr?Jr.create(e.items.map(t=>$i(t))):e}class ct extends Fe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=We.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==oe.object){const u=this._getOrReturnCtx(t);return se(u,{code:K.invalid_type,expected:oe.object,received:u.parsedType}),Ne}const{status:r,ctx:s}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ks&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=a[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Zr(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof ks){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(se(s,{code:K.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Zr(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>nn.mergeObjectSync(r,u)):nn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return fe.errToObj,new ct({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var s,a,o,l;const c=(o=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=fe.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new ct({...this._def,unknownKeys:"strip"})}passthrough(){return new ct({...this._def,unknownKeys:"passthrough"})}extend(t){return new ct({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ct({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Se.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new ct({...this._def,catchall:t})}pick(t){const n={};return We.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new ct({...this._def,shape:()=>n})}omit(t){const n={};return We.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new ct({...this._def,shape:()=>n})}deepPartial(){return $i(this)}partial(t){const n={};return We.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}),new ct({...this._def,shape:()=>n})}required(t){const n={};return We.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof Yr;)a=a._def.innerType;n[r]=a}}),new ct({...this._def,shape:()=>n})}keyof(){return aM(We.objectKeys(this.shape))}}ct.create=(e,t)=>new ct({shape:()=>e,unknownKeys:"strip",catchall:ks.create(),typeName:Se.ZodObject,...Ae(t)});ct.strictCreate=(e,t)=>new ct({shape:()=>e,unknownKeys:"strict",catchall:ks.create(),typeName:Se.ZodObject,...Ae(t)});ct.lazycreate=(e,t)=>new ct({shape:e,unknownKeys:"strip",catchall:ks.create(),typeName:Se.ZodObject,...Ae(t)});class Ic extends Fe{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Wn(l.ctx.common.issues));return se(n,{code:K.invalid_union,unionErrors:o}),Ne}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Wn(c));return se(n,{code:K.invalid_union,unionErrors:l}),Ne}}get options(){return this._def.options}}Ic.create=(e,t)=>new Ic({options:e,typeName:Se.ZodUnion,...Ae(t)});const ls=e=>e instanceof Lc?ls(e.schema):e instanceof Ar?ls(e.innerType()):e instanceof $c?[e.value]:e instanceof xa?e.options:e instanceof zc?We.objectValues(e.enum):e instanceof Bc?ls(e._def.innerType):e instanceof Mc?[void 0]:e instanceof Oc?[null]:e instanceof Yr?[void 0,...ls(e.unwrap())]:e instanceof wa?[null,...ls(e.unwrap())]:e instanceof xx||e instanceof Uc?ls(e.unwrap()):e instanceof Vc?ls(e._def.innerType):[];class dm extends Fe{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==oe.object)return se(n,{code:K.invalid_type,expected:oe.object,received:n.parsedType}),Ne;const r=this.discriminator,s=n.data[r],a=this.optionsMap.get(s);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(se(n,{code:K.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ne)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const s=new Map;for(const a of n){const o=ls(a.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,a)}}return new dm({typeName:Se.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...Ae(r)})}}function uy(e,t){const n=fs(e),r=fs(t);if(e===t)return{valid:!0,data:e};if(n===oe.object&&r===oe.object){const s=We.objectKeys(t),a=We.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=uy(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===oe.array&&r===oe.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=uy(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===oe.date&&r===oe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Dc extends Fe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(a,o)=>{if(ly(a)||ly(o))return Ne;const l=uy(a.value,o.value);return l.valid?((cy(a)||cy(o))&&n.dirty(),{status:n.value,value:l.data}):(se(r,{code:K.invalid_intersection_types}),Ne)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Dc.create=(e,t,n)=>new Dc({left:e,right:t,typeName:Se.ZodIntersection,...Ae(n)});class Jr extends Fe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==oe.array)return se(r,{code:K.invalid_type,expected:oe.array,received:r.parsedType}),Ne;if(r.data.length<this._def.items.length)return se(r,{code:K.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ne;!this._def.rest&&r.data.length>this._def.items.length&&(se(r,{code:K.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Zr(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>nn.mergeArray(n,o)):nn.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new Jr({...this._def,rest:t})}}Jr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Jr({items:e,typeName:Se.ZodTuple,rest:null,...Ae(t)})};class Fc extends Fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==oe.object)return se(r,{code:K.invalid_type,expected:oe.object,received:r.parsedType}),Ne;const s=[],a=this._def.keyType,o=this._def.valueType;for(const l in r.data)s.push({key:a._parse(new Zr(r,l,r.path,l)),value:o._parse(new Zr(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?nn.mergeObjectAsync(n,s):nn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Fe?new Fc({keyType:t,valueType:n,typeName:Se.ZodRecord,...Ae(r)}):new Fc({keyType:Sr.create(),valueType:t,typeName:Se.ZodRecord,...Ae(n)})}}class Wf extends Fe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==oe.map)return se(r,{code:K.invalid_type,expected:oe.map,received:r.parsedType}),Ne;const s=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],u)=>({key:s._parse(new Zr(r,l,r.path,[u,"key"])),value:a._parse(new Zr(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ne;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ne;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}Wf.create=(e,t,n)=>new Wf({valueType:t,keyType:e,typeName:Se.ZodMap,...Ae(n)});class vi extends Fe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==oe.set)return se(r,{code:K.invalid_type,expected:oe.set,received:r.parsedType}),Ne;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(se(r,{code:K.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(se(r,{code:K.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ne;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>a._parse(new Zr(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new vi({...this._def,minSize:{value:t,message:fe.toString(n)}})}max(t,n){return new vi({...this._def,maxSize:{value:t,message:fe.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}vi.create=(e,t)=>new vi({valueType:e,minSize:null,maxSize:null,typeName:Se.ZodSet,...Ae(t)});class yo extends Fe{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==oe.function)return se(n,{code:K.invalid_type,expected:oe.function,received:n.parsedType}),Ne;function r(l,c){return zf({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,$f(),Ho].filter(u=>!!u),issueData:{code:K.invalid_arguments,argumentsError:c}})}function s(l,c){return zf({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,$f(),Ho].filter(u=>!!u),issueData:{code:K.invalid_return_type,returnTypeError:c}})}const a={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Qo){const l=this;return hn(async function(...c){const u=new Wn([]),d=await l._def.args.parseAsync(c,a).catch(p=>{throw u.addIssue(r(c,p)),u}),f=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(f,a).catch(p=>{throw u.addIssue(s(f,p)),u})})}else{const l=this;return hn(function(...c){const u=l._def.args.safeParse(c,a);if(!u.success)throw new Wn([r(c,u.error)]);const d=Reflect.apply(o,this,u.data),f=l._def.returns.safeParse(d,a);if(!f.success)throw new Wn([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new yo({...this._def,args:Jr.create(t).rest(ti.create())})}returns(t){return new yo({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new yo({args:t||Jr.create([]).rest(ti.create()),returns:n||ti.create(),typeName:Se.ZodFunction,...Ae(r)})}}class Lc extends Fe{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Lc.create=(e,t)=>new Lc({getter:e,typeName:Se.ZodLazy,...Ae(t)});class $c extends Fe{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return se(n,{received:n.data,code:K.invalid_literal,expected:this._def.value}),Ne}return{status:"valid",value:t.data}}get value(){return this._def.value}}$c.create=(e,t)=>new $c({value:e,typeName:Se.ZodLiteral,...Ae(t)});function aM(e,t){return new xa({values:e,typeName:Se.ZodEnum,...Ae(t)})}class xa extends Fe{constructor(){super(...arguments),Ol.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return se(n,{expected:We.joinValues(r),received:n.parsedType,code:K.invalid_type}),Ne}if(Bf(this,Ol)||tM(this,Ol,new Set(this._def.values)),!Bf(this,Ol).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return se(n,{received:n.data,code:K.invalid_enum_value,options:r}),Ne}return hn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return xa.create(t,{...this._def,...n})}exclude(t,n=this._def){return xa.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Ol=new WeakMap;xa.create=aM;class zc extends Fe{constructor(){super(...arguments),Il.set(this,void 0)}_parse(t){const n=We.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==oe.string&&r.parsedType!==oe.number){const s=We.objectValues(n);return se(r,{expected:We.joinValues(s),received:r.parsedType,code:K.invalid_type}),Ne}if(Bf(this,Il)||tM(this,Il,new Set(We.getValidEnumValues(this._def.values))),!Bf(this,Il).has(t.data)){const s=We.objectValues(n);return se(r,{received:r.data,code:K.invalid_enum_value,options:s}),Ne}return hn(t.data)}get enum(){return this._def.values}}Il=new WeakMap;zc.create=(e,t)=>new zc({values:e,typeName:Se.ZodNativeEnum,...Ae(t)});class Qo extends Fe{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==oe.promise&&n.common.async===!1)return se(n,{code:K.invalid_type,expected:oe.promise,received:n.parsedType}),Ne;const r=n.parsedType===oe.promise?n.data:Promise.resolve(n.data);return hn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Qo.create=(e,t)=>new Qo({type:e,typeName:Se.ZodPromise,...Ae(t)});class Ar extends Fe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Se.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:o=>{se(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return Ne;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?Ne:c.status==="dirty"||n.value==="dirty"?to(c.value):c});{if(n.value==="aborted")return Ne;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?Ne:l.status==="dirty"||n.value==="dirty"?to(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Ne:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?Ne:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!gi(o))return o;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>gi(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:n.value,value:l})):o);We.assertNever(s)}}Ar.create=(e,t,n)=>new Ar({schema:e,typeName:Se.ZodEffects,effect:t,...Ae(n)});Ar.createWithPreprocess=(e,t,n)=>new Ar({schema:t,effect:{type:"preprocess",transform:e},typeName:Se.ZodEffects,...Ae(n)});class Yr extends Fe{_parse(t){return this._getType(t)===oe.undefined?hn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Yr.create=(e,t)=>new Yr({innerType:e,typeName:Se.ZodOptional,...Ae(t)});class wa extends Fe{_parse(t){return this._getType(t)===oe.null?hn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}wa.create=(e,t)=>new wa({innerType:e,typeName:Se.ZodNullable,...Ae(t)});class Bc extends Fe{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===oe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Bc.create=(e,t)=>new Bc({innerType:e,typeName:Se.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ae(t)});class Vc extends Fe{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ac(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Wn(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Wn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Vc.create=(e,t)=>new Vc({innerType:e,typeName:Se.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ae(t)});class Hf extends Fe{_parse(t){if(this._getType(t)!==oe.nan){const r=this._getOrReturnCtx(t);return se(r,{code:K.invalid_type,expected:oe.nan,received:r.parsedType}),Ne}return{status:"valid",value:t.data}}}Hf.create=e=>new Hf({typeName:Se.ZodNaN,...Ae(e)});const zU=Symbol("zod_brand");class xx extends Fe{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class bu extends Fe{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ne:a.status==="dirty"?(n.dirty(),to(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ne:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new bu({in:t,out:n,typeName:Se.ZodPipeline})}}class Uc extends Fe{_parse(t){const n=this._def.innerType._parse(t),r=s=>(gi(s)&&(s.value=Object.freeze(s.value)),s);return Ac(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Uc.create=(e,t)=>new Uc({innerType:e,typeName:Se.ZodReadonly,...Ae(t)});function Sb(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function iM(e,t={},n){return e?qo.create().superRefine((r,s)=>{var a,o;const l=e(r);if(l instanceof Promise)return l.then(c=>{var u,d;if(!c){const f=Sb(t,r),h=(d=(u=f.fatal)!==null&&u!==void 0?u:n)!==null&&d!==void 0?d:!0;s.addIssue({code:"custom",...f,fatal:h})}});if(!l){const c=Sb(t,r),u=(o=(a=c.fatal)!==null&&a!==void 0?a:n)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...c,fatal:u})}}):qo.create()}const BU={object:ct.lazycreate};var Se;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Se||(Se={}));const VU=(e,t={message:`Input not instance of ${e.name}`})=>iM(n=>n instanceof e,t),oM=Sr.create,lM=ya.create,UU=Hf.create,WU=va.create,cM=Rc.create,HU=yi.create,qU=Vf.create,QU=Mc.create,KU=Oc.create,GU=qo.create,YU=ti.create,XU=ks.create,ZU=Uf.create,JU=jr.create,eW=ct.create,tW=ct.strictCreate,nW=Ic.create,rW=dm.create,sW=Dc.create,aW=Jr.create,iW=Fc.create,oW=Wf.create,lW=vi.create,cW=yo.create,uW=Lc.create,dW=$c.create,fW=xa.create,hW=zc.create,mW=Qo.create,_b=Ar.create,pW=Yr.create,gW=wa.create,yW=Ar.createWithPreprocess,vW=bu.create,xW=()=>oM().optional(),wW=()=>lM().optional(),bW=()=>cM().optional(),SW={string:e=>Sr.create({...e,coerce:!0}),number:e=>ya.create({...e,coerce:!0}),boolean:e=>Rc.create({...e,coerce:!0}),bigint:e=>va.create({...e,coerce:!0}),date:e=>yi.create({...e,coerce:!0})},_W=Ne;var me=Object.freeze({__proto__:null,defaultErrorMap:Ho,setErrorMap:yU,getErrorMap:$f,makeIssue:zf,EMPTY_PATH:vU,addIssueToContext:se,ParseStatus:nn,INVALID:Ne,DIRTY:to,OK:hn,isAborted:ly,isDirty:cy,isValid:gi,isAsync:Ac,get util(){return We},get objectUtil(){return oy},ZodParsedType:oe,getParsedType:fs,ZodType:Fe,datetimeRegex:sM,ZodString:Sr,ZodNumber:ya,ZodBigInt:va,ZodBoolean:Rc,ZodDate:yi,ZodSymbol:Vf,ZodUndefined:Mc,ZodNull:Oc,ZodAny:qo,ZodUnknown:ti,ZodNever:ks,ZodVoid:Uf,ZodArray:jr,ZodObject:ct,ZodUnion:Ic,ZodDiscriminatedUnion:dm,ZodIntersection:Dc,ZodTuple:Jr,ZodRecord:Fc,ZodMap:Wf,ZodSet:vi,ZodFunction:yo,ZodLazy:Lc,ZodLiteral:$c,ZodEnum:xa,ZodNativeEnum:zc,ZodPromise:Qo,ZodEffects:Ar,ZodTransformer:Ar,ZodOptional:Yr,ZodNullable:wa,ZodDefault:Bc,ZodCatch:Vc,ZodNaN:Hf,BRAND:zU,ZodBranded:xx,ZodPipeline:bu,ZodReadonly:Uc,custom:iM,Schema:Fe,ZodSchema:Fe,late:BU,get ZodFirstPartyTypeKind(){return Se},coerce:SW,any:GU,array:JU,bigint:WU,boolean:cM,date:HU,discriminatedUnion:rW,effect:_b,enum:fW,function:cW,instanceof:VU,intersection:sW,lazy:uW,literal:dW,map:oW,nan:UU,nativeEnum:hW,never:XU,null:KU,nullable:gW,number:lM,object:eW,oboolean:bW,onumber:wW,optional:pW,ostring:xW,pipeline:vW,preprocess:yW,promise:mW,record:iW,set:lW,strictObject:tW,string:oM,symbol:qU,transformer:_b,tuple:aW,undefined:QU,union:nW,unknown:YU,void:ZU,NEVER:_W,ZodIssueCode:K,quotelessJson:gU,ZodError:Wn});const lt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function yt(e,t){return t.includes(e.columnType)}function NW(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const CW=me.union([me.string(),me.number(),me.boolean(),me.null()]),jW=me.union([CW,me.record(me.any()),me.array(me.any())]),kW=me.custom(e=>e instanceof Buffer);function uM(e,t){const n=(t==null?void 0:t.zodInstance)??me,r=(t==null?void 0:t.coerce)??{};let s;return NW(e)&&(s=e.enumValues.length?n.enum(e.enumValues):n.string()),s||(yt(e,["PgGeometry","PgPointTuple"])?s=n.tuple([n.number(),n.number()]):yt(e,["PgGeometryObject","PgPointObject"])?s=n.object({x:n.number(),y:n.number()}):yt(e,["PgHalfVector","PgVector"])?(s=n.array(n.number()),s=e.dimensions?s.length(e.dimensions):s):yt(e,["PgLine"])?s=n.tuple([n.number(),n.number(),n.number()]):yt(e,["PgLineABC"])?s=n.object({a:n.number(),b:n.number(),c:n.number()}):yt(e,["PgArray"])?(s=n.array(uM(e.baseColumn,n)),s=e.size?s.length(e.size):s):e.dataType==="array"?s=n.array(n.any()):e.dataType==="number"?s=EW(e,n,r):e.dataType==="bigint"?s=PW(e,n,r):e.dataType==="boolean"?s=r===!0||r.boolean?n.coerce.boolean():n.boolean():e.dataType==="date"?s=r===!0||r.date?n.coerce.date():n.date():e.dataType==="string"?s=TW(e,n,r):e.dataType==="json"?s=jW:e.dataType==="custom"?s=n.any():e.dataType==="buffer"&&(s=kW)),s||(s=n.any()),s}function EW(e,t,n){let r=e.getSQLType().includes("unsigned"),s,a,o=!1;yt(e,["MySqlTinyInt","SingleStoreTinyInt"])?(s=r?0:lt.INT8_MIN,a=r?lt.INT8_UNSIGNED_MAX:lt.INT8_MAX,o=!0):yt(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(s=r?0:lt.INT16_MIN,a=r?lt.INT16_UNSIGNED_MAX:lt.INT16_MAX,o=!0):yt(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(s=r?0:lt.INT24_MIN,a=r?lt.INT24_UNSIGNED_MAX:lt.INT24_MAX,o=yt(e,["MySqlMediumInt","SingleStoreMediumInt"])):yt(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(s=r?0:lt.INT32_MIN,a=r?lt.INT32_UNSIGNED_MAX:lt.INT32_MAX,o=!0):yt(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(s=r?0:lt.INT48_MIN,a=r?lt.INT48_UNSIGNED_MAX:lt.INT48_MAX):yt(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||yt(e,["MySqlSerial","SingleStoreSerial"]),s=r?0:Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,o=!0):yt(e,["MySqlYear","SingleStoreYear"])?(s=1901,a=2155,o=!0):(s=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER);let l=n===!0||n!=null&&n.number?t.coerce.number():t.number();return l=l.min(s).max(a),o?l.int():l}function PW(e,t,n){const r=e.getSQLType().includes("unsigned"),s=r?0n:lt.INT64_MIN,a=r?lt.INT64_UNSIGNED_MAX:lt.INT64_MAX;return(n===!0||n!=null&&n.bigint?t.coerce.bigint():t.bigint()).min(s).max(a)}function TW(e,t,n){if(yt(e,["PgUUID"]))return t.string().uuid();let r,s,a=!1;yt(e,["PgVarchar","SQLiteText"])?r=e.length:yt(e,["MySqlVarChar","SingleStoreVarChar"])?r=e.length??lt.INT16_UNSIGNED_MAX:yt(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?r=lt.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?r=lt.INT24_UNSIGNED_MAX:e.textType==="text"?r=lt.INT16_UNSIGNED_MAX:r=lt.INT8_UNSIGNED_MAX),yt(e,["PgChar","MySqlChar","SingleStoreChar"])&&(r=e.length,a=!0),yt(e,["PgBinaryVector"])&&(s=/^[01]+$/,r=e.dimensions);let o=n===!0||n!=null&&n.string?t.coerce.string():t.string();return o=s?o.regex(s):o,r&&a?o.length(r):r?o.max(r):o}function dM(e){return NR(e)?B8(e):V8(e)}function fM(e,t,n,r){const s={};for(const[a,o]of Object.entries(e)){if(!Ut(o,Wo)&&!Ut(o,Mt)&&!Ut(o,Mt.Aliased)&&typeof o=="object"){const f=NR(o)||z8(o)?dM(o):o;s[a]=fM(f,t[a]??{},n,r);continue}const l=t[a];if(l!==void 0&&typeof l!="function"){s[a]=l;continue}const c=Ut(o,Wo)?o:void 0,u=c?uM(c,r):me.any(),d=typeof l=="function"?l(u):u;n.never(c)||(s[a]=d,c&&(n.nullable(c)&&(s[a]=s[a].nullable()),n.optional(c)&&(s[a]=s[a].optional())))}return me.object(s)}const AW={never:e=>{var t,n;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((n=e==null?void 0:e.generatedIdentity)==null?void 0:n.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},Ta=(e,t)=>{const n=dM(e);return fM(n,{},AW)},Su=ji("books",{id:Cr("id").primaryKey().default(Un`gen_random_uuid()`),title:Ye("title").notNull(),author:Ye("author").notNull(),genre:Ye("genre").notNull(),topics:Ye("topics").array().default([]),usefulness:Ye("usefulness"),totalPages:Nt("total_pages"),isCurrentlyReading:um("is_currently_reading").default(!1),currentPage:Nt("current_page").default(0),notes:Ye("notes").array().default([]),startedAt:At("started_at"),completedAt:At("completed_at"),status:Ye("status").notNull().default("toRead"),priority:Nt("priority").default(3),tags:Ye("tags").array().default([]),format:Ye("format").default("paper"),language:Ye("language").default("English"),addedAt:At("added_at").notNull().default(Un`CURRENT_TIMESTAMP`),lastReadAt:At("last_read_at"),progress:wu("progress").default(0),coverUrl:Ye("cover_url")}),wx=ji("reading_sessions",{id:Cr("id").primaryKey().default(Un`gen_random_uuid()`),bookId:Cr("book_id").notNull().references(()=>Su.id),startedAt:At("started_at").notNull(),pausedAt:At("paused_at"),resumedAt:At("resumed_at"),endedAt:At("ended_at"),duration:Nt("duration"),startPage:Nt("start_page"),endPage:Nt("end_page"),pagesRead:Nt("pages_read").default(0),progressPercent:wu("progress_percent"),state:Ye("state").notNull().default("completed"),sessionType:Ye("session_type").default("timed"),pomodoroMinutes:Nt("pomodoro_minutes"),sessionDate:At("session_date").notNull().default(Un`CURRENT_TIMESTAMP`),timeZone:Ye("time_zone").default("UTC"),deviceType:Ye("device_type"),sessionNotes:Ye("session_notes"),syncStatus:Ye("sync_status").default("synced"),localId:Ye("local_id")}),hM=ji("reading_goals",{id:Cr("id").primaryKey().default(Un`gen_random_uuid()`),title:Ye("title").notNull(),description:Ye("description"),type:Ye("type").notNull(),target:Nt("target").notNull(),current:Nt("current").default(0),period:Ye("period").notNull(),startDate:Tc("start_date").notNull(),endDate:Tc("end_date").notNull(),isActive:um("is_active").default(!0),createdAt:At("created_at").notNull().default(Un`CURRENT_TIMESTAMP`),updatedAt:At("updated_at").notNull().default(Un`CURRENT_TIMESTAMP`)}),RW=ji("book_notes",{id:Cr("id").primaryKey().default(Un`gen_random_uuid()`),bookId:Cr("book_id").notNull().references(()=>Su.id),sessionId:Cr("session_id").references(()=>wx.id),content:Ye("content").notNull(),noteType:Ye("note_type").notNull().default("note"),page:Nt("page"),chapter:Ye("chapter"),position:Ye("position"),createdAt:At("created_at").notNull().default(Un`CURRENT_TIMESTAMP`),tags:Ye("tags").array().default([]),isPrivate:um("is_private").default(!1),sourceImage:Ye("source_image_url"),ocrConfidence:wu("ocr_confidence")}),MW=ji("book_reading_state",{bookId:Cr("book_id").primaryKey().references(()=>Su.id),activeSessionId:Cr("active_session_id").references(()=>wx.id),lastSessionAt:At("last_session_at"),averagePagesPerHour:wu("average_pages_per_hour"),recentSessionsCount:Nt("recent_sessions_count").default(0),lastCalculatedAt:At("last_calculated_at"),dailyPageTarget:Nt("daily_page_target"),targetDeadline:At("target_deadline"),estimatedFinishDate:At("estimated_finish_date"),lastNudgeAt:At("last_nudge_at"),nudgeDismissedAt:At("nudge_dismissed_at"),reminderSettings:Ye("reminder_settings")}),OW=ji("daily_totals",{id:vx("id").primaryKey(),date:Tc("date").notNull(),pages:Nt("pages").notNull().default(0),minutes:Nt("minutes").notNull().default(0),sessions:Nt("sessions").notNull().default(0)}),IW=ji("daily_book_totals",{id:vx("id").primaryKey(),date:Tc("date").notNull(),bookId:Cr("book_id").notNull().references(()=>Su.id,{onDelete:"cascade"}),pages:Nt("pages").notNull().default(0),minutes:Nt("minutes").notNull().default(0),sessions:Nt("sessions").notNull().default(0)}),mM=["Fiction","Personal Development","Business / Finance","Philosophy / Spirituality","Psychology / Self-Improvement","History / Culture","Science / Technology","General Non-Fiction","Biography/Memoir"],qf=["toRead","reading","onHold","dnf","finished"],pM=["paper","ebook","audio"],DW=["active","paused","completed"],FW=["timed","quick"],LW=["note","quote","highlight","summary","action"],$W=["pending","syncing","synced","failed"],zW=me.enum(mM),BW=me.enum(qf),VW=me.enum(pM),UW=me.enum(DW),WW=me.enum(FW),HW=me.enum(LW),qW=me.enum($W),gM=Ta(Su).omit({id:!0,addedAt:!0}).extend({genre:zW,status:BW.default("toRead"),format:VW.default("paper"),priority:me.number().int().min(1).max(5).default(3),progress:me.number().min(0).max(1).default(0),language:me.string().default("English"),topics:me.array(me.string().trim().min(1).max(40)).max(20).default([]),tags:me.array(me.string().trim().min(1).max(30)).max(15).default([])});gM.partial().extend({lastReadAt:me.union([me.date(),me.string().datetime()]).optional().transform(e=>typeof e=="string"?new Date(e):e)});const QW=Ta(wx).omit({id:!0,sessionDate:!0}).extend({state:UW.default("completed"),sessionType:WW.default("timed"),syncStatus:qW.default("synced"),duration:me.number().int().min(0).optional(),pagesRead:me.number().int().min(0).default(0),progressPercent:me.number().min(0).max(1).optional(),pomodoroMinutes:me.number().int().min(5).max(120).optional()});QW.partial();const KW=Ta(RW).omit({id:!0,createdAt:!0}).extend({noteType:HW.default("note"),content:me.string().min(1).max(5e3),tags:me.array(me.string().trim().min(1).max(30)).max(10).default([]),page:me.number().int().min(1).optional(),ocrConfidence:me.number().min(0).max(1).optional()});KW.partial();const GW=Ta(MW).omit({lastCalculatedAt:!0}).extend({averagePagesPerHour:me.number().min(0).optional(),recentSessionsCount:me.number().int().min(0).default(0),dailyPageTarget:me.number().int().min(1).optional()});GW.partial();Ta(OW).omit({id:!0});Ta(IW).omit({id:!0});me.object({bookId:me.string().uuid(),startPage:me.number().int().min(0).optional(),pomodoroMinutes:me.number().int().min(5).max(120).optional()});me.object({sessionId:me.string().uuid()});me.object({sessionId:me.string().uuid(),endPage:me.number().int().min(0).optional(),sessionNotes:me.string().max(1e3).optional()});me.object({bookId:me.string().uuid(),pagesRead:me.number().int().min(1).max(100),sessionNotes:me.string().max(500).optional()});Ta(hM).omit({id:!0,current:!0,createdAt:!0,updatedAt:!0});Ta(hM).omit({id:!0,createdAt:!0,updatedAt:!0}).partial();function _e(e,t,n,r,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}function D(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}let yM=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return yM=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};function dy(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const fy=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};class ge extends Error{}class Gt extends ge{constructor(t,n,r,s){super(`${Gt.makeMessage(t,n,r)}`),this.status=t,this.headers=s,this.requestID=s==null?void 0:s.get("x-request-id"),this.error=n;const a=n;this.code=a==null?void 0:a.code,this.param=a==null?void 0:a.param,this.type=a==null?void 0:a.type}static makeMessage(t,n,r){const s=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,n,r,s){if(!t||!s)return new fm({message:r,cause:fy(n)});const a=n==null?void 0:n.error;return t===400?new vM(t,a,r,s):t===401?new xM(t,a,r,s):t===403?new wM(t,a,r,s):t===404?new bM(t,a,r,s):t===409?new SM(t,a,r,s):t===422?new _M(t,a,r,s):t===429?new NM(t,a,r,s):t>=500?new CM(t,a,r,s):new Gt(t,a,r,s)}}class sr extends Gt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class fm extends Gt{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class bx extends fm{constructor({message:t}={}){super({message:t??"Request timed out."})}}class vM extends Gt{}class xM extends Gt{}class wM extends Gt{}class bM extends Gt{}class SM extends Gt{}class _M extends Gt{}class NM extends Gt{}class CM extends Gt{}class jM extends ge{constructor(){super("Could not parse response content as the length limit was reached")}}class kM extends ge{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class Dl extends Error{constructor(t){super(t)}}const YW=/^[a-z][a-z0-9+.-]*:/i,XW=e=>YW.test(e);let bn=e=>(bn=Array.isArray,bn(e)),Nb=bn;function EM(e){return typeof e!="object"?{}:e??{}}function ZW(e){if(!e)return!0;for(const t in e)return!1;return!0}function JW(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function gp(e){return e!=null&&typeof e=="object"&&!Array.isArray(e)}const e9=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new ge(`${e} must be an integer`);if(t<0)throw new ge(`${e} must be a positive integer`);return t},t9=e=>{try{return JSON.parse(e)}catch{return}},_u=e=>new Promise(t=>setTimeout(t,e)),zi="5.22.1",n9=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function r9(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const s9=()=>{var n;const e=r9();if(e==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zi,"X-Stainless-OS":jb(Deno.build.os),"X-Stainless-Arch":Cb(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:((n=Deno.version)==null?void 0:n.deno)??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(e==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zi,"X-Stainless-OS":jb(globalThis.process.platform??"unknown"),"X-Stainless-Arch":Cb(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=a9();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":zi,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function a9(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const s=r[1]||0,a=r[2]||0,o=r[3]||0;return{browser:t,version:`${s}.${a}.${o}`}}}return null}const Cb=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",jb=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let kb;const i9=()=>kb??(kb=s9());function o9(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function PM(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function TM(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return PM({start(){},async pull(n){const{done:r,value:s}=await t.next();r?n.close():n.enqueue(s)},async cancel(){var n;await((n=t.return)==null?void 0:n.call(t))}})}function AM(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function l9(e){var r,s;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((s=(r=e[Symbol.asyncIterator]()).return)==null?void 0:s.call(r));return}const t=e.getReader(),n=t.cancel();t.releaseLock(),await n}const c9=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),RM="RFC3986",MM=e=>String(e),Eb={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:MM},u9="RFC1738";let hy=(e,t)=>(hy=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),hy(e,t));const Dr=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})(),yp=1024,d9=(e,t,n,r,s)=>{if(e.length===0)return e;let a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),n==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(l){return"%26%23"+parseInt(l.slice(2),16)+"%3B"});let o="";for(let l=0;l<a.length;l+=yp){const c=a.length>=yp?a.slice(l,l+yp):a,u=[];for(let d=0;d<c.length;++d){let f=c.charCodeAt(d);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||s===u9&&(f===40||f===41)){u[u.length]=c.charAt(d);continue}if(f<128){u[u.length]=Dr[f];continue}if(f<2048){u[u.length]=Dr[192|f>>6]+Dr[128|f&63];continue}if(f<55296||f>=57344){u[u.length]=Dr[224|f>>12]+Dr[128|f>>6&63]+Dr[128|f&63];continue}d+=1,f=65536+((f&1023)<<10|c.charCodeAt(d)&1023),u[u.length]=Dr[240|f>>18]+Dr[128|f>>12&63]+Dr[128|f>>6&63]+Dr[128|f&63]}o+=u.join("")}return o};function f9(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}function Pb(e,t){if(bn(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const OM={brackets(e){return String(e)+"[]"},comma:"comma",indices(e,t){return String(e)+"["+t+"]"},repeat(e){return String(e)}},IM=function(e,t){Array.prototype.push.apply(e,bn(t)?t:[t])};let Tb;const Et={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:d9,encodeValuesOnly:!1,format:RM,formatter:MM,indices:!1,serializeDate(e){return(Tb??(Tb=Function.prototype.call.bind(Date.prototype.toISOString)))(e)},skipNulls:!1,strictNullHandling:!1};function h9(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"}const vp={};function DM(e,t,n,r,s,a,o,l,c,u,d,f,h,p,w,y,b,x){let g=e,v=x,S=0,_=!1;for(;(v=v.get(vp))!==void 0&&!_;){const I=v.get(e);if(S+=1,typeof I<"u"){if(I===S)throw new RangeError("Cyclic object value");_=!0}typeof v.get(vp)>"u"&&(S=0)}if(typeof u=="function"?g=u(t,g):g instanceof Date?g=h==null?void 0:h(g):n==="comma"&&bn(g)&&(g=Pb(g,function(I){return I instanceof Date?h==null?void 0:h(I):I})),g===null){if(a)return c&&!y?c(t,Et.encoder,b,"key",p):t;g=""}if(h9(g)||f9(g)){if(c){const I=y?t:c(t,Et.encoder,b,"key",p);return[(w==null?void 0:w(I))+"="+(w==null?void 0:w(c(g,Et.encoder,b,"value",p)))]}return[(w==null?void 0:w(t))+"="+(w==null?void 0:w(String(g)))]}const j=[];if(typeof g>"u")return j;let N;if(n==="comma"&&bn(g))y&&c&&(g=Pb(g,c)),N=[{value:g.length>0?g.join(",")||null:void 0}];else if(bn(u))N=u;else{const I=Object.keys(g);N=d?I.sort(d):I}const E=l?String(t).replace(/\./g,"%2E"):String(t),P=r&&bn(g)&&g.length===1?E+"[]":E;if(s&&bn(g)&&g.length===0)return P+"[]";for(let I=0;I<N.length;++I){const k=N[I],R=typeof k=="object"&&typeof k.value<"u"?k.value:g[k];if(o&&R===null)continue;const $=f&&l?k.replace(/\./g,"%2E"):k,C=bn(g)?typeof n=="function"?n(P,$):P:P+(f?"."+$:"["+$+"]");x.set(e,S);const W=new WeakMap;W.set(vp,x),IM(j,DM(R,C,n,r,s,a,o,l,n==="comma"&&y&&bn(g)?null:c,u,d,f,h,p,w,y,b,W))}return j}function m9(e=Et){if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||Et.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=RM;if(typeof e.format<"u"){if(!hy(Eb,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=Eb[n];let s=Et.filter;(typeof e.filter=="function"||bn(e.filter))&&(s=e.filter);let a;if(e.arrayFormat&&e.arrayFormat in OM?a=e.arrayFormat:"indices"in e?a=e.indices?"indices":"repeat":a=Et.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const o=typeof e.allowDots>"u"?e.encodeDotInKeys?!0:Et.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Et.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Et.allowEmptyArrays,arrayFormat:a,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Et.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Et.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Et.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Et.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Et.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Et.encodeValuesOnly,filter:s,format:n,formatter:r,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Et.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Et.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Et.strictNullHandling}}function p9(e,t={}){let n=e;const r=m9(t);let s,a;typeof r.filter=="function"?(a=r.filter,n=a("",n)):bn(r.filter)&&(a=r.filter,s=a);const o=[];if(typeof n!="object"||n===null)return"";const l=OM[r.arrayFormat],c=l==="comma"&&r.commaRoundTrip;s||(s=Object.keys(n)),r.sort&&s.sort(r.sort);const u=new WeakMap;for(let h=0;h<s.length;++h){const p=s[h];r.skipNulls&&n[p]===null||IM(o,DM(n[p],p,l,c,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,u))}const d=o.join(r.delimiter);let f=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),d.length>0?f+d:""}function g9(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}let Ab;function Sx(e){let t;return(Ab??(t=new globalThis.TextEncoder,Ab=t.encode.bind(t)))(e)}let Rb;function Mb(e){let t;return(Rb??(t=new globalThis.TextDecoder,Rb=t.decode.bind(t)))(e)}var Rn,Mn;class hm{constructor(){Rn.set(this,void 0),Mn.set(this,void 0),_e(this,Rn,new Uint8Array),_e(this,Mn,null)}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Sx(t):t;_e(this,Rn,g9([D(this,Rn,"f"),n]));const r=[];let s;for(;(s=y9(D(this,Rn,"f"),D(this,Mn,"f")))!=null;){if(s.carriage&&D(this,Mn,"f")==null){_e(this,Mn,s.index);continue}if(D(this,Mn,"f")!=null&&(s.index!==D(this,Mn,"f")+1||s.carriage)){r.push(Mb(D(this,Rn,"f").subarray(0,D(this,Mn,"f")-1))),_e(this,Rn,D(this,Rn,"f").subarray(D(this,Mn,"f"))),_e(this,Mn,null);continue}const a=D(this,Mn,"f")!==null?s.preceding-1:s.preceding,o=Mb(D(this,Rn,"f").subarray(0,a));r.push(o),_e(this,Rn,D(this,Rn,"f").subarray(s.index)),_e(this,Mn,null)}return r}flush(){return D(this,Rn,"f").length?this.decode(`
`):[]}}Rn=new WeakMap,Mn=new WeakMap;hm.NEWLINE_CHARS=new Set([`
`,"\r"]);hm.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function y9(e,t){for(let s=t??0;s<e.length;s++){if(e[s]===10)return{preceding:s,index:s+1,carriage:!1};if(e[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function v9(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}const Qf={off:0,error:200,warn:300,info:400,debug:500},Ob=(e,t,n)=>{if(e){if(JW(Qf,e))return e;Wt(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Qf))}`)}};function Fl(){}function nd(e,t,n){return!t||Qf[e]>Qf[n]?Fl:t[e].bind(t)}const x9={error:Fl,warn:Fl,info:Fl,debug:Fl};let Ib=new WeakMap;function Wt(e){const t=e.logger,n=e.logLevel??"off";if(!t)return x9;const r=Ib.get(t);if(r&&r[0]===n)return r[1];const s={error:nd("error",t,n),warn:nd("warn",t,n),info:nd("info",t,n),debug:nd("debug",t,n)};return Ib.set(t,[n,s]),s}const Oa=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);var _l;class qr{constructor(t,n,r){this.iterator=t,_l.set(this,void 0),this.controller=n,_e(this,_l,r)}static fromSSEResponse(t,n,r){let s=!1;const a=r?Wt(r):console;async function*o(){if(s)throw new ge("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let l=!1;try{for await(const c of w9(t,n))if(!l){if(c.data.startsWith("[DONE]")){l=!0;continue}if(c.event===null||!c.event.startsWith("thread.")){let u;try{u=JSON.parse(c.data)}catch(d){throw a.error("Could not parse message into JSON:",c.data),a.error("From chunk:",c.raw),d}if(u&&u.error)throw new Gt(void 0,u.error,void 0,t.headers);yield u}else{let u;try{u=JSON.parse(c.data)}catch(d){throw console.error("Could not parse message into JSON:",c.data),console.error("From chunk:",c.raw),d}if(c.event=="error")throw new Gt(void 0,u.error,u.message,void 0);yield{event:c.event,data:u}}}l=!0}catch(c){if(dy(c))return;throw c}finally{l||n.abort()}}return new qr(o,n,r)}static fromReadableStream(t,n,r){let s=!1;async function*a(){const l=new hm,c=AM(t);for await(const u of c)for(const d of l.decode(u))yield d;for(const u of l.flush())yield u}async function*o(){if(s)throw new ge("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let l=!1;try{for await(const c of a())l||c&&(yield JSON.parse(c));l=!0}catch(c){if(dy(c))return;throw c}finally{l||n.abort()}}return new qr(o,n,r)}[(_l=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),s=a=>({next:()=>{if(a.length===0){const o=r.next();t.push(o),n.push(o)}return a.shift()}});return[new qr(()=>s(t),this.controller,D(this,_l,"f")),new qr(()=>s(n),this.controller,D(this,_l,"f"))]}toReadableStream(){const t=this;let n;return PM({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:s,done:a}=await n.next();if(a)return r.close();const o=Sx(JSON.stringify(s)+`
`);r.enqueue(o)}catch(s){r.error(s)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}}async function*w9(e,t){if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ge("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ge("Attempted to iterate over a response with no body");const n=new S9,r=new hm,s=AM(e.body);for await(const a of b9(s))for(const o of r.decode(a)){const l=n.decode(o);l&&(yield l)}for(const a of r.flush()){const o=n.decode(a);o&&(yield o)}}async function*b9(e){let t=new Uint8Array;for await(const n of e){if(n==null)continue;const r=n instanceof ArrayBuffer?new Uint8Array(n):typeof n=="string"?Sx(n):n;let s=new Uint8Array(t.length+r.length);s.set(t),s.set(r,t.length),t=s;let a;for(;(a=v9(t))!==-1;)yield t.slice(0,a),t=t.slice(a)}t.length>0&&(yield t)}class S9{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,s]=_9(t,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function _9(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}async function FM(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:s,startTime:a}=t,o=await(async()=>{var f;if(t.options.stream)return Wt(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):qr.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const l=n.headers.get("content-type"),c=(f=l==null?void 0:l.split(";")[0])==null?void 0:f.trim();if((c==null?void 0:c.includes("application/json"))||(c==null?void 0:c.endsWith("+json"))){const h=await n.json();return LM(h,n)}return await n.text()})();return Wt(e).debug(`[${r}] response parsed`,Oa({retryOfRequestLogID:s,url:n.url,status:n.status,body:o,durationMs:Date.now()-a})),o}function LM(e,t){return!e||typeof e!="object"||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}var Ll;class mm extends Promise{constructor(t,n,r=FM){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=r,Ll.set(this,void 0),_e(this,Ll,t)}_thenUnwrap(t){return new mm(D(this,Ll,"f"),this.responsePromise,async(n,r)=>LM(t(await this.parseResponse(n,r),r),r.response))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n,request_id:n.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(D(this,Ll,"f"),t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}Ll=new WeakMap;var rd;class _x{constructor(t,n,r,s){rd.set(this,void 0),_e(this,rd,t),this.options=s,this.response=n,this.body=r}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const t=this.nextPageRequestOptions();if(!t)throw new ge("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await D(this,rd,"f").requestAPIList(this.constructor,t)}async*iterPages(){let t=this;for(yield t;t.hasNextPage();)t=await t.getNextPage(),yield t}async*[(rd=new WeakMap,Symbol.asyncIterator)](){for await(const t of this.iterPages())for(const n of t.getPaginatedItems())yield n}}class N9 extends mm{constructor(t,n,r){super(t,n,async(s,a)=>new r(s,a.response,await FM(s,a),a.options))}async*[Symbol.asyncIterator](){const t=await this;for await(const n of t)yield n}}class pm extends _x{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.object=r.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class Ct extends _x{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){var r;const t=this.getPaginatedItems(),n=(r=t[t.length-1])==null?void 0:r.id;return n?{...this.options,query:{...EM(this.options.query),after:n}}:null}}class C9 extends _x{constructor(t,n,r,s){super(t,n,r,s),this.data=r.data||[],this.has_more=r.has_more||!1,this.last_id=r.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const t=this.last_id;return t?{...this.options,query:{...EM(this.options.query),after:t}}:null}}const $M=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)==null?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function sc(e,t,n){return $M(),new File(e,t??"unknown_file",n)}function Td(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const zM=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function",xi=async(e,t)=>({...e,body:await k9(e.body,t)}),Db=new WeakMap;function j9(e){const t=typeof e=="function"?e:e.fetch,n=Db.get(t);if(n)return n;const r=(async()=>{try{const s="Response"in t?t.Response:(await t("data:,")).constructor,a=new FormData;return a.toString()!==await new s(a).text()}catch{return!0}})();return Db.set(t,r),r}const k9=async(e,t)=>{if(!await j9(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(e||{}).map(([r,s])=>my(n,r,s))),n},E9=e=>e instanceof Blob&&"name"in e,my=async(e,t,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")e.append(t,String(n));else if(n instanceof Response)e.append(t,sc([await n.blob()],Td(n)));else if(zM(n))e.append(t,sc([await new Response(TM(n)).blob()],Td(n)));else if(E9(n))e.append(t,n,Td(n));else if(Array.isArray(n))await Promise.all(n.map(r=>my(e,t+"[]",r)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([r,s])=>my(e,`${t}[${r}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}},BM=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",P9=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&BM(e),T9=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function A9(e,t,n){if($M(),e=await e,P9(e))return e instanceof File?e:sc([await e.arrayBuffer()],e.name);if(T9(e)){const s=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),sc(await py(s),t,n)}const r=await py(e);if(t||(t=Td(e)),!(n!=null&&n.type)){const s=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof s=="string"&&(n={...n,type:s})}return sc(r,t,n)}async function py(e){var n;let t=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(BM(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else if(zM(e))for await(const r of e)t.push(...await py(r));else{const r=(n=e==null?void 0:e.constructor)==null?void 0:n.name;throw new Error(`Unexpected data type: ${typeof e}${r?`; constructor: ${r}`:""}${R9(e)}`)}return t}function R9(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}class be{constructor(t){this._client=t}}function VM(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Fb=Object.freeze(Object.create(null)),M9=(e=VM)=>function(n,...r){if(n.length===1)return n[0];let s=!1;const a=[],o=n.reduce((d,f,h)=>{var y;/[?#]/.test(f)&&(s=!0);const p=r[h];let w=(s?encodeURIComponent:e)(""+p);return h!==r.length&&(p==null||typeof p=="object"&&p.toString===((y=Object.getPrototypeOf(Object.getPrototypeOf(p.hasOwnProperty??Fb)??Fb))==null?void 0:y.toString))&&(w=p+"",a.push({start:d.length+f.length,length:w.length,error:`Value of type ${Object.prototype.toString.call(p).slice(8,-1)} is not a valid path parameter`})),d+f+(h===r.length?"":w)},""),l=o.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=c.exec(l))!==null;)a.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(a.sort((d,f)=>d.start-f.start),a.length>0){let d=0;const f=a.reduce((h,p)=>{const w=" ".repeat(p.start-d),y="^".repeat(p.length);return d=p.start+p.length,h+w+y},"");throw new ge(`Path parameters result in path with invalid segments:
${a.map(h=>h.error).join(`
`)}
${o}
${f}`)}return o},J=M9(VM);let UM=class extends be{list(t,n={},r){return this._client.getAPIList(J`/chat/completions/${t}/messages`,Ct,{query:n,...r})}};function Kf(e){return e!==void 0&&"function"in e&&e.function!==void 0}function Nx(e){return(e==null?void 0:e.$brand)==="auto-parseable-response-format"}function Nu(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function O9(e,t){return!t||!WM(t)?{...e,choices:e.choices.map(n=>(HM(n.message.tool_calls),{...n,message:{...n.message,parsed:null,...n.message.tool_calls?{tool_calls:n.message.tool_calls}:void 0}}))}:Cx(e,t)}function Cx(e,t){const n=e.choices.map(r=>{var s;if(r.finish_reason==="length")throw new jM;if(r.finish_reason==="content_filter")throw new kM;return HM(r.message.tool_calls),{...r,message:{...r.message,...r.message.tool_calls?{tool_calls:((s=r.message.tool_calls)==null?void 0:s.map(a=>D9(t,a)))??void 0}:void 0,parsed:r.message.content&&!r.message.refusal?I9(t,r.message.content):null}}});return{...e,choices:n}}function I9(e,t){var n,r;return((n=e.response_format)==null?void 0:n.type)!=="json_schema"?null:((r=e.response_format)==null?void 0:r.type)==="json_schema"?"$parseRaw"in e.response_format?e.response_format.$parseRaw(t):JSON.parse(t):null}function D9(e,t){var r;const n=(r=e.tools)==null?void 0:r.find(s=>{var a;return Kf(s)&&((a=s.function)==null?void 0:a.name)===t.function.name});return{...t,function:{...t.function,parsed_arguments:Nu(n)?n.$parseRaw(t.function.arguments):n!=null&&n.function.strict?JSON.parse(t.function.arguments):null}}}function F9(e,t){var r;if(!e||!("tools"in e)||!e.tools)return!1;const n=(r=e.tools)==null?void 0:r.find(s=>{var a;return Kf(s)&&((a=s.function)==null?void 0:a.name)===t.function.name});return Kf(n)&&(Nu(n)||(n==null?void 0:n.function.strict)||!1)}function WM(e){var t;return Nx(e.response_format)?!0:((t=e.tools)==null?void 0:t.some(n=>Nu(n)||n.type==="function"&&n.function.strict===!0))??!1}function HM(e){for(const t of e||[])if(t.type!=="function")throw new ge(`Currently only \`function\` tool calls are supported; Received \`${t.type}\``)}function L9(e){for(const t of e??[]){if(t.type!=="function")throw new ge(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(t.function.strict!==!0)throw new ge(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const Gf=e=>(e==null?void 0:e.role)==="assistant",qM=e=>(e==null?void 0:e.role)==="tool";var gy,Ad,Rd,$l,zl,Md,Bl,cs,Vl,Yf,Xf,Bi,QM;class jx{constructor(){gy.add(this),this.controller=new AbortController,Ad.set(this,void 0),Rd.set(this,()=>{}),$l.set(this,()=>{}),zl.set(this,void 0),Md.set(this,()=>{}),Bl.set(this,()=>{}),cs.set(this,{}),Vl.set(this,!1),Yf.set(this,!1),Xf.set(this,!1),Bi.set(this,!1),_e(this,Ad,new Promise((t,n)=>{_e(this,Rd,t,"f"),_e(this,$l,n,"f")})),_e(this,zl,new Promise((t,n)=>{_e(this,Md,t,"f"),_e(this,Bl,n,"f")})),D(this,Ad,"f").catch(()=>{}),D(this,zl,"f").catch(()=>{})}_run(t){setTimeout(()=>{t().then(()=>{this._emitFinal(),this._emit("end")},D(this,gy,"m",QM).bind(this))},0)}_connected(){this.ended||(D(this,Rd,"f").call(this),this._emit("connect"))}get ended(){return D(this,Vl,"f")}get errored(){return D(this,Yf,"f")}get aborted(){return D(this,Xf,"f")}abort(){this.controller.abort()}on(t,n){return(D(this,cs,"f")[t]||(D(this,cs,"f")[t]=[])).push({listener:n}),this}off(t,n){const r=D(this,cs,"f")[t];if(!r)return this;const s=r.findIndex(a=>a.listener===n);return s>=0&&r.splice(s,1),this}once(t,n){return(D(this,cs,"f")[t]||(D(this,cs,"f")[t]=[])).push({listener:n,once:!0}),this}emitted(t){return new Promise((n,r)=>{_e(this,Bi,!0),t!=="error"&&this.once("error",r),this.once(t,n)})}async done(){_e(this,Bi,!0),await D(this,zl,"f")}_emit(t,...n){if(D(this,Vl,"f"))return;t==="end"&&(_e(this,Vl,!0),D(this,Md,"f").call(this));const r=D(this,cs,"f")[t];if(r&&(D(this,cs,"f")[t]=r.filter(s=>!s.once),r.forEach(({listener:s})=>s(...n))),t==="abort"){const s=n[0];!D(this,Bi,"f")&&!(r!=null&&r.length)&&Promise.reject(s),D(this,$l,"f").call(this,s),D(this,Bl,"f").call(this,s),this._emit("end");return}if(t==="error"){const s=n[0];!D(this,Bi,"f")&&!(r!=null&&r.length)&&Promise.reject(s),D(this,$l,"f").call(this,s),D(this,Bl,"f").call(this,s),this._emit("end")}}_emitFinal(){}}Ad=new WeakMap,Rd=new WeakMap,$l=new WeakMap,zl=new WeakMap,Md=new WeakMap,Bl=new WeakMap,cs=new WeakMap,Vl=new WeakMap,Yf=new WeakMap,Xf=new WeakMap,Bi=new WeakMap,gy=new WeakSet,QM=function(t){if(_e(this,Yf,!0),t instanceof Error&&t.name==="AbortError"&&(t=new sr),t instanceof sr)return _e(this,Xf,!0),this._emit("abort",t);if(t instanceof ge)return this._emit("error",t);if(t instanceof Error){const n=new ge(t.message);return n.cause=t,this._emit("error",n)}return this._emit("error",new ge(String(t)))};function $9(e){return typeof e.parse=="function"}var sn,yy,Zf,vy,xy,wy,KM,GM;const z9=10;class YM extends jx{constructor(){super(...arguments),sn.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(t){var r;this._chatCompletions.push(t),this._emit("chatCompletion",t);const n=(r=t.choices[0])==null?void 0:r.message;return n&&this._addMessage(n),t}_addMessage(t,n=!0){if("content"in t||(t.content=null),this.messages.push(t),n){if(this._emit("message",t),qM(t)&&t.content)this._emit("functionToolCallResult",t.content);else if(Gf(t)&&t.tool_calls)for(const r of t.tool_calls)r.type==="function"&&this._emit("functionToolCall",r.function)}}async finalChatCompletion(){await this.done();const t=this._chatCompletions[this._chatCompletions.length-1];if(!t)throw new ge("stream ended without producing a ChatCompletion");return t}async finalContent(){return await this.done(),D(this,sn,"m",yy).call(this)}async finalMessage(){return await this.done(),D(this,sn,"m",Zf).call(this)}async finalFunctionToolCall(){return await this.done(),D(this,sn,"m",vy).call(this)}async finalFunctionToolCallResult(){return await this.done(),D(this,sn,"m",xy).call(this)}async totalUsage(){return await this.done(),D(this,sn,"m",wy).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const t=this._chatCompletions[this._chatCompletions.length-1];t&&this._emit("finalChatCompletion",t);const n=D(this,sn,"m",Zf).call(this);n&&this._emit("finalMessage",n);const r=D(this,sn,"m",yy).call(this);r&&this._emit("finalContent",r);const s=D(this,sn,"m",vy).call(this);s&&this._emit("finalFunctionToolCall",s);const a=D(this,sn,"m",xy).call(this);a!=null&&this._emit("finalFunctionToolCallResult",a),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",D(this,sn,"m",wy).call(this))}async _createChatCompletion(t,n,r){const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),D(this,sn,"m",KM).call(this,n);const a=await t.chat.completions.create({...n,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Cx(a,n))}async _runChatCompletion(t,n,r){for(const s of n.messages)this._addMessage(s,!1);return await this._createChatCompletion(t,n,r)}async _runTools(t,n,r){var p,w,y;const s="tool",{tool_choice:a="auto",stream:o,...l}=n,c=typeof a!="string"&&a.type==="function"&&((p=a==null?void 0:a.function)==null?void 0:p.name),{maxChatCompletions:u=z9}=r||{},d=n.tools.map(b=>{if(Nu(b)){if(!b.$callback)throw new ge("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:b.$callback,name:b.function.name,description:b.function.description||"",parameters:b.function.parameters,parse:b.$parseRaw,strict:!0}}}return b}),f={};for(const b of d)b.type==="function"&&(f[b.function.name||b.function.function.name]=b.function);const h="tools"in n?d.map(b=>b.type==="function"?{type:"function",function:{name:b.function.name||b.function.function.name,parameters:b.function.parameters,description:b.function.description,strict:b.function.strict}}:b):void 0;for(const b of n.messages)this._addMessage(b,!1);for(let b=0;b<u;++b){const g=(w=(await this._createChatCompletion(t,{...l,tool_choice:a,tools:h,messages:[...this.messages]},r)).choices[0])==null?void 0:w.message;if(!g)throw new ge("missing message in ChatCompletion response");if(!((y=g.tool_calls)!=null&&y.length))return;for(const v of g.tool_calls){if(v.type!=="function")continue;const S=v.id,{name:_,arguments:j}=v.function,N=f[_];if(N){if(c&&c!==_){const k=`Invalid tool_call: ${JSON.stringify(_)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:s,tool_call_id:S,content:k});continue}}else{const k=`Invalid tool_call: ${JSON.stringify(_)}. Available options are: ${Object.keys(f).map(R=>JSON.stringify(R)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:S,content:k});continue}let E;try{E=$9(N)?await N.parse(j):j}catch(k){const R=k instanceof Error?k.message:String(k);this._addMessage({role:s,tool_call_id:S,content:R});continue}const P=await N.function(E,this),I=D(this,sn,"m",GM).call(this,P);if(this._addMessage({role:s,tool_call_id:S,content:I}),c)return}}}}sn=new WeakSet,yy=function(){return D(this,sn,"m",Zf).call(this).content??null},Zf=function(){let t=this.messages.length;for(;t-- >0;){const n=this.messages[t];if(Gf(n))return{...n,content:n.content??null,refusal:n.refusal??null}}throw new ge("stream ended without producing a ChatCompletionMessage with role=assistant")},vy=function(){var t,n;for(let r=this.messages.length-1;r>=0;r--){const s=this.messages[r];if(Gf(s)&&((t=s==null?void 0:s.tool_calls)!=null&&t.length))return(n=s.tool_calls.filter(a=>a.type==="function").at(-1))==null?void 0:n.function}},xy=function(){for(let t=this.messages.length-1;t>=0;t--){const n=this.messages[t];if(qM(n)&&n.content!=null&&typeof n.content=="string"&&this.messages.some(r=>{var s;return r.role==="assistant"&&((s=r.tool_calls)==null?void 0:s.some(a=>a.type==="function"&&a.id===n.tool_call_id))}))return n.content}},wy=function(){const t={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(t.completion_tokens+=n.completion_tokens,t.prompt_tokens+=n.prompt_tokens,t.total_tokens+=n.total_tokens);return t},KM=function(t){if(t.n!=null&&t.n>1)throw new ge("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},GM=function(t){return typeof t=="string"?t:t===void 0?"undefined":JSON.stringify(t)};class kx extends YM{static runTools(t,n,r){const s=new kx,a={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,a)),s}_addMessage(t,n=!0){super._addMessage(t,n),Gf(t)&&t.content&&this._emit("content",t.content)}}const XM=1,ZM=2,JM=4,eO=8,tO=16,nO=32,rO=64,sO=128,aO=256,iO=sO|aO,oO=tO|nO|iO|rO,lO=XM|ZM|oO,cO=JM|eO,B9=lO|cO,Ot={STR:XM,NUM:ZM,ARR:JM,OBJ:eO,NULL:tO,BOOL:nO,NAN:rO,INFINITY:sO,MINUS_INFINITY:aO,INF:iO,SPECIAL:oO,ATOM:lO,COLLECTION:cO,ALL:B9};class V9 extends Error{}class U9 extends Error{}function W9(e,t=Ot.ALL){if(typeof e!="string")throw new TypeError(`expecting str, got ${typeof e}`);if(!e.trim())throw new Error(`${e} is empty`);return H9(e.trim(),t)}const H9=(e,t)=>{const n=e.length;let r=0;const s=h=>{throw new V9(`${h} at position ${r}`)},a=h=>{throw new U9(`${h} at position ${r}`)},o=()=>(f(),r>=n&&s("Unexpected end of input"),e[r]==='"'?l():e[r]==="{"?c():e[r]==="["?u():e.substring(r,r+4)==="null"||Ot.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):e.substring(r,r+4)==="true"||Ot.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):e.substring(r,r+5)==="false"||Ot.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):e.substring(r,r+8)==="Infinity"||Ot.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):e.substring(r,r+9)==="-Infinity"||Ot.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):e.substring(r,r+3)==="NaN"||Ot.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):d()),l=()=>{const h=r;let p=!1;for(r++;r<n&&(e[r]!=='"'||p&&e[r-1]==="\\");)p=e[r]==="\\"?!p:!1,r++;if(e.charAt(r)=='"')try{return JSON.parse(e.substring(h,++r-Number(p)))}catch(w){a(String(w))}else if(Ot.STR&t)try{return JSON.parse(e.substring(h,r-Number(p))+'"')}catch{return JSON.parse(e.substring(h,e.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},c=()=>{r++,f();const h={};try{for(;e[r]!=="}";){if(f(),r>=n&&Ot.OBJ&t)return h;const p=l();f(),r++;try{const w=o();Object.defineProperty(h,p,{value:w,writable:!0,enumerable:!0,configurable:!0})}catch(w){if(Ot.OBJ&t)return h;throw w}f(),e[r]===","&&r++}}catch{if(Ot.OBJ&t)return h;s("Expected '}' at end of object")}return r++,h},u=()=>{r++;const h=[];try{for(;e[r]!=="]";)h.push(o()),f(),e[r]===","&&r++}catch{if(Ot.ARR&t)return h;s("Expected ']' at end of array")}return r++,h},d=()=>{if(r===0){e==="-"&&Ot.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e)}catch(p){if(Ot.NUM&t)try{return e[e.length-1]==="."?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch{}a(String(p))}}const h=r;for(e[r]==="-"&&r++;e[r]&&!",]}".includes(e[r]);)r++;r==n&&!(Ot.NUM&t)&&s("Unterminated number literal");try{return JSON.parse(e.substring(h,r))}catch{e.substring(h,r)==="-"&&Ot.NUM&t&&s("Not sure what '-' is");try{return JSON.parse(e.substring(h,e.lastIndexOf("e")))}catch(w){a(String(w))}}},f=()=>{for(;r<n&&` 
\r	`.includes(e[r]);)r++};return o()},Lb=e=>W9(e,Ot.ALL^Ot.NUM);var jt,is,Mi,Rs,xp,sd,wp,bp,Sp,ad,_p,$b;class Wc extends YM{constructor(t){super(),jt.add(this),is.set(this,void 0),Mi.set(this,void 0),Rs.set(this,void 0),_e(this,is,t),_e(this,Mi,[])}get currentChatCompletionSnapshot(){return D(this,Rs,"f")}static fromReadableStream(t){const n=new Wc(null);return n._run(()=>n._fromReadableStream(t)),n}static createChatCompletion(t,n,r){const s=new Wc(n);return s._run(()=>s._runChatCompletion(t,{...n,stream:!0},{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(t,n,r){var o;super._createChatCompletion;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),D(this,jt,"m",xp).call(this);const a=await t.chat.completions.create({...n,stream:!0},{...r,signal:this.controller.signal});this._connected();for await(const l of a)D(this,jt,"m",wp).call(this,l);if((o=a.controller.signal)!=null&&o.aborted)throw new sr;return this._addChatCompletion(D(this,jt,"m",ad).call(this))}async _fromReadableStream(t,n){var o;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),D(this,jt,"m",xp).call(this),this._connected();const s=qr.fromReadableStream(t,this.controller);let a;for await(const l of s)a&&a!==l.id&&this._addChatCompletion(D(this,jt,"m",ad).call(this)),D(this,jt,"m",wp).call(this,l),a=l.id;if((o=s.controller.signal)!=null&&o.aborted)throw new sr;return this._addChatCompletion(D(this,jt,"m",ad).call(this))}[(is=new WeakMap,Mi=new WeakMap,Rs=new WeakMap,jt=new WeakSet,xp=function(){this.ended||_e(this,Rs,void 0)},sd=function(n){let r=D(this,Mi,"f")[n.index];return r||(r={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},D(this,Mi,"f")[n.index]=r,r)},wp=function(n){var s,a,o,l,c,u,d,f,h,p,w,y,b,x,g;if(this.ended)return;const r=D(this,jt,"m",$b).call(this,n);this._emit("chunk",n,r);for(const v of n.choices){const S=r.choices[v.index];v.delta.content!=null&&((s=S.message)==null?void 0:s.role)==="assistant"&&((a=S.message)!=null&&a.content)&&(this._emit("content",v.delta.content,S.message.content),this._emit("content.delta",{delta:v.delta.content,snapshot:S.message.content,parsed:S.message.parsed})),v.delta.refusal!=null&&((o=S.message)==null?void 0:o.role)==="assistant"&&((l=S.message)!=null&&l.refusal)&&this._emit("refusal.delta",{delta:v.delta.refusal,snapshot:S.message.refusal}),((c=v.logprobs)==null?void 0:c.content)!=null&&((u=S.message)==null?void 0:u.role)==="assistant"&&this._emit("logprobs.content.delta",{content:(d=v.logprobs)==null?void 0:d.content,snapshot:((f=S.logprobs)==null?void 0:f.content)??[]}),((h=v.logprobs)==null?void 0:h.refusal)!=null&&((p=S.message)==null?void 0:p.role)==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:(w=v.logprobs)==null?void 0:w.refusal,snapshot:((y=S.logprobs)==null?void 0:y.refusal)??[]});const _=D(this,jt,"m",sd).call(this,S);S.finish_reason&&(D(this,jt,"m",Sp).call(this,S),_.current_tool_call_index!=null&&D(this,jt,"m",bp).call(this,S,_.current_tool_call_index));for(const j of v.delta.tool_calls??[])_.current_tool_call_index!==j.index&&(D(this,jt,"m",Sp).call(this,S),_.current_tool_call_index!=null&&D(this,jt,"m",bp).call(this,S,_.current_tool_call_index)),_.current_tool_call_index=j.index;for(const j of v.delta.tool_calls??[]){const N=(b=S.message.tool_calls)==null?void 0:b[j.index];N!=null&&N.type&&((N==null?void 0:N.type)==="function"?this._emit("tool_calls.function.arguments.delta",{name:(x=N.function)==null?void 0:x.name,index:j.index,arguments:N.function.arguments,parsed_arguments:N.function.parsed_arguments,arguments_delta:((g=j.function)==null?void 0:g.arguments)??""}):(N==null||N.type,void 0))}}},bp=function(n,r){var o,l,c;if(D(this,jt,"m",sd).call(this,n).done_tool_calls.has(r))return;const a=(o=n.message.tool_calls)==null?void 0:o[r];if(!a)throw new Error("no tool call snapshot");if(!a.type)throw new Error("tool call snapshot missing `type`");if(a.type==="function"){const u=(c=(l=D(this,is,"f"))==null?void 0:l.tools)==null?void 0:c.find(d=>Kf(d)&&d.function.name===a.function.name);this._emit("tool_calls.function.arguments.done",{name:a.function.name,index:r,arguments:a.function.arguments,parsed_arguments:Nu(u)?u.$parseRaw(a.function.arguments):u!=null&&u.function.strict?JSON.parse(a.function.arguments):null})}else a.type},Sp=function(n){var s,a;const r=D(this,jt,"m",sd).call(this,n);if(n.message.content&&!r.content_done){r.content_done=!0;const o=D(this,jt,"m",_p).call(this);this._emit("content.done",{content:n.message.content,parsed:o?o.$parseRaw(n.message.content):null})}n.message.refusal&&!r.refusal_done&&(r.refusal_done=!0,this._emit("refusal.done",{refusal:n.message.refusal})),(s=n.logprobs)!=null&&s.content&&!r.logprobs_content_done&&(r.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:n.logprobs.content})),(a=n.logprobs)!=null&&a.refusal&&!r.logprobs_refusal_done&&(r.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:n.logprobs.refusal}))},ad=function(){if(this.ended)throw new ge("stream has ended, this shouldn't happen");const n=D(this,Rs,"f");if(!n)throw new ge("request ended without sending any chunks");return _e(this,Rs,void 0),_e(this,Mi,[]),q9(n,D(this,is,"f"))},_p=function(){var r;const n=(r=D(this,is,"f"))==null?void 0:r.response_format;return Nx(n)?n:null},$b=function(n){var r,s,a,o;let l=D(this,Rs,"f");const{choices:c,...u}=n;l?Object.assign(l,u):l=_e(this,Rs,{...u,choices:[]});for(const{delta:d,finish_reason:f,index:h,logprobs:p=null,...w}of n.choices){let y=l.choices[h];if(y||(y=l.choices[h]={finish_reason:f,index:h,message:{},logprobs:p,...w}),p)if(!y.logprobs)y.logprobs=Object.assign({},p);else{const{content:j,refusal:N,...E}=p;Object.assign(y.logprobs,E),j&&((r=y.logprobs).content??(r.content=[]),y.logprobs.content.push(...j)),N&&((s=y.logprobs).refusal??(s.refusal=[]),y.logprobs.refusal.push(...N))}if(f&&(y.finish_reason=f,D(this,is,"f")&&WM(D(this,is,"f")))){if(f==="length")throw new jM;if(f==="content_filter")throw new kM}if(Object.assign(y,w),!d)continue;const{content:b,refusal:x,function_call:g,role:v,tool_calls:S,..._}=d;if(Object.assign(y.message,_),x&&(y.message.refusal=(y.message.refusal||"")+x),v&&(y.message.role=v),g&&(y.message.function_call?(g.name&&(y.message.function_call.name=g.name),g.arguments&&((a=y.message.function_call).arguments??(a.arguments=""),y.message.function_call.arguments+=g.arguments)):y.message.function_call=g),b&&(y.message.content=(y.message.content||"")+b,!y.message.refusal&&D(this,jt,"m",_p).call(this)&&(y.message.parsed=Lb(y.message.content))),S){y.message.tool_calls||(y.message.tool_calls=[]);for(const{index:j,id:N,type:E,function:P,...I}of S){const k=(o=y.message.tool_calls)[j]??(o[j]={});Object.assign(k,I),N&&(k.id=N),E&&(k.type=E),P&&(k.function??(k.function={name:P.name??"",arguments:""})),P!=null&&P.name&&(k.function.name=P.name),P!=null&&P.arguments&&(k.function.arguments+=P.arguments,F9(D(this,is,"f"),k)&&(k.function.parsed_arguments=Lb(k.function.arguments)))}}}return l},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("chunk",s=>{const a=n.shift();a?a.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const a of n)a.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const a of n)a.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((a,o)=>n.push({resolve:a,reject:o})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new qr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function q9(e,t){const{id:n,choices:r,created:s,model:a,system_fingerprint:o,...l}=e,c={...l,id:n,choices:r.map(({message:u,finish_reason:d,index:f,logprobs:h,...p})=>{if(!d)throw new ge(`missing finish_reason for choice ${f}`);const{content:w=null,function_call:y,tool_calls:b,...x}=u,g=u.role;if(!g)throw new ge(`missing role for choice ${f}`);if(y){const{arguments:v,name:S}=y;if(v==null)throw new ge(`missing function_call.arguments for choice ${f}`);if(!S)throw new ge(`missing function_call.name for choice ${f}`);return{...p,message:{content:w,function_call:{arguments:v,name:S},role:g,refusal:u.refusal??null},finish_reason:d,index:f,logprobs:h}}return b?{...p,index:f,finish_reason:d,logprobs:h,message:{...x,role:g,content:w,refusal:u.refusal??null,tool_calls:b.map((v,S)=>{const{function:_,type:j,id:N,...E}=v,{arguments:P,name:I,...k}=_||{};if(N==null)throw new ge(`missing choices[${f}].tool_calls[${S}].id
${id(e)}`);if(j==null)throw new ge(`missing choices[${f}].tool_calls[${S}].type
${id(e)}`);if(I==null)throw new ge(`missing choices[${f}].tool_calls[${S}].function.name
${id(e)}`);if(P==null)throw new ge(`missing choices[${f}].tool_calls[${S}].function.arguments
${id(e)}`);return{...E,id:N,type:j,function:{...k,name:I,arguments:P}}})}}:{...p,message:{...x,content:w,role:g,refusal:u.refusal??null},finish_reason:d,index:f,logprobs:h}}),created:s,model:a,object:"chat.completion",...o?{system_fingerprint:o}:{}};return O9(c,t)}function id(e){return JSON.stringify(e)}class Jf extends Wc{static fromReadableStream(t){const n=new Jf(null);return n._run(()=>n._fromReadableStream(t)),n}static runTools(t,n,r){const s=new Jf(n),a={...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(t,n,a)),s}}let Ex=class extends be{constructor(){super(...arguments),this.messages=new UM(this._client)}create(t,n){return this._client.post("/chat/completions",{body:t,...n,stream:t.stream??!1})}retrieve(t,n){return this._client.get(J`/chat/completions/${t}`,n)}update(t,n,r){return this._client.post(J`/chat/completions/${t}`,{body:n,...r})}list(t={},n){return this._client.getAPIList("/chat/completions",Ct,{query:t,...n})}delete(t,n){return this._client.delete(J`/chat/completions/${t}`,n)}parse(t,n){return L9(t.tools),this._client.chat.completions.create(t,{...n,headers:{...n==null?void 0:n.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(r=>Cx(r,t))}runTools(t,n){return t.stream?Jf.runTools(this._client,t,n):kx.runTools(this._client,t,n)}stream(t,n){return Wc.createChatCompletion(this._client,t,n)}};Ex.Messages=UM;class Px extends be{constructor(){super(...arguments),this.completions=new Ex(this._client)}}Px.Completions=Ex;const uO=Symbol("brand.privateNullableHeaders");function*Q9(e){if(!e)return;if(uO in e){const{values:r,nulls:s}=e;yield*r.entries();for(const a of s)yield[a,null];return}let t=!1,n;e instanceof Headers?n=e.entries():Nb(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const s=r[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const a=Nb(r[1])?r[1]:[r[1]];let o=!1;for(const l of a)l!==void 0&&(t&&!o&&(o=!0,yield[s,null]),yield[s,l])}}const ye=e=>{const t=new Headers,n=new Set;for(const r of e){const s=new Set;for(const[a,o]of Q9(r)){const l=a.toLowerCase();s.has(l)||(t.delete(a),s.add(l)),o===null?(t.delete(a),n.add(l)):(t.append(a,o),n.delete(l))}}return{[uO]:!0,values:t,nulls:n}};class dO extends be{create(t,n){return this._client.post("/audio/speech",{body:t,...n,headers:ye([{Accept:"application/octet-stream"},n==null?void 0:n.headers]),__binaryResponse:!0})}}class fO extends be{create(t,n){return this._client.post("/audio/transcriptions",xi({body:t,...n,stream:t.stream??!1,__metadata:{model:t.model}},this._client))}}class hO extends be{create(t,n){return this._client.post("/audio/translations",xi({body:t,...n,__metadata:{model:t.model}},this._client))}}class Cu extends be{constructor(){super(...arguments),this.transcriptions=new fO(this._client),this.translations=new hO(this._client),this.speech=new dO(this._client)}}Cu.Transcriptions=fO;Cu.Translations=hO;Cu.Speech=dO;class mO extends be{create(t,n){return this._client.post("/batches",{body:t,...n})}retrieve(t,n){return this._client.get(J`/batches/${t}`,n)}list(t={},n){return this._client.getAPIList("/batches",Ct,{query:t,...n})}cancel(t,n){return this._client.post(J`/batches/${t}/cancel`,n)}}class pO extends be{create(t,n){return this._client.post("/assistants",{body:t,...n,headers:ye([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(J`/assistants/${t}`,{...n,headers:ye([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(J`/assistants/${t}`,{body:n,...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t={},n){return this._client.getAPIList("/assistants",Ct,{query:t,...n,headers:ye([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(t,n){return this._client.delete(J`/assistants/${t}`,{...n,headers:ye([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}class gO extends be{create(t,n){return this._client.post("/realtime/sessions",{body:t,...n,headers:ye([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}class yO extends be{create(t,n){return this._client.post("/realtime/transcription_sessions",{body:t,...n,headers:ye([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}}let gm=class extends be{constructor(){super(...arguments),this.sessions=new gO(this._client),this.transcriptionSessions=new yO(this._client)}};gm.Sessions=gO;gm.TranscriptionSessions=yO;class vO extends be{create(t,n,r){return this._client.post(J`/threads/${t}/messages`,{body:n,...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{thread_id:s}=n;return this._client.get(J`/threads/${s}/messages/${t}`,{...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,n,r){const{thread_id:s,...a}=n;return this._client.post(J`/threads/${s}/messages/${t}`,{body:a,...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n={},r){return this._client.getAPIList(J`/threads/${t}/messages`,Ct,{query:n,...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n,r){const{thread_id:s}=n;return this._client.delete(J`/threads/${s}/messages/${t}`,{...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class xO extends be{retrieve(t,n,r){const{thread_id:s,run_id:a,...o}=n;return this._client.get(J`/threads/${s}/runs/${a}/steps/${t}`,{query:o,...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n,r){const{thread_id:s,...a}=n;return this._client.getAPIList(J`/threads/${s}/runs/${t}/steps`,Ct,{query:a,...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}const K9=e=>{if(typeof Buffer<"u"){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}else{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=t.charCodeAt(s);return Array.from(new Float32Array(r.buffer))}};var Np={};const Oi=e=>{var t,n,r,s;if(typeof globalThis.process<"u")return((t=Np==null?void 0:Np[e])==null?void 0:t.trim())??void 0;if(typeof globalThis.Deno<"u")return(s=(r=(n=globalThis.Deno.env)==null?void 0:n.get)==null?void 0:r.call(n,e))==null?void 0:s.trim()};var Ht,Wa,by,Lr,Od,pr,Ha,no,Fa,eh,On,Id,Dd,ac,Ul,Wl,zb,Bb,Vb,Ub,Wb,Hb,qb;class ic extends jx{constructor(){super(...arguments),Ht.add(this),by.set(this,[]),Lr.set(this,{}),Od.set(this,{}),pr.set(this,void 0),Ha.set(this,void 0),no.set(this,void 0),Fa.set(this,void 0),eh.set(this,void 0),On.set(this,void 0),Id.set(this,void 0),Dd.set(this,void 0),ac.set(this,void 0)}[(by=new WeakMap,Lr=new WeakMap,Od=new WeakMap,pr=new WeakMap,Ha=new WeakMap,no=new WeakMap,Fa=new WeakMap,eh=new WeakMap,On=new WeakMap,Id=new WeakMap,Dd=new WeakMap,ac=new WeakMap,Ht=new WeakSet,Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const a=n.shift();a?a.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const a of n)a.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const a of n)a.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((a,o)=>n.push({resolve:a,reject:o})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(t){const n=new Wa;return n._run(()=>n._fromReadableStream(t)),n}async _fromReadableStream(t,n){var a;const r=n==null?void 0:n.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=qr.fromReadableStream(t,this.controller);for await(const o of s)D(this,Ht,"m",Ul).call(this,o);if((a=s.controller.signal)!=null&&a.aborted)throw new sr;return this._addRun(D(this,Ht,"m",Wl).call(this))}toReadableStream(){return new qr(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(t,n,r,s){const a=new Wa;return a._run(()=>a._runToolAssistantStream(t,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),a}async _createToolAssistantStream(t,n,r,s){var c;const a=s==null?void 0:s.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},l=await t.submitToolOutputs(n,o,{...s,signal:this.controller.signal});this._connected();for await(const u of l)D(this,Ht,"m",Ul).call(this,u);if((c=l.controller.signal)!=null&&c.aborted)throw new sr;return this._addRun(D(this,Ht,"m",Wl).call(this))}static createThreadAssistantStream(t,n,r){const s=new Wa;return s._run(()=>s._threadAssistantStream(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(t,n,r,s){const a=new Wa;return a._run(()=>a._runAssistantStream(t,n,r,{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),a}currentEvent(){return D(this,Id,"f")}currentRun(){return D(this,Dd,"f")}currentMessageSnapshot(){return D(this,pr,"f")}currentRunStepSnapshot(){return D(this,ac,"f")}async finalRunSteps(){return await this.done(),Object.values(D(this,Lr,"f"))}async finalMessages(){return await this.done(),Object.values(D(this,Od,"f"))}async finalRun(){if(await this.done(),!D(this,Ha,"f"))throw Error("Final run was not received.");return D(this,Ha,"f")}async _createThreadAssistantStream(t,n,r){var l;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},o=await t.createAndRun(a,{...r,signal:this.controller.signal});this._connected();for await(const c of o)D(this,Ht,"m",Ul).call(this,c);if((l=o.controller.signal)!=null&&l.aborted)throw new sr;return this._addRun(D(this,Ht,"m",Wl).call(this))}async _createAssistantStream(t,n,r,s){var c;const a=s==null?void 0:s.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},l=await t.create(n,o,{...s,signal:this.controller.signal});this._connected();for await(const u of l)D(this,Ht,"m",Ul).call(this,u);if((c=l.controller.signal)!=null&&c.aborted)throw new sr;return this._addRun(D(this,Ht,"m",Wl).call(this))}static accumulateDelta(t,n){for(const[r,s]of Object.entries(n)){if(!t.hasOwnProperty(r)){t[r]=s;continue}let a=t[r];if(a==null){t[r]=s;continue}if(r==="index"||r==="type"){t[r]=s;continue}if(typeof a=="string"&&typeof s=="string")a+=s;else if(typeof a=="number"&&typeof s=="number")a+=s;else if(gp(a)&&gp(s))a=this.accumulateDelta(a,s);else if(Array.isArray(a)&&Array.isArray(s)){if(a.every(o=>typeof o=="string"||typeof o=="number")){a.push(...s);continue}for(const o of s){if(!gp(o))throw new Error(`Expected array delta entry to be an object but got: ${o}`);const l=o.index;if(l==null)throw console.error(o),new Error("Expected array delta entry to have an `index` property");if(typeof l!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${l}`);const c=a[l];c==null?a.push(o):a[l]=this.accumulateDelta(c,o)}continue}else throw Error(`Unhandled record type: ${r}, deltaValue: ${s}, accValue: ${a}`);t[r]=a}return t}_addRun(t){return t}async _threadAssistantStream(t,n,r){return await this._createThreadAssistantStream(n,t,r)}async _runAssistantStream(t,n,r,s){return await this._createAssistantStream(n,t,r,s)}async _runToolAssistantStream(t,n,r,s){return await this._createToolAssistantStream(n,t,r,s)}}Wa=ic,Ul=function(t){if(!this.ended)switch(_e(this,Id,t),D(this,Ht,"m",Vb).call(this,t),t.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":D(this,Ht,"m",qb).call(this,t);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":D(this,Ht,"m",Bb).call(this,t);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":D(this,Ht,"m",zb).call(this,t);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Wl=function(){if(this.ended)throw new ge("stream has ended, this shouldn't happen");if(!D(this,Ha,"f"))throw Error("Final run has not been received");return D(this,Ha,"f")},zb=function(t){const[n,r]=D(this,Ht,"m",Wb).call(this,t,D(this,pr,"f"));_e(this,pr,n),D(this,Od,"f")[n.id]=n;for(const s of r){const a=n.content[s.index];(a==null?void 0:a.type)=="text"&&this._emit("textCreated",a.text)}switch(t.event){case"thread.message.created":this._emit("messageCreated",t.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",t.data.delta,n),t.data.delta.content)for(const s of t.data.delta.content){if(s.type=="text"&&s.text){let a=s.text,o=n.content[s.index];if(o&&o.type=="text")this._emit("textDelta",a,o.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=D(this,no,"f")){if(D(this,Fa,"f"))switch(D(this,Fa,"f").type){case"text":this._emit("textDone",D(this,Fa,"f").text,D(this,pr,"f"));break;case"image_file":this._emit("imageFileDone",D(this,Fa,"f").image_file,D(this,pr,"f"));break}_e(this,no,s.index)}_e(this,Fa,n.content[s.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(D(this,no,"f")!==void 0){const s=t.data.content[D(this,no,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,D(this,pr,"f"));break;case"text":this._emit("textDone",s.text,D(this,pr,"f"));break}}D(this,pr,"f")&&this._emit("messageDone",t.data),_e(this,pr,void 0)}},Bb=function(t){const n=D(this,Ht,"m",Ub).call(this,t);switch(_e(this,ac,n),t.event){case"thread.run.step.created":this._emit("runStepCreated",t.data);break;case"thread.run.step.delta":const r=t.data.delta;if(r.step_details&&r.step_details.type=="tool_calls"&&r.step_details.tool_calls&&n.step_details.type=="tool_calls")for(const a of r.step_details.tool_calls)a.index==D(this,eh,"f")?this._emit("toolCallDelta",a,n.step_details.tool_calls[a.index]):(D(this,On,"f")&&this._emit("toolCallDone",D(this,On,"f")),_e(this,eh,a.index),_e(this,On,n.step_details.tool_calls[a.index]),D(this,On,"f")&&this._emit("toolCallCreated",D(this,On,"f")));this._emit("runStepDelta",t.data.delta,n);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":_e(this,ac,void 0),t.data.step_details.type=="tool_calls"&&D(this,On,"f")&&(this._emit("toolCallDone",D(this,On,"f")),_e(this,On,void 0)),this._emit("runStepDone",t.data,n);break}},Vb=function(t){D(this,by,"f").push(t),this._emit("event",t)},Ub=function(t){switch(t.event){case"thread.run.step.created":return D(this,Lr,"f")[t.data.id]=t.data,t.data;case"thread.run.step.delta":let n=D(this,Lr,"f")[t.data.id];if(!n)throw Error("Received a RunStepDelta before creation of a snapshot");let r=t.data;if(r.delta){const s=Wa.accumulateDelta(n,r.delta);D(this,Lr,"f")[t.data.id]=s}return D(this,Lr,"f")[t.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":D(this,Lr,"f")[t.data.id]=t.data;break}if(D(this,Lr,"f")[t.data.id])return D(this,Lr,"f")[t.data.id];throw new Error("No snapshot available")},Wb=function(t,n){let r=[];switch(t.event){case"thread.message.created":return[t.data,r];case"thread.message.delta":if(!n)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=t.data;if(s.delta.content)for(const a of s.delta.content)if(a.index in n.content){let o=n.content[a.index];n.content[a.index]=D(this,Ht,"m",Hb).call(this,a,o)}else n.content[a.index]=a,r.push(a);return[n,r];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(n)return[n,r];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Hb=function(t,n){return Wa.accumulateDelta(n,t)},qb=function(t){switch(_e(this,Dd,t.data),t.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":_e(this,Ha,t.data),D(this,On,"f")&&(this._emit("toolCallDone",D(this,On,"f")),_e(this,On,void 0));break}};let Tx=class extends be{constructor(){super(...arguments),this.steps=new xO(this._client)}create(t,n,r){const{include:s,...a}=n;return this._client.post(J`/threads/${t}/runs`,{query:{include:s},body:a,...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}retrieve(t,n,r){const{thread_id:s}=n;return this._client.get(J`/threads/${s}/runs/${t}`,{...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,n,r){const{thread_id:s,...a}=n;return this._client.post(J`/threads/${s}/runs/${t}`,{body:a,...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n={},r){return this._client.getAPIList(J`/threads/${t}/runs`,Ct,{query:n,...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(t,n,r){const{thread_id:s}=n;return this._client.post(J`/threads/${s}/runs/${t}/cancel`,{...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(s.id,{thread_id:t},r)}createAndStream(t,n,r){return ic.createAssistantStream(t,this._client.beta.threads.runs,n,r)}async poll(t,n,r){var a;const s=ye([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((a=r==null?void 0:r.pollIntervalMs)==null?void 0:a.toString())??void 0}]);for(;;){const{data:o,response:l}=await this.retrieve(t,n,{...r,headers:{...r==null?void 0:r.headers,...s}}).withResponse();switch(o.status){case"queued":case"in_progress":case"cancelling":let c=5e3;if(r!=null&&r.pollIntervalMs)c=r.pollIntervalMs;else{const u=l.headers.get("openai-poll-after-ms");if(u){const d=parseInt(u);isNaN(d)||(c=d)}}await _u(c);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return o}}}stream(t,n,r){return ic.createAssistantStream(t,this._client.beta.threads.runs,n,r)}submitToolOutputs(t,n,r){const{thread_id:s,...a}=n;return this._client.post(J`/threads/${s}/runs/${t}/submit_tool_outputs`,{body:a,...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers]),stream:n.stream??!1})}async submitToolOutputsAndPoll(t,n,r){const s=await this.submitToolOutputs(t,n,r);return await this.poll(s.id,n,r)}submitToolOutputsStream(t,n,r){return ic.createToolAssistantStream(t,this._client.beta.threads.runs,n,r)}};Tx.Steps=xO;class ym extends be{constructor(){super(...arguments),this.runs=new Tx(this._client),this.messages=new vO(this._client)}create(t={},n){return this._client.post("/threads",{body:t,...n,headers:ye([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(J`/threads/${t}`,{...n,headers:ye([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(J`/threads/${t}`,{body:n,...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n){return this._client.delete(J`/threads/${t}`,{...n,headers:ye([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}createAndRun(t,n){return this._client.post("/threads/runs",{body:t,...n,headers:ye([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers]),stream:t.stream??!1})}async createAndRunPoll(t,n){const r=await this.createAndRun(t,n);return await this.runs.poll(r.id,{thread_id:r.thread_id},n)}createAndRunStream(t,n){return ic.createThreadAssistantStream(t,this._client.beta.threads,n)}}ym.Runs=Tx;ym.Messages=vO;class ju extends be{constructor(){super(...arguments),this.realtime=new gm(this._client),this.assistants=new pO(this._client),this.threads=new ym(this._client)}}ju.Realtime=gm;ju.Assistants=pO;ju.Threads=ym;class wO extends be{create(t,n){return this._client.post("/completions",{body:t,...n,stream:t.stream??!1})}}let bO=class extends be{retrieve(t,n,r){const{container_id:s}=n;return this._client.get(J`/containers/${s}/files/${t}/content`,{...r,headers:ye([{Accept:"application/binary"},r==null?void 0:r.headers]),__binaryResponse:!0})}},Ax=class extends be{constructor(){super(...arguments),this.content=new bO(this._client)}create(t,n,r){return this._client.post(J`/containers/${t}/files`,xi({body:n,...r},this._client))}retrieve(t,n,r){const{container_id:s}=n;return this._client.get(J`/containers/${s}/files/${t}`,r)}list(t,n={},r){return this._client.getAPIList(J`/containers/${t}/files`,Ct,{query:n,...r})}delete(t,n,r){const{container_id:s}=n;return this._client.delete(J`/containers/${s}/files/${t}`,{...r,headers:ye([{Accept:"*/*"},r==null?void 0:r.headers])})}};Ax.Content=bO;class Rx extends be{constructor(){super(...arguments),this.files=new Ax(this._client)}create(t,n){return this._client.post("/containers",{body:t,...n})}retrieve(t,n){return this._client.get(J`/containers/${t}`,n)}list(t={},n){return this._client.getAPIList("/containers",Ct,{query:t,...n})}delete(t,n){return this._client.delete(J`/containers/${t}`,{...n,headers:ye([{Accept:"*/*"},n==null?void 0:n.headers])})}}Rx.Files=Ax;class SO extends be{create(t,n,r){const{include:s,...a}=n;return this._client.post(J`/conversations/${t}/items`,{query:{include:s},body:a,...r})}retrieve(t,n,r){const{conversation_id:s,...a}=n;return this._client.get(J`/conversations/${s}/items/${t}`,{query:a,...r})}list(t,n={},r){return this._client.getAPIList(J`/conversations/${t}/items`,C9,{query:n,...r})}delete(t,n,r){const{conversation_id:s}=n;return this._client.delete(J`/conversations/${s}/items/${t}`,r)}}class Mx extends be{constructor(){super(...arguments),this.items=new SO(this._client)}create(t={},n){return this._client.post("/conversations",{body:t,...n})}retrieve(t,n){return this._client.get(J`/conversations/${t}`,n)}update(t,n,r){return this._client.post(J`/conversations/${t}`,{body:n,...r})}delete(t,n){return this._client.delete(J`/conversations/${t}`,n)}}Mx.Items=SO;class _O extends be{create(t,n){const r=!!t.encoding_format;let s=r?t.encoding_format:"base64";r&&Wt(this._client).debug("embeddings/user defined encoding_format:",t.encoding_format);const a=this._client.post("/embeddings",{body:{...t,encoding_format:s},...n});return r?a:(Wt(this._client).debug("embeddings/decoding base64 embeddings from base64"),a._thenUnwrap(o=>(o&&o.data&&o.data.forEach(l=>{const c=l.embedding;l.embedding=K9(c)}),o)))}}class NO extends be{retrieve(t,n,r){const{eval_id:s,run_id:a}=n;return this._client.get(J`/evals/${s}/runs/${a}/output_items/${t}`,r)}list(t,n,r){const{eval_id:s,...a}=n;return this._client.getAPIList(J`/evals/${s}/runs/${t}/output_items`,Ct,{query:a,...r})}}class Ox extends be{constructor(){super(...arguments),this.outputItems=new NO(this._client)}create(t,n,r){return this._client.post(J`/evals/${t}/runs`,{body:n,...r})}retrieve(t,n,r){const{eval_id:s}=n;return this._client.get(J`/evals/${s}/runs/${t}`,r)}list(t,n={},r){return this._client.getAPIList(J`/evals/${t}/runs`,Ct,{query:n,...r})}delete(t,n,r){const{eval_id:s}=n;return this._client.delete(J`/evals/${s}/runs/${t}`,r)}cancel(t,n,r){const{eval_id:s}=n;return this._client.post(J`/evals/${s}/runs/${t}`,r)}}Ox.OutputItems=NO;class Ix extends be{constructor(){super(...arguments),this.runs=new Ox(this._client)}create(t,n){return this._client.post("/evals",{body:t,...n})}retrieve(t,n){return this._client.get(J`/evals/${t}`,n)}update(t,n,r){return this._client.post(J`/evals/${t}`,{body:n,...r})}list(t={},n){return this._client.getAPIList("/evals",Ct,{query:t,...n})}delete(t,n){return this._client.delete(J`/evals/${t}`,n)}}Ix.Runs=Ox;let CO=class extends be{create(t,n){return this._client.post("/files",xi({body:t,...n},this._client))}retrieve(t,n){return this._client.get(J`/files/${t}`,n)}list(t={},n){return this._client.getAPIList("/files",Ct,{query:t,...n})}delete(t,n){return this._client.delete(J`/files/${t}`,n)}content(t,n){return this._client.get(J`/files/${t}/content`,{...n,headers:ye([{Accept:"application/binary"},n==null?void 0:n.headers]),__binaryResponse:!0})}async waitForProcessing(t,{pollInterval:n=5e3,maxWait:r=30*60*1e3}={}){const s=new Set(["processed","error","deleted"]),a=Date.now();let o=await this.retrieve(t);for(;!o.status||!s.has(o.status);)if(await _u(n),o=await this.retrieve(t),Date.now()-a>r)throw new bx({message:`Giving up on waiting for file ${t} to finish processing after ${r} milliseconds.`});return o}};class jO extends be{}let kO=class extends be{run(t,n){return this._client.post("/fine_tuning/alpha/graders/run",{body:t,...n})}validate(t,n){return this._client.post("/fine_tuning/alpha/graders/validate",{body:t,...n})}};class Dx extends be{constructor(){super(...arguments),this.graders=new kO(this._client)}}Dx.Graders=kO;class EO extends be{create(t,n,r){return this._client.getAPIList(J`/fine_tuning/checkpoints/${t}/permissions`,pm,{body:n,method:"post",...r})}retrieve(t,n={},r){return this._client.get(J`/fine_tuning/checkpoints/${t}/permissions`,{query:n,...r})}delete(t,n,r){const{fine_tuned_model_checkpoint:s}=n;return this._client.delete(J`/fine_tuning/checkpoints/${s}/permissions/${t}`,r)}}let Fx=class extends be{constructor(){super(...arguments),this.permissions=new EO(this._client)}};Fx.Permissions=EO;class PO extends be{list(t,n={},r){return this._client.getAPIList(J`/fine_tuning/jobs/${t}/checkpoints`,Ct,{query:n,...r})}}class Lx extends be{constructor(){super(...arguments),this.checkpoints=new PO(this._client)}create(t,n){return this._client.post("/fine_tuning/jobs",{body:t,...n})}retrieve(t,n){return this._client.get(J`/fine_tuning/jobs/${t}`,n)}list(t={},n){return this._client.getAPIList("/fine_tuning/jobs",Ct,{query:t,...n})}cancel(t,n){return this._client.post(J`/fine_tuning/jobs/${t}/cancel`,n)}listEvents(t,n={},r){return this._client.getAPIList(J`/fine_tuning/jobs/${t}/events`,Ct,{query:n,...r})}pause(t,n){return this._client.post(J`/fine_tuning/jobs/${t}/pause`,n)}resume(t,n){return this._client.post(J`/fine_tuning/jobs/${t}/resume`,n)}}Lx.Checkpoints=PO;class ul extends be{constructor(){super(...arguments),this.methods=new jO(this._client),this.jobs=new Lx(this._client),this.checkpoints=new Fx(this._client),this.alpha=new Dx(this._client)}}ul.Methods=jO;ul.Jobs=Lx;ul.Checkpoints=Fx;ul.Alpha=Dx;class TO extends be{}class $x extends be{constructor(){super(...arguments),this.graderModels=new TO(this._client)}}$x.GraderModels=TO;class AO extends be{createVariation(t,n){return this._client.post("/images/variations",xi({body:t,...n},this._client))}edit(t,n){return this._client.post("/images/edits",xi({body:t,...n,stream:t.stream??!1},this._client))}generate(t,n){return this._client.post("/images/generations",{body:t,...n,stream:t.stream??!1})}}class RO extends be{retrieve(t,n){return this._client.get(J`/models/${t}`,n)}list(t){return this._client.getAPIList("/models",pm,t)}delete(t,n){return this._client.delete(J`/models/${t}`,n)}}class MO extends be{create(t,n){return this._client.post("/moderations",{body:t,...n})}}class OO extends be{create(t,n){return this._client.post("/realtime/client_secrets",{body:t,...n})}}class zx extends be{constructor(){super(...arguments),this.clientSecrets=new OO(this._client)}}zx.ClientSecrets=OO;function G9(e,t){return!t||!X9(t)?{...e,output_parsed:null,output:e.output.map(n=>n.type==="function_call"?{...n,parsed_arguments:null}:n.type==="message"?{...n,content:n.content.map(r=>({...r,parsed:null}))}:n)}:IO(e,t)}function IO(e,t){const n=e.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:eH(t,s)};if(s.type==="message"){const a=s.content.map(o=>o.type==="output_text"?{...o,parsed:Y9(t,o.text)}:o);return{...s,content:a}}return s}),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||Sy(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const s of r.output)if(s.type==="message"){for(const a of s.content)if(a.type==="output_text"&&a.parsed!==null)return a.parsed}return null}}),r}function Y9(e,t){var n,r,s,a;return((r=(n=e.text)==null?void 0:n.format)==null?void 0:r.type)!=="json_schema"?null:"$parseRaw"in((s=e.text)==null?void 0:s.format)?((a=e.text)==null?void 0:a.format).$parseRaw(t):JSON.parse(t)}function X9(e){var t;return!!Nx((t=e.text)==null?void 0:t.format)}function Z9(e){return(e==null?void 0:e.$brand)==="auto-parseable-tool"}function J9(e,t){return e.find(n=>n.type==="function"&&n.name===t)}function eH(e,t){const n=J9(e.tools??[],t.name);return{...t,...t,parsed_arguments:Z9(n)?n.$parseRaw(t.arguments):n!=null&&n.strict?JSON.parse(t.arguments):null}}function Sy(e){const t=[];for(const n of e.output)if(n.type==="message")for(const r of n.content)r.type==="output_text"&&t.push(r.text);e.output_text=t.join("")}var Ii,od,Ms,ld,Qb,Kb,Gb,Yb;class Bx extends jx{constructor(t){super(),Ii.add(this),od.set(this,void 0),Ms.set(this,void 0),ld.set(this,void 0),_e(this,od,t)}static createResponse(t,n,r){const s=new Bx(n);return s._run(()=>s._createOrRetrieveResponse(t,n,{...r,headers:{...r==null?void 0:r.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createOrRetrieveResponse(t,n,r){var l;const s=r==null?void 0:r.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),D(this,Ii,"m",Qb).call(this);let a,o=null;"response_id"in n?(a=await t.responses.retrieve(n.response_id,{stream:!0},{...r,signal:this.controller.signal,stream:!0}),o=n.starting_after??null):a=await t.responses.create({...n,stream:!0},{...r,signal:this.controller.signal}),this._connected();for await(const c of a)D(this,Ii,"m",Kb).call(this,c,o);if((l=a.controller.signal)!=null&&l.aborted)throw new sr;return D(this,Ii,"m",Gb).call(this)}[(od=new WeakMap,Ms=new WeakMap,ld=new WeakMap,Ii=new WeakSet,Qb=function(){this.ended||_e(this,Ms,void 0)},Kb=function(n,r){if(this.ended)return;const s=(o,l)=>{(r==null||l.sequence_number>r)&&this._emit(o,l)},a=D(this,Ii,"m",Yb).call(this,n);switch(s("event",n),n.type){case"response.output_text.delta":{const o=a.output[n.output_index];if(!o)throw new ge(`missing output at index ${n.output_index}`);if(o.type==="message"){const l=o.content[n.content_index];if(!l)throw new ge(`missing content at index ${n.content_index}`);if(l.type!=="output_text")throw new ge(`expected content to be 'output_text', got ${l.type}`);s("response.output_text.delta",{...n,snapshot:l.text})}break}case"response.function_call_arguments.delta":{const o=a.output[n.output_index];if(!o)throw new ge(`missing output at index ${n.output_index}`);o.type==="function_call"&&s("response.function_call_arguments.delta",{...n,snapshot:o.arguments});break}default:s(n.type,n);break}},Gb=function(){if(this.ended)throw new ge("stream has ended, this shouldn't happen");const n=D(this,Ms,"f");if(!n)throw new ge("request ended without sending any events");_e(this,Ms,void 0);const r=tH(n,D(this,od,"f"));return _e(this,ld,r),r},Yb=function(n){var s;let r=D(this,Ms,"f");if(!r){if(n.type!=="response.created")throw new ge(`When snapshot hasn't been set yet, expected 'response.created' event, got ${n.type}`);return r=_e(this,Ms,n.response),r}switch(n.type){case"response.output_item.added":{r.output.push(n.item);break}case"response.content_part.added":{const a=r.output[n.output_index];if(!a)throw new ge(`missing output at index ${n.output_index}`);const o=a.type,l=n.part;o==="message"&&l.type!=="reasoning_text"?a.content.push(l):o==="reasoning"&&l.type==="reasoning_text"&&(a.content||(a.content=[]),a.content.push(l));break}case"response.output_text.delta":{const a=r.output[n.output_index];if(!a)throw new ge(`missing output at index ${n.output_index}`);if(a.type==="message"){const o=a.content[n.content_index];if(!o)throw new ge(`missing content at index ${n.content_index}`);if(o.type!=="output_text")throw new ge(`expected content to be 'output_text', got ${o.type}`);o.text+=n.delta}break}case"response.function_call_arguments.delta":{const a=r.output[n.output_index];if(!a)throw new ge(`missing output at index ${n.output_index}`);a.type==="function_call"&&(a.arguments+=n.delta);break}case"response.reasoning_text.delta":{const a=r.output[n.output_index];if(!a)throw new ge(`missing output at index ${n.output_index}`);if(a.type==="reasoning"){const o=(s=a.content)==null?void 0:s[n.content_index];if(!o)throw new ge(`missing content at index ${n.content_index}`);if(o.type!=="reasoning_text")throw new ge(`expected content to be 'reasoning_text', got ${o.type}`);o.text+=n.delta}break}case"response.completed":{_e(this,Ms,n.response);break}}return r},Symbol.asyncIterator)](){const t=[],n=[];let r=!1;return this.on("event",s=>{const a=n.shift();a?a.resolve(s):t.push(s)}),this.on("end",()=>{r=!0;for(const s of n)s.resolve(void 0);n.length=0}),this.on("abort",s=>{r=!0;for(const a of n)a.reject(s);n.length=0}),this.on("error",s=>{r=!0;for(const a of n)a.reject(s);n.length=0}),{next:async()=>t.length?{value:t.shift(),done:!1}:r?{value:void 0,done:!0}:new Promise((a,o)=>n.push({resolve:a,reject:o})).then(a=>a?{value:a,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const t=D(this,ld,"f");if(!t)throw new ge("stream ended without producing a ChatCompletion");return t}}function tH(e,t){return G9(e,t)}class DO extends be{list(t,n={},r){return this._client.getAPIList(J`/responses/${t}/input_items`,Ct,{query:n,...r})}}class Vx extends be{constructor(){super(...arguments),this.inputItems=new DO(this._client)}create(t,n){return this._client.post("/responses",{body:t,...n,stream:t.stream??!1})._thenUnwrap(r=>("object"in r&&r.object==="response"&&Sy(r),r))}retrieve(t,n={},r){return this._client.get(J`/responses/${t}`,{query:n,...r,stream:(n==null?void 0:n.stream)??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&Sy(s),s))}delete(t,n){return this._client.delete(J`/responses/${t}`,{...n,headers:ye([{Accept:"*/*"},n==null?void 0:n.headers])})}parse(t,n){return this._client.responses.create(t,n)._thenUnwrap(r=>IO(r,t))}stream(t,n){return Bx.createResponse(this._client,t,n)}cancel(t,n){return this._client.post(J`/responses/${t}/cancel`,n)}}Vx.InputItems=DO;class FO extends be{create(t,n,r){return this._client.post(J`/uploads/${t}/parts`,xi({body:n,...r},this._client))}}class Ux extends be{constructor(){super(...arguments),this.parts=new FO(this._client)}create(t,n){return this._client.post("/uploads",{body:t,...n})}cancel(t,n){return this._client.post(J`/uploads/${t}/cancel`,n)}complete(t,n,r){return this._client.post(J`/uploads/${t}/complete`,{body:n,...r})}}Ux.Parts=FO;const nH=async e=>{const t=await Promise.allSettled(e),n=t.filter(s=>s.status==="rejected");if(n.length){for(const s of n)console.error(s.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const s of t)s.status==="fulfilled"&&r.push(s.value);return r};class LO extends be{create(t,n,r){return this._client.post(J`/vector_stores/${t}/file_batches`,{body:n,...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{vector_store_id:s}=n;return this._client.get(J`/vector_stores/${s}/file_batches/${t}`,{...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}cancel(t,n,r){const{vector_store_id:s}=n;return this._client.post(J`/vector_stores/${s}/file_batches/${t}/cancel`,{...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(t,n,r){const s=await this.create(t,n);return await this.poll(t,s.id,r)}listFiles(t,n,r){const{vector_store_id:s,...a}=n;return this._client.getAPIList(J`/vector_stores/${s}/file_batches/${t}/files`,Ct,{query:a,...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async poll(t,n,r){var a;const s=ye([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((a=r==null?void 0:r.pollIntervalMs)==null?void 0:a.toString())??void 0}]);for(;;){const{data:o,response:l}=await this.retrieve(n,{vector_store_id:t},{...r,headers:s}).withResponse();switch(o.status){case"in_progress":let c=5e3;if(r!=null&&r.pollIntervalMs)c=r.pollIntervalMs;else{const u=l.headers.get("openai-poll-after-ms");if(u){const d=parseInt(u);isNaN(d)||(c=d)}}await _u(c);break;case"failed":case"cancelled":case"completed":return o}}}async uploadAndPoll(t,{files:n,fileIds:r=[]},s){if(n==null||n.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const a=(s==null?void 0:s.maxConcurrency)??5,o=Math.min(a,n.length),l=this._client,c=n.values(),u=[...r];async function d(h){for(let p of h){const w=await l.files.create({file:p,purpose:"assistants"},s);u.push(w.id)}}const f=Array(o).fill(c).map(d);return await nH(f),await this.createAndPoll(t,{file_ids:u})}}class $O extends be{create(t,n,r){return this._client.post(J`/vector_stores/${t}/files`,{body:n,...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}retrieve(t,n,r){const{vector_store_id:s}=n;return this._client.get(J`/vector_stores/${s}/files/${t}`,{...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}update(t,n,r){const{vector_store_id:s,...a}=n;return this._client.post(J`/vector_stores/${s}/files/${t}`,{body:a,...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t,n={},r){return this._client.getAPIList(J`/vector_stores/${t}/files`,Ct,{query:n,...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}delete(t,n,r){const{vector_store_id:s}=n;return this._client.delete(J`/vector_stores/${s}/files/${t}`,{...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}async createAndPoll(t,n,r){const s=await this.create(t,n,r);return await this.poll(t,s.id,r)}async poll(t,n,r){var a;const s=ye([r==null?void 0:r.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":((a=r==null?void 0:r.pollIntervalMs)==null?void 0:a.toString())??void 0}]);for(;;){const o=await this.retrieve(n,{vector_store_id:t},{...r,headers:s}).withResponse(),l=o.data;switch(l.status){case"in_progress":let c=5e3;if(r!=null&&r.pollIntervalMs)c=r.pollIntervalMs;else{const u=o.response.headers.get("openai-poll-after-ms");if(u){const d=parseInt(u);isNaN(d)||(c=d)}}await _u(c);break;case"failed":case"completed":return l}}}async upload(t,n,r){const s=await this._client.files.create({file:n,purpose:"assistants"},r);return this.create(t,{file_id:s.id},r)}async uploadAndPoll(t,n,r){const s=await this.upload(t,n,r);return await this.poll(t,s.id,r)}content(t,n,r){const{vector_store_id:s}=n;return this._client.getAPIList(J`/vector_stores/${s}/files/${t}/content`,pm,{...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}class vm extends be{constructor(){super(...arguments),this.files=new $O(this._client),this.fileBatches=new LO(this._client)}create(t,n){return this._client.post("/vector_stores",{body:t,...n,headers:ye([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}retrieve(t,n){return this._client.get(J`/vector_stores/${t}`,{...n,headers:ye([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}update(t,n,r){return this._client.post(J`/vector_stores/${t}`,{body:n,...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}list(t={},n){return this._client.getAPIList("/vector_stores",Ct,{query:t,...n,headers:ye([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}delete(t,n){return this._client.delete(J`/vector_stores/${t}`,{...n,headers:ye([{"OpenAI-Beta":"assistants=v2"},n==null?void 0:n.headers])})}search(t,n,r){return this._client.getAPIList(J`/vector_stores/${t}/search`,pm,{body:n,method:"post",...r,headers:ye([{"OpenAI-Beta":"assistants=v2"},r==null?void 0:r.headers])})}}vm.Files=$O;vm.FileBatches=LO;var Vi,zO,Fd;class BO extends be{constructor(){super(...arguments),Vi.add(this)}async unwrap(t,n,r=this._client.webhookSecret,s=300){return await this.verifySignature(t,n,r,s),JSON.parse(t)}async verifySignature(t,n,r=this._client.webhookSecret,s=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");D(this,Vi,"m",zO).call(this,r);const a=ye([n]).values,o=D(this,Vi,"m",Fd).call(this,a,"webhook-signature"),l=D(this,Vi,"m",Fd).call(this,a,"webhook-timestamp"),c=D(this,Vi,"m",Fd).call(this,a,"webhook-id"),u=parseInt(l,10);if(isNaN(u))throw new Dl("Invalid webhook timestamp format");const d=Math.floor(Date.now()/1e3);if(d-u>s)throw new Dl("Webhook timestamp is too old");if(u>d+s)throw new Dl("Webhook timestamp is too new");const f=o.split(" ").map(y=>y.startsWith("v1,")?y.substring(3):y),h=r.startsWith("whsec_")?Buffer.from(r.replace("whsec_",""),"base64"):Buffer.from(r,"utf-8"),p=c?`${c}.${l}.${t}`:`${l}.${t}`,w=await crypto.subtle.importKey("raw",h,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const y of f)try{const b=Buffer.from(y,"base64");if(await crypto.subtle.verify("HMAC",w,b,new TextEncoder().encode(p)))return}catch{continue}throw new Dl("The given webhook signature does not match the expected signature")}}Vi=new WeakSet,zO=function(t){if(typeof t!="string"||t.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},Fd=function(t,n){if(!t)throw new Error("Headers are required");const r=t.get(n);if(r==null)throw new Error(`Missing required header: ${n}`);return r};var _y,Wx,Ld,VO;class Le{constructor({baseURL:t=Oi("OPENAI_BASE_URL"),apiKey:n=Oi("OPENAI_API_KEY"),organization:r=Oi("OPENAI_ORG_ID")??null,project:s=Oi("OPENAI_PROJECT_ID")??null,webhookSecret:a=Oi("OPENAI_WEBHOOK_SECRET")??null,...o}={}){if(_y.add(this),Ld.set(this,void 0),this.completions=new wO(this),this.chat=new Px(this),this.embeddings=new _O(this),this.files=new CO(this),this.images=new AO(this),this.audio=new Cu(this),this.moderations=new MO(this),this.models=new RO(this),this.fineTuning=new ul(this),this.graders=new $x(this),this.vectorStores=new vm(this),this.webhooks=new BO(this),this.beta=new ju(this),this.batches=new mO(this),this.uploads=new Ux(this),this.responses=new Vx(this),this.realtime=new zx(this),this.conversations=new Mx(this),this.evals=new Ix(this),this.containers=new Rx(this),n===void 0)throw new ge("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const l={apiKey:n,organization:r,project:s,webhookSecret:a,...o,baseURL:t||"https://api.openai.com/v1"};if(!l.dangerouslyAllowBrowser&&n9())throw new ge(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=l.baseURL,this.timeout=l.timeout??Wx.DEFAULT_TIMEOUT,this.logger=l.logger??console;const c="warn";this.logLevel=c,this.logLevel=Ob(l.logLevel,"ClientOptions.logLevel",this)??Ob(Oi("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??c,this.fetchOptions=l.fetchOptions,this.maxRetries=l.maxRetries??2,this.fetch=l.fetch??o9(),_e(this,Ld,c9),this._options=l,this.apiKey=typeof n=="string"?n:"Missing Key",this.organization=r,this.project=s,this.webhookSecret=a}withOptions(t){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...t})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){}async authHeaders(t){return ye([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(t){return p9(t,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${zi}`}defaultIdempotencyKey(){return`stainless-node-retry-${yM()}`}makeStatusError(t,n,r,s){return Gt.generate(t,n,r,s)}async _callApiKey(){const t=this._options.apiKey;if(typeof t!="function")return!1;let n;try{n=await t()}catch(r){throw r instanceof ge?r:new ge(`Failed to get token from 'apiKey' function: ${r.message}`,{cause:r})}if(typeof n!="string"||!n)throw new ge(`Expected 'apiKey' function argument to return a string but it returned ${n}`);return this.apiKey=n,!0}buildURL(t,n,r){const s=!D(this,_y,"m",VO).call(this)&&r||this.baseURL,a=XW(t)?new URL(t):new URL(s+(s.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),o=this.defaultQuery();return ZW(o)||(n={...o,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(t){await this._callApiKey()}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(s=>({method:t,path:n,...s})))}request(t,n=null){return new mm(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var x,g;const s=await t,a=s.maxRetries??this.maxRetries;n==null&&(n=a),await this.prepareOptions(s);const{req:o,url:l,timeout:c}=await this.buildRequest(s,{retryCount:a-n});await this.prepareRequest(o,{url:l,options:s});const u="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),d=r===void 0?"":`, retryOf: ${r}`,f=Date.now();if(Wt(this).debug(`[${u}] sending request`,Oa({retryOfRequestLogID:r,method:s.method,url:l,options:s,headers:o.headers})),(x=s.signal)!=null&&x.aborted)throw new sr;const h=new AbortController,p=await this.fetchWithTimeout(l,o,c,h).catch(fy),w=Date.now();if(p instanceof globalThis.Error){const v=`retrying, ${n} attempts remaining`;if((g=s.signal)!=null&&g.aborted)throw new sr;const S=dy(p)||/timed? ?out/i.test(String(p)+("cause"in p?String(p.cause):""));if(n)return Wt(this).info(`[${u}] connection ${S?"timed out":"failed"} - ${v}`),Wt(this).debug(`[${u}] connection ${S?"timed out":"failed"} (${v})`,Oa({retryOfRequestLogID:r,url:l,durationMs:w-f,message:p.message})),this.retryRequest(s,n,r??u);throw Wt(this).info(`[${u}] connection ${S?"timed out":"failed"} - error; no more retries left`),Wt(this).debug(`[${u}] connection ${S?"timed out":"failed"} (error; no more retries left)`,Oa({retryOfRequestLogID:r,url:l,durationMs:w-f,message:p.message})),S?new bx:new fm({cause:p})}const y=[...p.headers.entries()].filter(([v])=>v==="x-request-id").map(([v,S])=>", "+v+": "+JSON.stringify(S)).join(""),b=`[${u}${d}${y}] ${o.method} ${l} ${p.ok?"succeeded":"failed"} with status ${p.status} in ${w-f}ms`;if(!p.ok){const v=await this.shouldRetry(p);if(n&&v){const P=`retrying, ${n} attempts remaining`;return await l9(p.body),Wt(this).info(`${b} - ${P}`),Wt(this).debug(`[${u}] response error (${P})`,Oa({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,durationMs:w-f})),this.retryRequest(s,n,r??u,p.headers)}const S=v?"error; no more retries left":"error; not retryable";Wt(this).info(`${b} - ${S}`);const _=await p.text().catch(P=>fy(P).message),j=t9(_),N=j?void 0:_;throw Wt(this).debug(`[${u}] response error (${S})`,Oa({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,message:N,durationMs:Date.now()-f})),this.makeStatusError(p.status,j,N,p.headers)}return Wt(this).info(b),Wt(this).debug(`[${u}] response start`,Oa({retryOfRequestLogID:r,url:p.url,status:p.status,headers:p.headers,durationMs:w-f})),{response:p,options:s,controller:h,requestLogID:u,retryOfRequestLogID:r,startTime:f}}getAPIList(t,n,r){return this.requestAPIList(n,{method:"get",path:t,...r})}requestAPIList(t,n){const r=this.makeRequest(n,null,void 0);return new N9(this,r,t)}async fetchWithTimeout(t,n,r,s){const{signal:a,method:o,...l}=n||{};a&&a.addEventListener("abort",()=>s.abort());const c=setTimeout(()=>s.abort(),r),u=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,d={signal:s.signal,...u?{duplex:"half"}:{},method:"GET",...l};o&&(d.method=o.toUpperCase());try{return await this.fetch.call(void 0,t,d)}finally{clearTimeout(c)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,s){let a;const o=s==null?void 0:s.get("retry-after-ms");if(o){const c=parseFloat(o);Number.isNaN(c)||(a=c)}const l=s==null?void 0:s.get("retry-after");if(l&&!a){const c=parseFloat(l);Number.isNaN(c)?a=Date.parse(l)-Date.now():a=c*1e3}if(!(a&&0<=a&&a<60*1e3)){const c=t.maxRetries??this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,c)}return await _u(a),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const a=n-t,o=Math.min(.5*Math.pow(2,a),8),l=1-Math.random()*.25;return o*l*1e3}async buildRequest(t,{retryCount:n=0}={}){const r={...t},{method:s,path:a,query:o,defaultBaseURL:l}=r,c=this.buildURL(a,o,l);"timeout"in r&&e9("timeout",r.timeout),r.timeout=r.timeout??this.timeout;const{bodyHeaders:u,body:d}=this.buildBody({options:r}),f=await this.buildHeaders({options:t,method:s,bodyHeaders:u,retryCount:n});return{req:{method:s,headers:f,...r.signal&&{signal:r.signal},...globalThis.ReadableStream&&d instanceof globalThis.ReadableStream&&{duplex:"half"},...d&&{body:d},...this.fetchOptions??{},...r.fetchOptions??{}},url:c,timeout:r.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:s}){let a={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);const o=ye([a,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s),...t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{},...i9(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(t),this._options.defaultHeaders,r,t.headers]);return this.validateHeaders(o),o.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=ye([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:TM(t)}:D(this,Ld,"f").call(this,{body:t,headers:r})}}Wx=Le,Ld=new WeakMap,_y=new WeakSet,VO=function(){return this.baseURL!=="https://api.openai.com/v1"};Le.OpenAI=Wx;Le.DEFAULT_TIMEOUT=6e5;Le.OpenAIError=ge;Le.APIError=Gt;Le.APIConnectionError=fm;Le.APIConnectionTimeoutError=bx;Le.APIUserAbortError=sr;Le.NotFoundError=bM;Le.ConflictError=SM;Le.RateLimitError=NM;Le.BadRequestError=vM;Le.AuthenticationError=xM;Le.InternalServerError=CM;Le.PermissionDeniedError=wM;Le.UnprocessableEntityError=_M;Le.InvalidWebhookSignatureError=Dl;Le.toFile=A9;Le.Completions=wO;Le.Chat=Px;Le.Embeddings=_O;Le.Files=CO;Le.Images=AO;Le.Audio=Cu;Le.Moderations=MO;Le.Models=RO;Le.FineTuning=ul;Le.Graders=$x;Le.VectorStores=vm;Le.Webhooks=BO;Le.Beta=ju;Le.Batches=mO;Le.Uploads=Ux;Le.Responses=Vx;Le.Realtime=zx;Le.Conversations=Mx;Le.Evals=Ix;Le.Containers=Rx;new Le({apiKey:"",dangerouslyAllowBrowser:!0});function th({isOpen:e,onOpenChange:t,onAddBook:n,trigger:r}){const[s,a]=m.useState(!1),[o,l]=m.useState(""),[c,u]=m.useState(!1),d=es(),{toast:f}=ja(),h=e!==void 0?e:s,p=t||a,w=P6({resolver:M6(gM),defaultValues:{title:"",author:"",genre:"General Non-Fiction",topics:[],usefulness:"",totalPages:void 0,isCurrentlyReading:!1,currentPage:0,status:"toRead",priority:3,format:"paper",language:"English",progress:0},mode:"onBlur"}),y=St({mutationFn:async k=>{const R=await fetch("/api/books",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(!R.ok){const $=await R.json();throw new Error($.message||`HTTP error! status: ${R.status}`)}return R.json()},onSuccess:k=>{if(d.invalidateQueries({queryKey:["/api/books"]}),d.invalidateQueries({queryKey:["/api/books/currently-reading"]}),p(!1),w.reset(),u(!1),l(""),f({title:"Book added successfully",description:"The book has been added to your library"}),n){const R={title:k.title,author:k.author,genre:k.genre,status:k.status,priority:k.priority,format:k.format,language:k.language,progress:k.progress,topics:k.topics||[],usefulness:k.usefulness,totalPages:k.totalPages,currentPage:k.currentPage,isCurrentlyReading:k.isCurrentlyReading,tags:[]};n(R)}},onError:k=>{var $,C;console.error("Failed to create book:",k);const R=((C=($=k==null?void 0:k.response)==null?void 0:$.data)==null?void 0:C.message)||(k==null?void 0:k.message)||"Failed to add book. Please check your input and try again.";f({title:"Failed to add book",description:R,variant:"destructive"})}}),b=(k,R,$)=>{if(!k)return"";const C=`${R} ${$} ${k}`.toLowerCase(),W={"Learn to thrive in uncertainty and chaos, building systems that get stronger from stress and volatility rather than breaking down":["antifragile","uncertainty","chaos","volatility","resilience","robust","stress","shock"],"Improve decision-making and risk management by understanding probability, black swans, and how to make better choices under uncertainty":["decision","risk","probability","thinking","strategy","management","black swan","choice"],"Develop better mental models and frameworks for thinking clearly, avoiding cognitive biases, and making sense of complex situations":["mental models","frameworks","thinking","cognitive","psychology","mindset","biases","complexity"],"Build resilience and adaptability to bounce back from setbacks, embrace change, and grow stronger through challenges":["resilience","adaptability","flexibility","strength","endurance","toughness","setbacks","challenges"],"Enhance productivity and focus by achieving flow states, managing attention, and optimizing your mental performance for peak efficiency":["productivity","focus","concentration","efficiency","time management","flow","attention","performance"],"Improve leadership and communication skills to influence others, build better teams, and create meaningful impact in your work":["leadership","communication","influence","management","team","collaboration","impact","work"],"Master financial literacy and wealth building through smart investment strategies, understanding money, and building long-term prosperity":["finance","money","investment","wealth","economics","financial","prosperity","investment"],"Develop creativity and innovation by thinking differently, generating original ideas, and solving problems in unique ways":["creativity","innovation","design","art","imagination","originality","problems","solutions"],"Build better habits and systems that automate success, create consistency, and help you achieve your goals with less willpower":["habits","systems","routines","discipline","consistency","automation","goals","willpower"],"Understand human psychology and behavior to better navigate relationships, predict actions, and influence outcomes in your favor":["psychology","behavior","human nature","emotions","cognitive","mental","relationships","influence"],"Learn from history and avoid repeating mistakes by understanding patterns, cycles, and timeless principles that shape outcomes":["history","lessons","mistakes","patterns","wisdom","experience","cycles","principles"],"Develop critical thinking and analysis skills to evaluate information, spot logical fallacies, and make sound judgments in complex situations":["critical thinking","analysis","logic","reasoning","evaluation","assessment","fallacies","judgments"]};let z="",ee=0;if(Object.entries(W).forEach(([X,ce])=>{const ke=ce.filter(Ce=>C.includes(Ce)).length;ke>ee&&(ee=ke,z=X)}),z&&ee>0)return z;const M=["learn","improve","develop","build","enhance","master","understand","gain","acquire","strengthen","boost","increase","better","help","teach","show","reveal","explain","guide","enable","empower"],F=k.split(/[.!?]+/).filter(X=>X.trim().length>30);for(const X of F){const ce=X.toLowerCase();if(M.some(ke=>ce.includes(ke))){const ke=X.split(" "),Ce=ke.findIndex($e=>M.some(B=>$e.toLowerCase().includes(B)));if(Ce!==-1){const $e=ke.slice(Ce).join(" ");if($e.length>50)return $e.length>200?$e.substring(0,197)+"...":$e}}}const Q=["how to","ways to","steps to","secrets to","principles of","art of","science of"];for(const X of F){const ce=X.toLowerCase();for(const ke of Q)if(ce.includes(ke)){const Ce=ce.indexOf(ke),$e=X.substring(Ce);return $e.length>200?$e.substring(0,197)+"...":$e}}return""},x=k=>{var Q,X;const R=k.subjects||k.subject||[],$=k.description||"",C=k.title||"",W=((Q=k.authors)==null?void 0:Q[0])||((X=k.author_name)==null?void 0:X[0])||"",z=`${C} ${W} ${R.join(" ")} ${$}`.toLowerCase(),ee={Fiction:["fiction","novel","story","tale","narrative","literature","drama","romance","mystery","thriller","fantasy","science fiction","sci-fi","horror","adventure","classic","contemporary","literary","young adult","ya","children","kids"],"Personal Development":["personal development","self-help","self improvement","motivation","success","habits","productivity","time management","goal setting","mindset","growth","happiness","wellness","lifestyle","life skills","personal growth","flow"],"Business / Finance":["business","finance","money","investment","entrepreneurship","startup","management","leadership","marketing","sales","economics","trading","wealth","financial","corporate","strategy","consulting","accounting"],"Philosophy / Spirituality":["philosophy","spirituality","religion","meditation","mindfulness","zen","buddhism","christianity","islam","hinduism","theology","metaphysics","consciousness","enlightenment","wisdom","meaning","purpose","ethics"],"Psychology / Self-Improvement":["psychology","mental health","therapy","counseling","behavior","cognitive","neuroscience","brain","mind","emotions","relationships","communication","social","developmental","clinical","counseling","behavioral","flow","focus","attention","concentration","mental","psychological"],"History / Culture":["history","historical","culture","cultural","society","anthropology","archaeology","civilization","war","politics","government","social","tradition","heritage","biography","memoir","autobiography"],"Science / Technology":["science","technology","tech","engineering","mathematics","physics","chemistry","biology","medicine","health","computer","programming","artificial intelligence","ai","data","research","innovation"],"General Non-Fiction":["non-fiction","nonfiction","reference","education","academic","textbook","guide","manual","handbook","encyclopedia","dictionary","atlas"],"Biography/Memoir":["biography","memoir","autobiography","life story","personal story","journey","experience","testimony","recollection","chronicle"]},M={};Object.entries(ee).forEach(([ce,ke])=>{let Ce=0;ke.forEach($e=>{z.includes($e)&&(Ce+=1,(C.toLowerCase().includes($e)||W.toLowerCase().includes($e))&&(Ce+=2),R.some(B=>B.toLowerCase().includes($e))&&(Ce+=3))}),M[ce]=Ce});const F=Object.entries(M).reduce((ce,ke)=>M[ce[0]]>M[ke[0]]?ce:ke)[0];return M[F]>0?F:"General Non-Fiction"},[g,v]=m.useState(!1),S=k=>{const R=k.subjects||k.subject||[],$=k.description||"",W=`${k.title||""} ${R.join(" ")} ${$}`.toLowerCase(),z={"Flow State":["flow","focus","concentration","attention","mental state"],Psychology:["psychology","behavior","mind","emotions","mental","cognitive"],Productivity:["productivity","efficiency","time management","organization","planning"],Leadership:["leadership","management","team","influence","authority"],Business:["business","entrepreneurship","startup","strategy","marketing"],Technology:["technology","tech","digital","innovation","ai","programming"],Health:["health","fitness","wellness","nutrition","exercise"],Finance:["finance","money","investment","wealth","economics"],Creativity:["creativity","design","art","innovation","imagination"],Communication:["communication","speaking","writing","presentation"],Learning:["learning","education","teaching","knowledge","skill"]},ee=[];return Object.entries(z).forEach(([M,F])=>{F.filter(X=>W.includes(X)).length>=1&&ee.push(M)}),ee.length===0&&R.length>0?R.slice(0,3).map(M=>M.trim()):ee.slice(0,3)},_=async k=>(console.log("OpenAI API key not available, using fallback topic extraction"),S(k)),j=async k=>{var R,$;if(k&&!c){console.log("Auto-populated book details:",k);const C=k.title||"",W=((R=k.authors)==null?void 0:R[0])||(($=k.author_name)==null?void 0:$[0])||"",z=k.pageCount||k.number_of_pages_median||void 0,ee=k.description||"",M=k.publishYear||k.first_publish_year,F=x(k);console.log("AI categorization:",{smartGenre:F}),w.setValue("title",C),w.setValue("author",W),w.setValue("genre",F),w.setValue("totalPages",z);const Q=b(ee,C,W);w.setValue("usefulness",Q);try{console.log("Starting AI topic extraction for:",{title:C,author:W,subjects:k.subjects||k.subject});const X=await _(k);if(console.log("AI topic extraction completed:",X),X&&X.length>0)w.setValue("topics",X);else{console.log("No topics extracted, using fallback");const ce=S(k);w.setValue("topics",ce)}}catch(X){console.error("Failed to extract topics:",X);const ce=S(k);w.setValue("topics",ce)}M&&console.log("Publish year:",M),u(!0)}},N=k=>{const R=k.trim();if(R&&!w.getValues("topics").includes(R)){const $=w.getValues("topics");w.setValue("topics",[...$,R]),l("")}},E=k=>{const R=w.getValues("topics");w.setValue("topics",R.filter($=>$!==k))},P=k=>{k.key==="Enter"&&(k.preventDefault(),N(o))},I=async k=>{try{if(!k.title||!k.author){f({title:"Missing required fields",description:"Please enter both title and author",variant:"destructive"});return}const R={title:k.title.trim(),author:k.author.trim(),genre:k.genre,status:k.status,priority:k.priority,format:k.format,language:k.language||"English",progress:k.progress||0,topics:(k.topics||[]).filter($=>$.trim().length>0),usefulness:k.usefulness||null,totalPages:k.totalPages||null,currentPage:k.currentPage||0,isCurrentlyReading:k.isCurrentlyReading||!1,tags:[]};await y.mutateAsync(R)}catch(R){console.error("Failed to create book:",R),f({title:"Error",description:"An error occurred while adding the book",variant:"destructive"})}};return i.jsxs(i.Fragment,{children:[r&&i.jsx("div",{onClick:()=>p(!0),children:r}),i.jsx(yu,{open:h,onOpenChange:p,children:i.jsxs(sl,{className:"sm:max-w-[600px]",children:[i.jsxs(al,{children:[i.jsx(il,{children:"Add New Book"}),i.jsx(hA,{children:"Start typing a book title to search and auto-fill details, or enter manually."})]}),i.jsx(F6,{...w,children:i.jsxs("form",{onSubmit:w.handleSubmit(I),className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[i.jsx(Tn,{className:"col-span-2 text-sm",children:"Title"}),i.jsx("div",{className:"col-span-10",children:i.jsx(Gn,{control:w.control,name:"title",render:({field:k})=>i.jsxs(Pn,{children:[i.jsx(An,{children:i.jsx(R8,{value:k.value,onChange:k.onChange,onBookSelect:j,placeholder:"Start typing to search for books...","data-testid":"input-book-title"})}),i.jsx(Yn,{})]})})})]}),i.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[i.jsx(Tn,{className:"col-span-2 text-sm",children:"Author"}),i.jsx("div",{className:"col-span-4",children:i.jsx(Gn,{control:w.control,name:"author",render:({field:k})=>i.jsxs(Pn,{children:[i.jsx(An,{children:i.jsx(gt,{placeholder:"Enter author name",className:"h-8",...k,"data-testid":"input-book-author"})}),i.jsx(Yn,{})]})})}),i.jsx("div",{className:"col-span-1"}),i.jsx(Tn,{className:"col-span-1 text-sm",children:"Type"}),i.jsx("div",{className:"col-span-4",children:i.jsx(Gn,{control:w.control,name:"genre",render:({field:k})=>i.jsxs(Pn,{children:[i.jsx(An,{children:i.jsxs(la,{onValueChange:k.onChange,value:k.value,children:[i.jsx(vs,{"data-testid":"select-book-genre",className:"h-8",children:i.jsx(ca,{placeholder:"Select a type"})}),i.jsx(xs,{children:mM.map(R=>i.jsx(wn,{value:R,"data-testid":`option-genre-${R.toLowerCase().replace(/\s+/g,"-").replace(/\//g,"-")}`,children:R},R))})]})}),i.jsx(Yn,{})]})})})]}),i.jsxs("div",{className:"grid grid-cols-12 gap-2 items-start",children:[i.jsx(Tn,{className:"col-span-2 text-sm mt-2",children:"Topic"}),i.jsx("div",{className:"col-span-4",children:i.jsx(Gn,{control:w.control,name:"topics",render:({field:k})=>i.jsxs(Pn,{children:[i.jsx(An,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(gt,{value:o,onChange:R=>l(R.target.value),onKeyDown:P,placeholder:"Enter topics",className:"h-8","data-testid":"input-book-topics"}),g&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx("div",{className:"animate-spin h-3 w-3 border border-current border-t-transparent rounded-full"}),"AI is analyzing topics..."]}),k.value.length>0&&i.jsx("div",{className:"flex flex-wrap gap-1","data-testid":"topics-display",children:k.value.map((R,$)=>i.jsxs(Ee,{variant:"secondary",className:"text-xs","data-testid":`topic-badge-${$}`,children:[R,i.jsx("button",{type:"button",onClick:()=>E(R),className:"ml-1 hover:text-destructive","data-testid":`button-remove-topic-${$}`,children:i.jsx(_n,{className:"h-3 w-3"})})]},$))})]})}),i.jsx(Yn,{})]})})}),i.jsx("div",{className:"col-span-1"}),i.jsx(Tn,{className:"col-span-2 text-sm mt-2",children:"Status"}),i.jsx("div",{className:"col-span-3",children:i.jsx(Gn,{control:w.control,name:"status",render:({field:k})=>i.jsxs(Pn,{children:[i.jsx(An,{children:i.jsxs(la,{onValueChange:k.onChange,value:k.value,children:[i.jsx(vs,{"data-testid":"select-book-status",className:"h-8",children:i.jsx(ca,{placeholder:"Select status"})}),i.jsx(xs,{children:qf.map(R=>i.jsx(wn,{value:R,children:R==="toRead"?"To Read":R==="reading"?"Reading":R==="onHold"?"On Hold":R==="dnf"?"DNF":"Finished"},R))})]})}),i.jsx(Yn,{})]})})})]}),i.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[i.jsx(Tn,{className:"col-span-2 text-sm",children:"Priority"}),i.jsx("div",{className:"col-span-4",children:i.jsx(Gn,{control:w.control,name:"priority",render:({field:k})=>{const R=k.value||3,$=C=>{switch(C){case 1:return"bg-red-100 text-red-800 border-red-200";case 2:return"bg-orange-100 text-orange-800 border-orange-200";case 3:return"bg-yellow-100 text-yellow-800 border-yellow-200";case 4:return"bg-blue-100 text-blue-800 border-blue-200";case 5:return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return i.jsxs(Pn,{children:[i.jsx(An,{children:i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(q,{type:"button",variant:"outline",size:"sm",className:"h-6 w-6 p-0",onClick:()=>{const C=k.value||3;C>1&&k.onChange(C-1)},disabled:(k.value||3)<=1,"data-testid":"button-priority-decrease",children:i.jsx(ru,{className:"h-3 w-3"})}),i.jsx(gt,{type:"text",placeholder:"3",className:`text-center font-semibold text-xs w-8 h-6 px-1 ${$(R)}`,value:k.value||"",onChange:C=>{const W=C.target.value;if(W==="")k.onChange(void 0);else{const z=parseInt(W);!isNaN(z)&&z>=1&&z<=5&&k.onChange(z)}},onBlur:C=>{const W=C.target.value;(W===""||isNaN(parseInt(W)))&&k.onChange(3)},onKeyDown:C=>{C.key==="Backspace"||C.key==="Delete"||C.key==="ArrowLeft"||C.key==="ArrowRight"||C.key==="Tab"||C.key==="Enter"||C.key>="0"&&C.key<="9"||C.preventDefault()},"data-testid":"input-priority"}),i.jsx(q,{type:"button",variant:"outline",size:"sm",className:"h-6 w-6 p-0",onClick:()=>{const C=k.value||3;C<5&&k.onChange(C+1)},disabled:(k.value||3)>=5,"data-testid":"button-priority-increase",children:i.jsx(vE,{className:"h-3 w-3"})})]})}),i.jsx(Yn,{})]})}})}),i.jsx("div",{className:"col-span-1"}),i.jsx(Tn,{className:"col-span-2 text-sm",children:"Medium"}),i.jsx("div",{className:"col-span-3",children:i.jsx(Gn,{control:w.control,name:"format",render:({field:k})=>i.jsxs(Pn,{children:[i.jsx(An,{children:i.jsxs(la,{onValueChange:k.onChange,value:k.value,children:[i.jsx(vs,{"data-testid":"select-book-format",className:"h-8",children:i.jsx(ca,{placeholder:"Select medium"})}),i.jsx(xs,{children:pM.map(R=>i.jsx(wn,{value:R,children:R==="paper"?"Paper":R==="ebook"?"E-book":"Audiobook"},R))})]})}),i.jsx(Yn,{})]})})})]}),i.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[i.jsx(Tn,{className:"col-span-2 text-sm",children:"Language"}),i.jsx("div",{className:"col-span-4",children:i.jsx(Gn,{control:w.control,name:"language",render:({field:k})=>i.jsxs(Pn,{children:[i.jsx(An,{children:i.jsx(gt,{placeholder:"English",className:"h-8",...k,"data-testid":"input-language"})}),i.jsx(Yn,{})]})})}),i.jsx("div",{className:"col-span-6"})]}),i.jsxs("div",{className:"grid grid-cols-12 gap-2 items-start",children:[i.jsx(Tn,{className:"col-span-2 text-sm mt-2",children:"How It Might Help Me"}),i.jsx("div",{className:"col-span-10",children:i.jsx(Gn,{control:w.control,name:"usefulness",render:({field:k})=>i.jsxs(Pn,{children:[i.jsx(An,{children:i.jsx(gu,{placeholder:"e.g., Learning design principles, improving leadership skills...",...k,value:k.value||"",onChange:R=>k.onChange(R.target.value||null),"data-testid":"textarea-book-usefulness"})}),i.jsx(Yn,{})]})})})]}),i.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[i.jsx(Tn,{className:"col-span-2 text-sm",children:"Total Pages"}),i.jsx("div",{className:"col-span-4",children:i.jsx(Gn,{control:w.control,name:"totalPages",render:({field:k})=>i.jsxs(Pn,{children:[i.jsx(An,{children:i.jsx(gt,{type:"number",placeholder:"0",className:"h-8",...k,value:k.value||"",onChange:R=>{const $=R.target.value;k.onChange($?parseInt($):null)},"data-testid":"input-total-pages"})}),i.jsx(Yn,{})]})})}),i.jsx(Tn,{className:"col-span-2 text-sm",children:"Current Page"}),i.jsx("div",{className:"col-span-4",children:i.jsx(Gn,{control:w.control,name:"currentPage",render:({field:k})=>i.jsxs(Pn,{children:[i.jsx(An,{children:i.jsx(gt,{type:"number",placeholder:"0",className:"h-8",...k,value:k.value||0,onChange:R=>k.onChange(parseInt(R.target.value)||0),"data-testid":"input-current-page"})}),i.jsx(Yn,{})]})})})]}),i.jsx(Gn,{control:w.control,name:"isCurrentlyReading",render:({field:k})=>i.jsxs(Pn,{className:"flex flex-row items-center justify-between rounded-lg border p-3 space-y-0",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(Tn,{className:"text-base",children:"Currently Reading"}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Mark this book as one you're actively reading"})]}),i.jsx(An,{children:i.jsx("input",{type:"checkbox",checked:k.value||!1,onChange:R=>k.onChange(R.target.checked),className:"h-4 w-4","data-testid":"checkbox-currently-reading"})})]})}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx(q,{type:"button",variant:"outline",onClick:()=>p(!1),"data-testid":"button-cancel",children:"Cancel"}),i.jsx(q,{type:"submit",disabled:y.isPending,"data-testid":"button-add-book",children:y.isPending?"Adding...":"Add Book"})]})]})})]})})]})}function rH({children:e}){const[t,n]=m.useState(!1),[r,s]=m.useState(""),[a,o]=m.useState(""),{toast:l}=ja();m.useEffect(()=>{const p=setTimeout(()=>{o(r)},200);return()=>clearTimeout(p)},[r]);const{data:c,isLoading:u}=En({queryKey:["/api/books/search",a],queryFn:async()=>{if(!a||a.trim().length<1)return{books:[],total:0};const p=new URLSearchParams({q:a.trim()}),w=await fetch(`/api/books/search?${p}`);if(!w.ok)throw new Error("Failed to search books");return w.json()},enabled:a.trim().length>=1}),d=St({mutationFn:p=>er("POST","/api/books/add-from-search",{searchResult:p,format:"paper",status:"toRead",priority:2}),onSuccess:()=>{l({title:"Book added successfully",description:"The book has been added to your library"}),Hk.invalidateQueries({queryKey:["/api/books"]}),n(!1),s(""),o("")},onError:p=>{l({title:"Failed to add book",description:p.message||"An error occurred while adding the book",variant:"destructive"})}}),f=p=>{d.mutate(p)},h=()=>{s(""),o("")};return i.jsxs(yu,{open:t,onOpenChange:p=>{n(p),p||h()},children:[i.jsx(rm,{asChild:!0,children:e}),i.jsxs(sl,{className:"max-w-4xl max-h-[80vh] flex flex-col","data-testid":"dialog-book-search",children:[i.jsx(al,{children:i.jsxs(il,{className:"flex items-center gap-2",children:[i.jsx(uo,{className:"h-5 w-5"}),"Search Books"]})}),i.jsxs("div",{className:"space-y-4 flex-1 overflow-hidden",children:[i.jsxs("div",{className:"relative",children:[i.jsx(uo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(gt,{placeholder:"Search by title, author, or ISBN...",value:r,onChange:p=>s(p.target.value),className:"pl-10","data-testid":"input-book-search"})]}),i.jsx(ll,{className:"flex-1","data-testid":"scroll-search-results",children:i.jsxs("div",{className:"space-y-3 pr-4",children:[u&&i.jsx("div",{className:"space-y-3",children:[...Array(3)].map((p,w)=>i.jsx(ve,{children:i.jsx(we,{className:"p-4",children:i.jsxs("div",{className:"flex gap-4",children:[i.jsx(Da,{className:"w-16 h-20 rounded"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(Da,{className:"h-5 w-3/4"}),i.jsx(Da,{className:"h-4 w-1/2"}),i.jsx(Da,{className:"h-3 w-full"}),i.jsx(Da,{className:"h-3 w-2/3"})]})]})})},w))}),!u&&a.trim().length>=2&&(c==null?void 0:c.books.length)===0&&i.jsxs("div",{className:"text-center py-8 text-muted-foreground","data-testid":"text-no-results",children:[i.jsx(Ft,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsxs("p",{children:['No books found for "',a,'"']}),i.jsx("p",{className:"text-sm",children:"Try different keywords or check the spelling"})]}),!u&&a.trim().length<1&&i.jsxs("div",{className:"text-center py-8 text-muted-foreground","data-testid":"text-search-prompt",children:[i.jsx(uo,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Start typing to search for books"}),i.jsx("p",{className:"text-sm",children:"Search by title, author, or ISBN"})]}),c==null?void 0:c.books.map(p=>i.jsx(ve,{className:"hover:shadow-md transition-shadow","data-testid":`book-result-${p.googleId}`,children:i.jsx(we,{className:"p-4",children:i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"flex-shrink-0",children:p.thumbnail?i.jsx("img",{src:p.thumbnail,alt:p.title,className:"w-16 h-20 object-cover rounded border","data-testid":`img-book-cover-${p.googleId}`}):i.jsx("div",{className:"w-16 h-20 bg-muted rounded border flex items-center justify-center",children:i.jsx(Ft,{className:"h-6 w-6 text-muted-foreground"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[i.jsx("h3",{className:"font-semibold line-clamp-2 leading-5","data-testid":`text-book-title-${p.googleId}`,children:p.title}),i.jsxs(q,{size:"sm",onClick:()=>f(p),disabled:d.isPending,className:"flex-shrink-0","data-testid":`button-add-book-${p.googleId}`,children:[i.jsx(ir,{className:"h-4 w-4 mr-1"}),"Add"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[i.jsx(D$,{className:"h-3 w-3"}),i.jsx("span",{"data-testid":`text-book-authors-${p.googleId}`,children:p.authors.join(", ")})]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[p.publishedDate&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(_i,{className:"h-3 w-3"}),i.jsx("span",{children:p.publishedDate})]}),p.pageCount>0&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Ft,{className:"h-3 w-3"}),i.jsxs("span",{children:[p.pageCount," pages"]})]}),p.averageRating>0&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(A$,{className:"h-3 w-3"}),i.jsxs("span",{children:[p.averageRating,"/5 (",p.ratingsCount,")"]})]})]}),p.categories.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-1",children:[p.categories.slice(0,3).map((w,y)=>i.jsx(Ee,{variant:"outline",className:"text-xs","data-testid":`badge-category-${p.googleId}-${y}`,children:w},y)),p.categories.length>3&&i.jsxs(Ee,{variant:"outline",className:"text-xs",children:["+",p.categories.length-3," more"]})]}),p.description&&i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2","data-testid":`text-book-description-${p.googleId}`,children:p.description}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[p.publisher&&i.jsxs("span",{children:["Publisher: ",p.publisher]}),p.isbn&&i.jsxs("span",{children:["ISBN: ",p.isbn]})]})]})]})]})})},p.googleId))]})}),c&&c.total>0&&i.jsxs("div",{className:"text-sm text-muted-foreground text-center","data-testid":"text-results-summary",children:["Showing ",c.books.length," of ",c.total.toLocaleString()," results"]})]})]})]})}function sH({children:e}){const[t,n]=m.useState(!1),[r,s]=m.useState(!1),{toast:a}=ja(),[o,l]=m.useState({includeNotes:!0,includeProgress:!0,includeReadingSessions:!1,format:"csv",statusFilter:["toRead","reading","onHold","finished","dnf"]}),{data:c=[]}=En({queryKey:["/api/books"],queryFn:async()=>{const b=await fetch("/api/books");if(!b.ok)throw new Error("Failed to fetch books");return b.json()}}),u=c.filter(b=>o.statusFilter.includes(b.status)),d=async()=>{s(!0);try{o.format==="csv"?await f():await h(),a({title:"Export successful",description:`${u.length} books exported successfully`}),n(!1)}catch{a({title:"Export failed",description:"An error occurred while exporting your books",variant:"destructive"})}finally{s(!1)}},f=async()=>{const b=["Book Title","Author","Medium","Type","Topic","How It Might Help Me","Total Pages","Current Page","Date Added","Reading Start Date","Completion Date","Status","Priority",...o.includeNotes?["Notes"]:[]],x=u.map(v=>{var _,j,N;return[v.title||"",v.author||"",v.format||"",v.genre||"",(v.topics||[]).join("; "),v.usefulness||"",((_=v.totalPages)==null?void 0:_.toString())||"",((j=v.currentPage)==null?void 0:j.toString())||"",v.addedAt?new Date(v.addedAt).toISOString().split("T")[0]:"",v.startedAt?new Date(v.startedAt).toISOString().split("T")[0]:"",v.completedAt?new Date(v.completedAt).toISOString().split("T")[0]:"",v.status||"",((N=v.priority)==null?void 0:N.toString())||"",...o.includeNotes?[(v.notes||[]).join("; ")]:[]].map(E=>{const P=String(E);return P.includes(",")||P.includes('"')||P.includes(`
`)?`"${P.replace(/"/g,'""')}"`:P})}),g=[b,...x].map(v=>v.join(",")).join(`
`);p(g,"my-library.csv","text/csv")},h=async()=>{const b=u.map(g=>({title:g.title,author:g.author,genre:g.genre,status:g.status,priority:g.priority,format:g.format,totalPages:g.totalPages,currentPage:g.currentPage,progress:g.progress,language:g.language,addedAt:g.addedAt,startedAt:g.startedAt,completedAt:g.completedAt,lastReadAt:g.lastReadAt,...o.includeNotes&&{notes:g.notes}})),x=JSON.stringify({exportDate:new Date().toISOString(),totalBooks:b.length,books:b},null,2);p(x,"my-library.json","application/json")},p=(b,x,g)=>{const v=new Blob([b],{type:g}),S=URL.createObjectURL(v),_=document.createElement("a");_.href=S,_.download=x,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(S)},w=b=>{l(x=>({...x,statusFilter:x.statusFilter.includes(b)?x.statusFilter.filter(g=>g!==b):[...x.statusFilter,b]}))},y=[{value:"toRead",label:"To Read",count:c.filter(b=>b.status==="toRead").length},{value:"reading",label:"Currently Reading",count:c.filter(b=>b.status==="reading").length},{value:"onHold",label:"On Hold",count:c.filter(b=>b.status==="onHold").length},{value:"finished",label:"Finished",count:c.filter(b=>b.status==="finished").length},{value:"dnf",label:"Did Not Finish",count:c.filter(b=>b.status==="dnf").length}];return i.jsxs(yu,{open:t,onOpenChange:n,children:[i.jsx(rm,{asChild:!0,children:e}),i.jsxs(sl,{className:"max-w-2xl","data-testid":"dialog-export",children:[i.jsx(al,{children:i.jsxs(il,{className:"flex items-center gap-2",children:[i.jsx(gf,{className:"h-5 w-5"}),"Export Library"]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(ve,{children:[i.jsx(et,{children:i.jsxs(tt,{className:"text-base flex items-center gap-2",children:[i.jsx(su,{className:"h-4 w-4"}),"Export Summary"]})}),i.jsx(we,{children:i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Total books:"}),i.jsx("span",{className:"ml-2 font-medium",children:c.length})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Selected:"}),i.jsx("span",{className:"ml-2 font-medium",children:u.length})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Format:"}),i.jsx("span",{className:"ml-2 font-medium",children:o.format.toUpperCase()})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Size:"}),i.jsxs("span",{className:"ml-2 font-medium",children:[o.format==="csv"?"~"+Math.round(u.length*.5):"~"+Math.round(u.length*1.2)," KB"]})]})]})})]}),i.jsxs("div",{children:[i.jsx(Oe,{className:"text-base font-medium",children:"Export Format"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[i.jsx(q,{variant:o.format==="csv"?"default":"outline",onClick:()=>l(b=>({...b,format:"csv"})),"data-testid":"button-format-csv",children:"CSV (Spreadsheet)"}),i.jsx(q,{variant:o.format==="json"?"default":"outline",onClick:()=>l(b=>({...b,format:"json"})),"data-testid":"button-format-json",children:"JSON (Structured)"})]})]}),i.jsxs("div",{children:[i.jsx(Oe,{className:"text-base font-medium",children:"Book Status Filter"}),i.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:y.map(b=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ys,{id:`status-${b.value}`,checked:o.statusFilter.includes(b.value),onCheckedChange:()=>w(b.value),"data-testid":`checkbox-status-${b.value}`}),i.jsxs(Oe,{htmlFor:`status-${b.value}`,className:"text-sm",children:[b.label," (",b.count,")"]})]},b.value))})]}),i.jsxs("div",{children:[i.jsx(Oe,{className:"text-base font-medium",children:"Include Additional Data"}),i.jsxs("div",{className:"space-y-2 mt-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ys,{id:"include-notes",checked:o.includeNotes,onCheckedChange:b=>l(x=>({...x,includeNotes:!!b})),"data-testid":"checkbox-include-notes"}),i.jsx(Oe,{htmlFor:"include-notes",className:"text-sm",children:"Book notes and highlights"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ys,{id:"include-progress",checked:o.includeProgress,onCheckedChange:b=>l(x=>({...x,includeProgress:!!b})),"data-testid":"checkbox-include-progress"}),i.jsx(Oe,{htmlFor:"include-progress",className:"text-sm",children:"Reading progress and dates"})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(q,{variant:"outline",onClick:()=>n(!1),"data-testid":"button-cancel-export",children:"Cancel"}),i.jsx(q,{onClick:d,disabled:r||u.length===0,"data-testid":"button-export-download",children:r?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin mr-2 h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),"Exporting..."]}):i.jsxs(i.Fragment,{children:[i.jsx(gf,{className:"h-4 w-4 mr-2"}),"Export ",u.length," Books"]})})]})]})]})]})}const aH=`Book Title,Author,Medium,Type,Topic,How It Might Help Me,Total Pages,Current Page,Date Added,Reading Start Date,Completion Date,Status,Priority
"Clean Code","Robert C. Martin","paper","Programming","programming;clean-code","Writing better code",464,0,2024-01-15,2024-01-20,2024-02-15,finished,4
"The Design of Everyday Things","Don Norman","paper","Design","design;ux;psychology","Learning UX principles",368,0,2024-01-10,,,toRead,3`;function iH({children:e}){const[t,n]=m.useState(!1),[r,s]=m.useState(null),[a,o]=m.useState(!1),[l,c]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState({skipDuplicates:!0,updateExisting:!1,preserveProgress:!0}),{toast:p}=ja(),w=es(),y=j=>{const N=j.split(`
`).filter(I=>I.trim());if(N.length<2)return[];const E=N[0].split(",").map(I=>I.trim().replace(/"/g,"")),P=[];for(let I=1;I<N.length;I++){const k=[];let R="",$=!1;for(let W=0;W<N[I].length;W++){const z=N[I][W];z==='"'?$=!$:z===","&&!$?(k.push(R.trim()),R=""):R+=z}k.push(R.trim());const C={};E.forEach((W,z)=>{const M=(k[z]||"").replace(/^"|"$/g,"").replace(/""/g,'"');switch(W.toLowerCase()){case"book title":case"title":C.title=M;break;case"author":C.author=M;break;case"medium":case"format":C.format=M||"paper";break;case"type":case"genre":C.genre=M||"General Non-Fiction";break;case"topic":case"topics":C.topics=M?M.split(";").map(Q=>Q.trim()).filter(Boolean):[];break;case"how it might help me":case"usefulness":C.usefulness=M;break;case"date added":case"addedat":break;case"reading start date":case"startedat":C.startedAt=M?new Date(M).toISOString():void 0;break;case"completion date":case"completedat":C.completedAt=M?new Date(M).toISOString():void 0;break;case"status":C.status=M||"toRead";break;case"priority":C.priority=parseInt(M)||3;break;case"total pages":case"totalpages":C.totalPages=parseInt(M)||0;break;case"is currently reading":case"iscurrentlyreading":C.isCurrentlyReading=M.toLowerCase()==="true";break;case"current page":case"currentpage":C.currentPage=parseInt(M)||0;break;case"progress":const F=M.replace("%","");C.progress=parseFloat(F)/100||0;break;case"language":C.language=M||"English";break;case"tags":C.tags=M?M.split(";").map(Q=>Q.trim()).filter(Boolean):[];break;case"notes":C.notes=M?M.split(";").map(Q=>Q.trim()).filter(Boolean):[];break}}),C.title&&C.author&&P.push(C)}return P},b=j=>{try{const N=JSON.parse(j);return Array.isArray(N)?N:N.books&&Array.isArray(N.books)?N.books:[]}catch{return[]}},x=async j=>{var E;const N=(E=j.target.files)==null?void 0:E[0];if(N){s(N),d(null);try{const P=await N.text();let I=[];N.name.endsWith(".csv")?I=y(P):N.name.endsWith(".json")&&(I=b(P)),c(I.slice(0,5))}catch{p({title:"File parsing failed",description:"Unable to read the selected file",variant:"destructive"}),s(null),c(null)}}},g=St({mutationFn:async j=>(await er("POST","/api/books/import",{books:j,options:f})).json(),onSuccess:j=>{d(j),w.invalidateQueries({queryKey:["/api/books"]}),j.success?p({title:"Import successful",description:`${j.imported} books imported successfully`}):p({title:"Import completed with errors",description:`${j.imported} books imported, ${j.errors.length} errors`,variant:"destructive"})},onError:()=>{p({title:"Import failed",description:"An error occurred during import",variant:"destructive"})}}),v=async()=>{if(!(!r||!l)){o(!0);try{const j=await r.text();let N=[];r.name.endsWith(".csv")?N=y(j):r.name.endsWith(".json")&&(N=b(j)),await g.mutateAsync(N)}catch(j){console.error("Import error:",j)}finally{o(!1)}}},S=()=>{const j=new Blob([aH],{type:"text/csv"}),N=URL.createObjectURL(j),E=document.createElement("a");E.href=N,E.download="book-import-template.csv",document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(N),p({title:"Template downloaded",description:"CSV template saved to your downloads"})},_=()=>{s(null),c(null),d(null),o(!1)};return i.jsxs(yu,{open:t,onOpenChange:j=>{n(j),j||_()},children:[i.jsx(rm,{asChild:!0,children:e}),i.jsxs(sl,{className:"max-w-3xl max-h-[80vh] overflow-y-auto","data-testid":"dialog-import",children:[i.jsx(al,{children:i.jsxs(il,{className:"flex items-center gap-2",children:[i.jsx(Vg,{className:"h-5 w-5"}),"Import Books"]})}),i.jsxs("div",{className:"space-y-6",children:[!r&&i.jsxs("div",{children:[i.jsx(Oe,{htmlFor:"file-upload",className:"text-base font-medium",children:"Select File"}),i.jsx("div",{className:"mt-2",children:i.jsx("input",{id:"file-upload",type:"file",accept:".csv,.json",onChange:x,className:"block w-full text-sm text-muted-foreground file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-primary file:text-primary-foreground hover:file:bg-primary/90","data-testid":"input-file-upload"})}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Supported formats: CSV, JSON"}),i.jsxs("div",{className:"mt-3",children:[i.jsxs(q,{variant:"outline",size:"sm",onClick:S,"data-testid":"button-download-template",children:[i.jsx(gf,{className:"h-4 w-4 mr-2"}),"Download CSV Template"]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Use the template to format your CSV file correctly"})]})]}),r&&l&&!u&&i.jsxs(i.Fragment,{children:[i.jsxs(ve,{children:[i.jsx(et,{children:i.jsxs(tt,{className:"text-base flex items-center justify-between",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(su,{className:"h-4 w-4"}),r.name]}),i.jsx(q,{variant:"ghost",size:"sm",onClick:_,"data-testid":"button-clear-file",children:i.jsx(_n,{className:"h-4 w-4"})})]})}),i.jsx(we,{children:i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Size:"}),i.jsxs("span",{className:"ml-2 font-medium",children:[(r.size/1024).toFixed(1)," KB"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Type:"}),i.jsx("span",{className:"ml-2 font-medium",children:r.type||"text/plain"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Books found:"}),i.jsx("span",{className:"ml-2 font-medium",children:l.length})]})]})})]}),i.jsxs("div",{children:[i.jsx(Oe,{className:"text-base font-medium",children:"Preview (First 5 Books)"}),i.jsx("div",{className:"mt-2 space-y-2",children:l.slice(0,5).map((j,N)=>i.jsx(ve,{className:"bg-muted/30",children:i.jsx(we,{className:"p-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:j.title}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["by ",j.author," • ",j.genre]})]}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(Ee,{variant:"outline",children:j.status}),i.jsx(Ee,{variant:"outline",children:j.format})]})]})})},N))})]}),i.jsxs("div",{children:[i.jsx(Oe,{className:"text-base font-medium",children:"Import Options"}),i.jsxs("div",{className:"space-y-2 mt-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ys,{id:"skip-duplicates",checked:f.skipDuplicates,onCheckedChange:j=>h(N=>({...N,skipDuplicates:!!j})),"data-testid":"checkbox-skip-duplicates"}),i.jsx(Oe,{htmlFor:"skip-duplicates",className:"text-sm",children:"Skip duplicate books (same title + author)"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ys,{id:"update-existing",checked:f.updateExisting,onCheckedChange:j=>h(N=>({...N,updateExisting:!!j})),"data-testid":"checkbox-update-existing"}),i.jsx(Oe,{htmlFor:"update-existing",className:"text-sm",children:"Update existing books with new data"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ys,{id:"preserve-progress",checked:f.preserveProgress,onCheckedChange:j=>h(N=>({...N,preserveProgress:!!j})),"data-testid":"checkbox-preserve-progress"}),i.jsx(Oe,{htmlFor:"preserve-progress",className:"text-sm",children:"Preserve existing reading progress"})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(q,{variant:"outline",onClick:_,"data-testid":"button-cancel-import",children:"Cancel"}),i.jsx(q,{onClick:v,disabled:a||l.length===0,"data-testid":"button-start-import",children:a?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin mr-2 h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),"Importing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Vg,{className:"h-4 w-4 mr-2"}),"Import ",l.length," Books"]})})]})]}),u&&i.jsxs(ve,{children:[i.jsx(et,{children:i.jsxs(tt,{className:"text-base flex items-center gap-2",children:[u.success?i.jsx(mf,{className:"h-5 w-5 text-green-500"}):i.jsx(xE,{className:"h-5 w-5 text-yellow-500"}),"Import Results"]})}),i.jsxs(we,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Successfully imported:"}),i.jsx("span",{className:"ml-2 font-medium text-green-600",children:u.imported})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Duplicates skipped:"}),i.jsx("span",{className:"ml-2 font-medium text-blue-600",children:u.duplicates||0})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Errors:"}),i.jsx("span",{className:"ml-2 font-medium text-red-600",children:u.errors.length})]})]}),u.errors.length>0&&i.jsxs("div",{children:[i.jsx(Oe,{className:"text-sm font-medium text-red-600",children:"Errors:"}),i.jsxs("div",{className:"mt-1 text-xs space-y-1",children:[u.errors.slice(0,5).map((j,N)=>i.jsx("div",{className:"text-red-600 bg-red-50 p-2 rounded",children:j},N)),u.errors.length>5&&i.jsxs("div",{className:"text-muted-foreground",children:["... and ",u.errors.length-5," more errors"]})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(q,{onClick:()=>n(!1),"data-testid":"button-close-results",children:"Close"})})]})]})]})]})]})}const cd={toRead:{label:"To-Read",color:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"},reading:{label:"Reading",color:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},onHold:{label:"On-Hold",color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"},dnf:{label:"DNF",color:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"},finished:{label:"Finished",color:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"}},oH=[{value:"priority",label:"Priority"},{value:"addedAt",label:"Recently Added"},{value:"title",label:"Title"},{value:"author",label:"Author"},{value:"lastReadAt",label:"Last Read"},{value:"progress",label:"Progress"}];function lH(){const[e,t]=Ek(),n=es(),{toast:r}=ja(),[s,a]=m.useState(!1),[o,l]=m.useState(new Set),[c,u]=m.useState(null),[d,f]=m.useState(!1),[h,p]=m.useState(""),[w,y]=m.useState(""),b=m.useMemo(()=>new URLSearchParams(e.split("?")[1]||""),[e]),x=m.useMemo(()=>{var B,V,ae;return{search:w||"",statuses:((B=b.get("statuses"))==null?void 0:B.split(",").filter(Boolean))||[],genres:((V=b.get("genres"))==null?void 0:V.split(",").filter(Boolean))||[],tags:((ae=b.get("tags"))==null?void 0:ae.split(",").filter(Boolean))||[],sort:b.get("sort")||"priority",sortOrder:b.get("sortOrder")||"desc",view:b.get("view")||localStorage.getItem("library-view")||"grid"}},[b,w]),g=m.useCallback(B=>{const V=new URLSearchParams(b);Object.entries(B).forEach(([ae,je])=>{je!=null&&(Array.isArray(je)?je.length>0?V.set(ae,je.join(",")):V.delete(ae):je===""||ae==="search"&&!je?V.delete(ae):V.set(ae,String(je)))}),B.view&&localStorage.setItem("library-view",B.view),t("?"+V.toString())},[b,t]);m.useEffect(()=>{const B=setTimeout(()=>{y(h)},250);return()=>clearTimeout(B)},[h]),m.useEffect(()=>{h!==(b.get("search")||"")&&g({search:w})},[w,g,b]);const{data:v=[],isLoading:S,error:_}=En({queryKey:["/api/books",x],queryFn:async()=>{const B=new URLSearchParams;return x.search&&B.set("search",x.search),x.statuses.length&&B.set("statuses",x.statuses.join(",")),x.genres.length&&B.set("genres",x.genres.join(",")),x.tags.length&&B.set("tags",x.tags.join(",")),x.sort&&B.set("sort",x.sort),x.sortOrder&&B.set("sortOrder",x.sortOrder),(await er("GET",`/api/books?${B.toString()}`)).json()}});m.useMemo(()=>{const B=new Set;return v.forEach(V=>{(V.tags||[]).forEach(ae=>B.add(ae))}),Array.from(B).sort()},[v]),St({mutationFn:async B=>(await er("POST","/api/books",B)).json(),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/books"]}),r({title:"Book added to library"})}});const j=St({mutationFn:async({id:B,updates:V})=>(await er("PATCH",`/api/books/${B}`,V)).json(),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/books"]})}}),N=St({mutationFn:async B=>(await er("DELETE",`/api/books/${B}`)).ok,onSuccess:()=>{n.invalidateQueries({queryKey:["/api/books"]}),r({title:"Book deleted"})}}),E=St({mutationFn:async({ids:B,status:V})=>(await er("POST","/api/books/bulk/status",{ids:B,status:V})).json(),onSuccess:(B,V)=>{var ae;n.invalidateQueries({queryKey:["/api/books"]}),r({title:`${V.ids.length} books moved to ${(ae=cd[V.status])==null?void 0:ae.label}`,action:i.jsx(q,{variant:"outline",size:"sm",onClick:()=>window.history.back(),children:"Undo"})})}}),P=St({mutationFn:async({ids:B,tags:V})=>(await er("POST","/api/books/bulk/tags",{ids:B,tags:V})).json(),onSuccess:(B,V)=>{n.invalidateQueries({queryKey:["/api/books"]}),r({title:`Tags added to ${V.ids.length} books`})}}),I=St({mutationFn:async B=>(await er("DELETE","/api/books/bulk",{ids:B})).ok,onSuccess:(B,V)=>{n.invalidateQueries({queryKey:["/api/books"]}),l(new Set),a(!1),r({title:`${V.length} books deleted`,action:i.jsx(q,{variant:"outline",size:"sm",onClick:()=>window.history.back(),children:"Undo"})})}}),k=async B=>{console.log("Book added successfully:",B),n.invalidateQueries({queryKey:["/api/books"]})},R=async B=>{try{await j.mutateAsync({id:B,updates:{status:"reading",lastReadAt:new Date().toISOString()}}),r({title:"Started reading"})}catch(V){console.error("Failed to start reading:",V)}},$=async B=>{try{await j.mutateAsync({id:B,updates:{lastReadAt:new Date().toISOString()}}),r({title:"Reading session updated"})}catch(V){console.error("Failed to update reading:",V)}},C=async B=>{try{await N.mutateAsync(B)}catch(V){console.error("Failed to delete book:",V)}},W=B=>{console.log("View details for book:",B)},z=async(B,V)=>{try{await j.mutateAsync({id:B,updates:{status:V,lastReadAt:V==="reading"?new Date().toISOString():void 0}}),r({title:`Status changed to ${V}`})}catch(ae){console.error("Failed to change status:",ae),r({title:"Failed to change status",variant:"destructive"})}},ee=B=>{console.log("Edit book:",B),r({title:"Edit functionality coming soon"})},M=B=>{const V=x.statuses.includes(B)?x.statuses.filter(ae=>ae!==B):[...x.statuses,B];g({statuses:V})},F=()=>{p(""),g({search:"",statuses:[],genres:[],tags:[],sort:"priority",sortOrder:"desc"})},Q=B=>{const V=new Set(o);V.has(B)?V.delete(B):V.add(B),l(V)},X=()=>{l(new Set(v.map(B=>B.id)))},ce=()=>{l(new Set),a(!1)},ke=async B=>{const V=Array.from(o);try{await E.mutateAsync({ids:V,status:B}),ce()}catch(ae){console.error("Failed to update book statuses:",ae),r({title:"Failed to update books",variant:"destructive"})}},Ce=async B=>{const V=Array.from(o);try{await P.mutateAsync({ids:V,tags:B}),ce()}catch(ae){console.error("Failed to add tags:",ae),r({title:"Failed to add tags",variant:"destructive"})}},$e=async()=>{const B=Array.from(o);try{await I.mutateAsync(B)}catch(V){console.error("Failed to delete books:",V),r({title:"Failed to delete books",variant:"destructive"})}};return m.useEffect(()=>{const B=V=>{if(V.target.tagName!=="INPUT")switch(V.key){case"/":V.preventDefault(),c==null||c.focus();break;case"f":V.preventDefault();break;case"v":V.preventDefault(),g({view:x.view==="grid"?"list":"grid"});break;case"Escape":V.preventDefault(),s?ce():h&&p("");break}};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[c,x.view,g,s,h,ce]),m.useEffect(()=>{const B=b.get("search")||"";B!==h&&p(B)},[b]),i.jsxs("div",{className:"space-y-6","data-testid":"page-library",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-serif font-semibold",children:"My Library"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:S?"Loading...":`${v.length} books in your collection`})]}),i.jsxs("div",{className:"flex gap-2 flex-wrap",children:[i.jsx(rH,{children:i.jsxs(q,{"data-testid":"button-search-books",children:[i.jsx(uo,{className:"h-4 w-4 mr-2"}),"Search Books"]})}),i.jsx(iH,{children:i.jsxs(q,{variant:"outline","data-testid":"button-import-books",children:[i.jsx(Vg,{className:"h-4 w-4 mr-2"}),"Import"]})}),i.jsx(sH,{children:i.jsxs(q,{variant:"outline","data-testid":"button-export-books",children:[i.jsx(gf,{className:"h-4 w-4 mr-2"}),"Export"]})}),i.jsxs(q,{onClick:()=>f(!0),"data-testid":"button-add-book",children:[i.jsx(ir,{className:"h-4 w-4 mr-2"}),"Add Book"]})]})]}),i.jsx(th,{isOpen:d,onOpenChange:f,onAddBook:k}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-4 items-center flex-wrap",children:[i.jsxs("div",{className:"relative flex-1 max-w-md",children:[i.jsx(uo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(gt,{ref:u,placeholder:"Search books, authors, or tags... (Press / to focus)",value:h,onChange:B=>p(B.target.value),className:"pl-10","data-testid":"input-search-books"})]}),i.jsxs(la,{value:x.sort,onValueChange:B=>g({sort:B}),children:[i.jsxs(vs,{className:"w-48","data-testid":"select-sort",children:[i.jsx(ru,{className:"mr-2 h-4 w-4"}),i.jsx(ca,{})]}),i.jsx(xs,{children:oH.map(B=>i.jsxs(wn,{value:B.value,children:[B.label,x.sortOrder==="asc"&&x.sort===B.value&&" ↑",x.sortOrder==="desc"&&x.sort===B.value&&" ↓"]},B.value))})]}),i.jsxs("div",{className:"flex border rounded-md",children:[i.jsx(q,{variant:x.view==="grid"?"default":"ghost",size:"sm",onClick:()=>g({view:"grid"}),"data-testid":"button-view-grid",children:i.jsx(w$,{className:"h-4 w-4"})}),i.jsx(q,{variant:x.view==="list"?"default":"ghost",size:"sm",onClick:()=>g({view:"list"}),"data-testid":"button-view-list",children:i.jsx(N$,{className:"h-4 w-4"})})]}),i.jsxs(q,{variant:s?"default":"outline",size:"sm",onClick:()=>a(!s),"data-testid":"button-bulk-select",children:[s?i.jsx(Ph,{className:"h-4 w-4 mr-2"}):i.jsx(wE,{className:"h-4 w-4 mr-2"}),"Bulk Select"]})]}),i.jsxs("div",{className:"flex gap-2 flex-wrap items-center",children:[i.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"Status:"}),qf.map(B=>{const V=x.statuses.includes(B),ae=v.filter(je=>je.status===B).length;return i.jsxs(Ee,{variant:V?"default":"outline",className:`cursor-pointer hover-elevate ${V?cd[B].color:""}`,onClick:()=>M(B),"data-testid":`chip-status-${B}`,children:[cd[B].label,ae>0&&i.jsxs("span",{className:"ml-1",children:["(",ae,")"]})]},B)}),(x.statuses.length>0||x.search||x.genres.length>0||x.tags.length>0)&&i.jsxs(q,{variant:"ghost",size:"sm",onClick:F,className:"text-muted-foreground","data-testid":"button-clear-filters",children:[i.jsx(_n,{className:"h-4 w-4 mr-1"}),"Clear all"]})]})]}),s&&o.size>0&&i.jsx("div",{className:"bg-muted/50 rounded-lg p-4 border border-dashed",children:i.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("span",{className:"font-medium",children:[o.size," books selected"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(q,{size:"sm",onClick:X,children:"Select All"}),i.jsx(q,{size:"sm",variant:"outline",onClick:ce,children:"Clear"})]})]}),i.jsxs("div",{className:"flex gap-2 flex-wrap",children:[qf.map(B=>i.jsxs(q,{size:"sm",variant:"outline",onClick:()=>ke(B),"data-testid":`button-bulk-status-${B}`,children:["Move to ",cd[B].label]},B)),i.jsxs(q,{size:"sm",variant:"outline",onClick:()=>Ce(["urgent"]),"data-testid":"button-bulk-add-tag",children:[i.jsx(M$,{className:"h-4 w-4 mr-1"}),"Add Tag"]}),i.jsxs(q,{size:"sm",variant:"destructive",onClick:$e,"data-testid":"button-bulk-delete",children:[i.jsx(zo,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})}),S?i.jsxs("div",{className:"flex items-center justify-center py-12",children:[i.jsx($g,{className:"h-8 w-8 animate-spin text-muted-foreground"}),i.jsx("span",{className:"ml-2 text-muted-foreground",children:"Loading your library..."})]}):_?i.jsx("div",{className:"text-center py-12",children:i.jsx("div",{className:"text-muted-foreground",children:"Failed to load books. Please try refreshing the page."})}):v.length===0?i.jsxs("div",{className:"text-center py-12 space-y-4",children:[i.jsx("div",{className:"text-muted-foreground text-lg",children:"Welcome to your personal library!"}),i.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[i.jsx("div",{className:"flex gap-2 justify-center",children:i.jsx(th,{onAddBook:k,trigger:i.jsxs(q,{size:"lg","data-testid":"button-add-first-book",children:[i.jsx(ir,{className:"h-4 w-4 mr-2"}),"Add Your First Book"]})})}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Start building your reading collection. Scan ISBN codes, search by title/author, or bulk import your existing books."})]})]}):i.jsx("div",{className:x.view==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4","data-testid":`${x.view}-books`,children:v.map(B=>i.jsx(l6,{...B,topics:B.topics||[],tags:B.tags||[],isSelected:o.has(B.id),showSelection:s,viewMode:x.view,onSelect:()=>Q(B.id),onStartReading:R,onContinueReading:$,onViewDetails:W,onDelete:C,onEdit:ee,onStatusChange:z},B.id))}),i.jsxs("div",{className:"text-xs text-muted-foreground text-center space-x-4",children:[i.jsxs("span",{children:["Press ",i.jsx("kbd",{className:"px-1 py-0.5 bg-muted rounded text-xs",children:"⌘/"})," to search"]}),i.jsxs("span",{children:[i.jsx("kbd",{className:"px-1 py-0.5 bg-muted rounded text-xs",children:"V"})," to toggle view"]}),i.jsxs("span",{children:[i.jsx("kbd",{className:"px-1 py-0.5 bg-muted rounded text-xs",children:"Esc"})," to clear"]})]})]})}function cH(e,t){return En({queryKey:["bookSessions",e,t],queryFn:async()=>{const n=new URLSearchParams;t!=null&&t.state&&n.append("state",t.state),t!=null&&t.sessionType&&n.append("sessionType",t.sessionType),t!=null&&t.limit&&n.append("limit",t.limit.toString()),t!=null&&t.startDate&&n.append("startDate",t.startDate),t!=null&&t.endDate&&n.append("endDate",t.endDate);const r=`/api/books/${e}/sessions?${n.toString()}`;console.log("Fetching book sessions from:",r);const s=await fetch(r);if(!s.ok)throw new Error("Failed to fetch book sessions");const a=await s.json();return console.log("Book sessions response:",a),a.map(o=>({...o,startedAt:new Date(o.startedAt),sessionDate:new Date(o.sessionDate),pausedAt:o.pausedAt?new Date(o.pausedAt):null,resumedAt:o.resumedAt?new Date(o.resumedAt):null,endedAt:o.endedAt?new Date(o.endedAt):null}))},enabled:!!e})}const nh=e=>{if(!e.totalPages||e.totalPages===0)return 0;const t=e.currentPage||0;return Math.round(t/e.totalPages*100)},uH=({books:e,activeId:t,onSwitch:n,onAdd:r})=>i.jsxs("div",{className:"flex items-center space-x-1 bg-muted rounded-lg p-1",children:[e.map(s=>{const a=t===s.id,o=nh(s);return i.jsx(q,{variant:a?"default":"ghost",size:"sm",className:te("h-10 px-3 flex-1 justify-start min-w-0",a&&"shadow-sm"),onClick:()=>n(s),"aria-pressed":a,"data-testid":`pill-book-${s.id}`,children:i.jsxs("div",{className:"flex items-center space-x-2 min-w-0 flex-1",children:[i.jsx("div",{className:"w-6 h-8 bg-background rounded flex items-center justify-center flex-shrink-0",children:s.coverUrl?i.jsx("img",{src:s.coverUrl,alt:s.title,className:"w-full h-full object-cover rounded"}):i.jsx(Ft,{className:"h-3 w-3 text-muted-foreground"})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"text-xs font-medium truncate",children:s.title}),i.jsx("div",{className:"w-full bg-muted-foreground/20 rounded-full h-1 mt-1",children:i.jsx("div",{className:"bg-current h-1 rounded-full transition-all",style:{width:`${o}%`}})})]})]})},s.id)}),i.jsx(q,{variant:"ghost",size:"sm",className:"h-10 w-10 p-0 flex-shrink-0",onClick:r,"data-testid":"pill-add-book",children:i.jsx(ir,{className:"h-4 w-4"})})]}),dH=({books:e,activeId:t,onSwitch:n,onAdd:r})=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ll,{className:"flex-1",children:i.jsx("div",{className:"flex space-x-2 pb-1",children:e.map(s=>{const a=t===s.id,o=nh(s);return i.jsx(ve,{className:te("cursor-pointer transition-all hover:shadow-sm min-w-[100px]",a?"ring-2 ring-primary bg-primary/5":"hover:bg-muted/50"),onClick:()=>n(s),"data-testid":`chip-book-${s.id}`,children:i.jsx(we,{className:"p-2",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-6 h-8 bg-muted rounded flex items-center justify-center flex-shrink-0",children:s.coverUrl?i.jsx("img",{src:s.coverUrl,alt:s.title,className:"w-full h-full object-cover rounded"}):i.jsx(Ft,{className:"h-3 w-3 text-muted-foreground"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-xs font-medium truncate",children:s.title}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[o,"%"]})]})]})})},s.id)})})}),i.jsx(q,{variant:"outline",size:"sm",className:"h-10 w-10 p-0 flex-shrink-0",onClick:r,"data-testid":"chip-add-book",children:i.jsx(ir,{className:"h-4 w-4"})})]}),fH=({books:e,activeId:t,onSwitch:n,onAdd:r})=>{const[s,a]=m.useState(!1),o=e.find(c=>c.id===t),l=o?nh(o):0;return i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ve,{className:"flex-1 cursor-pointer hover:shadow-sm",children:i.jsx(we,{className:"p-2",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-6 h-8 bg-muted rounded flex items-center justify-center flex-shrink-0",children:o!=null&&o.coverUrl?i.jsx("img",{src:o.coverUrl,alt:o.title,className:"w-full h-full object-cover rounded"}):i.jsx(Ft,{className:"h-3 w-3 text-muted-foreground"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-sm font-medium truncate",children:(o==null?void 0:o.title)||"Select a book"}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[l,"% complete"]})]}),i.jsx(ru,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"})]})})}),i.jsx(q,{variant:"outline",size:"sm",className:"h-10 w-10 p-0 flex-shrink-0",onClick:r,"data-testid":"sheet-add-book",children:i.jsx(ir,{className:"h-4 w-4"})}),i.jsxs(Kh,{open:s,onOpenChange:a,children:[i.jsx(e5,{asChild:!0,children:i.jsx("div",{className:"absolute inset-0"})}),i.jsxs(cu,{side:"bottom",className:"h-[400px]",children:[i.jsx(uu,{children:i.jsxs(du,{children:["Switch Book (",e.length," active)"]})}),i.jsx(ll,{className:"mt-4",children:i.jsx("div",{className:"space-y-2",children:e.map(c=>{const u=t===c.id,d=nh(c);return i.jsx(ve,{className:te("cursor-pointer transition-all hover:shadow-sm",u&&"ring-2 ring-primary bg-primary/5"),onClick:()=>{n(c),a(!1)},"data-testid":`sheet-book-${c.id}`,children:i.jsx(we,{className:"p-3",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-12 bg-muted rounded flex items-center justify-center flex-shrink-0",children:c.coverUrl?i.jsx("img",{src:c.coverUrl,alt:c.title,className:"w-full h-full object-cover rounded"}):i.jsx(Ft,{className:"h-5 w-5 text-muted-foreground"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium truncate",children:c.title}),i.jsxs("div",{className:"text-sm text-muted-foreground truncate",children:["by ",c.author]}),i.jsxs("div",{className:"flex items-center justify-between mt-1",children:[i.jsxs("span",{className:"text-xs text-muted-foreground",children:[d,"% complete"]}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:[c.currentPage||0,"/",c.totalPages||"?"," pages"]})]})]})]})})},c.id)})})})]})]})]})},hH=({books:e,activeId:t,onSwitch:n,onAdd:r})=>e.length<=3?i.jsx(uH,{books:e,activeId:t,onSwitch:n,onAdd:r}):e.length<=5?i.jsx(dH,{books:e,activeId:t,onSwitch:n,onAdd:r}):i.jsx(fH,{books:e,activeId:t,onSwitch:n,onAdd:r});function mH(e){const t=es(),[n,r]=m.useState(null),{data:s,isLoading:a,refetch:o}=En({queryKey:["activeSession",e],queryFn:async()=>{const b=await fetch(`/api/books/${e}/active-session`);if(!b.ok){if(b.status===404)return null;throw new Error("Failed to fetch active session")}const x=await b.json();return x?{...x,startedAt:new Date(x.startedAt),sessionDate:new Date(x.sessionDate),pausedAt:x.pausedAt?new Date(x.pausedAt):null,resumedAt:x.resumedAt?new Date(x.resumedAt):null,endedAt:x.endedAt?new Date(x.endedAt):null}:null},enabled:!!e}),l=St({mutationFn:async b=>{const x=await fetch("/api/sessions/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!x.ok){const v=await x.json();throw new Error(v.error||"Failed to start session")}const g=await x.json();return{...g,startedAt:new Date(g.startedAt),sessionDate:new Date(g.sessionDate),pausedAt:g.pausedAt?new Date(g.pausedAt):null,resumedAt:g.resumedAt?new Date(g.resumedAt):null,endedAt:g.endedAt?new Date(g.endedAt):null}},onSuccess:()=>{t.invalidateQueries({queryKey:["activeSession",e]}),t.invalidateQueries({queryKey:["books",e]}),t.invalidateQueries({queryKey:["sessions",e]}),r(null)},onError:b=>{r(b.message||"Failed to start session")}}),c=St({mutationFn:async({sessionId:b,reason:x})=>{const g=await fetch(`/api/sessions/${b}/pause`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:x})});if(!g.ok){const S=await g.json();throw new Error(S.error||"Failed to pause session")}const v=await g.json();return{...v,startedAt:new Date(v.startedAt),sessionDate:new Date(v.sessionDate),pausedAt:v.pausedAt?new Date(v.pausedAt):null,resumedAt:v.resumedAt?new Date(v.resumedAt):null,endedAt:v.endedAt?new Date(v.endedAt):null}},onSuccess:()=>{t.invalidateQueries({queryKey:["activeSession",e]}),t.invalidateQueries({queryKey:["sessions",e]}),r(null)},onError:b=>{r(b.message||"Failed to pause session")}}),u=St({mutationFn:async b=>{const x=await fetch(`/api/sessions/${b}/resume`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!x.ok){const v=await x.json();throw new Error(v.error||"Failed to resume session")}const g=await x.json();return{...g,startedAt:new Date(g.startedAt),sessionDate:new Date(g.sessionDate),pausedAt:g.pausedAt?new Date(g.pausedAt):null,resumedAt:g.resumedAt?new Date(g.resumedAt):null,endedAt:g.endedAt?new Date(g.endedAt):null}},onSuccess:()=>{t.invalidateQueries({queryKey:["activeSession",e]}),t.invalidateQueries({queryKey:["sessions",e]}),r(null)},onError:b=>{r(b.message||"Failed to resume session")}}),d=St({mutationFn:async b=>{const x=await fetch(`/api/sessions/${b.sessionId}/stop`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!x.ok){const v=await x.json();throw new Error(v.error||"Failed to stop session")}const g=await x.json();return{...g,startedAt:new Date(g.startedAt),sessionDate:new Date(g.sessionDate),pausedAt:g.pausedAt?new Date(g.pausedAt):null,resumedAt:g.resumedAt?new Date(g.resumedAt):null,endedAt:g.endedAt?new Date(g.endedAt):null}},onSuccess:()=>{t.invalidateQueries({queryKey:["activeSession",e]}),t.invalidateQueries({queryKey:["books",e]}),t.invalidateQueries({queryKey:["sessions",e]}),r(null)},onError:b=>{r(b.message||"Failed to stop session")}}),f=St({mutationFn:async b=>{const x=await fetch("/api/sessions/quick-add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!x.ok){const v=await x.json();throw new Error(v.error||"Failed to add pages")}const g=await x.json();return{...g,startedAt:new Date(g.startedAt),sessionDate:new Date(g.sessionDate),pausedAt:g.pausedAt?new Date(g.pausedAt):null,resumedAt:g.resumedAt?new Date(g.resumedAt):null,endedAt:g.endedAt?new Date(g.endedAt):null}},onSuccess:()=>{t.invalidateQueries({queryKey:["activeSession",e]}),t.invalidateQueries({queryKey:["books",e]}),t.invalidateQueries({queryKey:["sessions",e]}),r(null)},onError:b=>{r(b.message||"Failed to add pages")}}),h=async b=>{try{const x=await fetch(`/api/books/${b}/sessions?limit=1`);if(!x.ok)return null;const v=(await x.json())[0];return(v==null?void 0:v.endPage)||null}catch{return null}},p=(b,x)=>b+x,w={startSession:l.mutateAsync,pauseSession:(b,x)=>c.mutateAsync({sessionId:b,reason:x}),resumeSession:u.mutateAsync,stopSession:d.mutateAsync,quickAddPages:f.mutateAsync,getLastEndPage:h,calculateEndPage:p},y=a||l.isPending||c.isPending||u.isPending||d.isPending||f.isPending;return{activeSession:s||null,isLoading:y,error:n,actions:w,refreshActiveSession:o}}function pH(e){const t=m.useRef(null),[n,r]=m.useState(()=>{if((e==null?void 0:e.state)==="active"){const f=e.startedAt,h=e.pausedAt,p=e.resumedAt;let w=0;const y=new Date;if(h&&!p)w=Math.floor((h.getTime()-f.getTime())/1e3);else if(p){const b=p.getTime()-((h==null?void 0:h.getTime())||0);w=Math.floor((y.getTime()-f.getTime()-b)/1e3)}else w=Math.floor((y.getTime()-f.getTime())/1e3);return{elapsed:Math.max(0,w),isRunning:!0,isPaused:!1,startTime:f,pausedAt:null}}if((e==null?void 0:e.state)==="paused"){const f=e.startedAt,h=e.pausedAt;let p=0;return h&&(p=Math.floor((h.getTime()-f.getTime())/1e3)),{elapsed:Math.max(0,p),isRunning:!1,isPaused:!0,startTime:f,pausedAt:h}}return{elapsed:0,isRunning:!1,isPaused:!1,startTime:null,pausedAt:null}});m.useEffect(()=>(n.isRunning&&!n.isPaused?t.current=setInterval(()=>{r(f=>({...f,elapsed:f.elapsed+1}))},1e3):t.current&&(clearInterval(t.current),t.current=null),()=>{t.current&&(clearInterval(t.current),t.current=null)}),[n.isRunning,n.isPaused]);const s=m.useCallback(()=>{r({elapsed:0,isRunning:!0,isPaused:!1,startTime:new Date,pausedAt:null})},[]),a=m.useCallback(()=>{r(f=>({...f,isRunning:!1,isPaused:!0,pausedAt:new Date}))},[]),o=m.useCallback(()=>{r(f=>({...f,isRunning:!0,isPaused:!1,pausedAt:null}))},[]),l=m.useCallback(()=>{r(f=>({...f,isRunning:!1,isPaused:!1}))},[]),c=m.useCallback(()=>{r({elapsed:0,isRunning:!1,isPaused:!1,startTime:null,pausedAt:null})},[]),u=m.useCallback(()=>{const f=Math.floor(n.elapsed/3600),h=Math.floor(n.elapsed%3600/60),p=n.elapsed%60;return f>0?`${f}:${h.toString().padStart(2,"0")}:${p.toString().padStart(2,"0")}`:`${h}:${p.toString().padStart(2,"0")}`},[n.elapsed]),d=m.useCallback(()=>Math.floor(n.elapsed/60),[n.elapsed]);return{timer:n,startTimer:s,pauseTimer:a,resumeTimer:o,stopTimer:l,resetTimer:c,getFormattedTime:u,getTotalMinutes:d}}function gH({book:e,activeSession:t,onSessionUpdate:n}){const r=es(),{toast:s}=ja(),{actions:a,isLoading:o}=mH(e.id),{timer:l,startTimer:c,pauseTimer:u,resumeTimer:d,stopTimer:f,getFormattedTime:h}=pH(t),[p,w]=m.useState(!1),[y,b]=m.useState(0),[x,g]=m.useState(!1),v=m.useRef(null),[S,_]=m.useState(null),[j,N]=m.useState(!1),[E,P]=m.useState(!1),[I,k]=m.useState(""),[R,$]=m.useState(""),[C,W]=m.useState(""),[z,ee]=m.useState(""),M=e.totalPages&&e.currentPage?Math.round(e.currentPage/e.totalPages*100):0,F=t&&t.state==="active",Q=t&&t.state==="paused",X=S!==null,ce=m.useCallback(Pe=>{const Or=Number(Pe.target.value);b(Or)},[]),ke=m.useCallback(Pe=>{Number(Pe.target.value)<((t==null?void 0:t.startPage)||0)&&b((t==null?void 0:t.startPage)||0)},[t==null?void 0:t.startPage]),Ce=async()=>{try{const Pe=await a.startSession({bookId:e.id,startPage:e.currentPage??0});c(),n==null||n(),s({title:"Session started",description:`Started reading at page ${Pe.startPage}`})}catch(Pe){console.error("Failed to start session:",Pe),s({title:"Error",description:"Failed to start session",variant:"destructive"})}},$e=async()=>{try{await a.pauseSession(t.id),u(),n==null||n()}catch(Pe){console.error("Failed to pause session:",Pe)}},B=async()=>{try{await a.resumeSession(t.id),d(),n==null||n()}catch(Pe){console.error("Failed to resume session:",Pe)}},V=()=>{u(),w(!0);const Pe=(t==null?void 0:t.startPage)??0;b(Pe),setTimeout(()=>{v.current&&(v.current.focus(),v.current.select())},100)},ae=async()=>{if(t){g(!0);try{await fetch(`/api/books/${e.id}/progress`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPage:y})}),await a.stopSession({sessionId:t.id,endPage:y}),f(),w(!1);const Pe=y-(t.startPage||0),Or=h();_({pagesRead:Pe,duration:Or,startPage:t.startPage||0,endPage:y}),r.setQueryData(["/api/books/currently-reading"],Kn=>Kn&&Kn.map(Pu=>Pu.id===e.id?{...Pu,currentPage:y}:Pu)),r.setQueryData(["/api/books",e.id,"active-session"],null),r.invalidateQueries({queryKey:["/api/books",e.id,"sessions"]}),n==null||n()}catch(Pe){console.error("Failed to save session:",Pe),s({title:"Error",description:"Failed to save session",variant:"destructive"})}finally{g(!1)}}},je=()=>{F&&d(),w(!1)},Ve=()=>{_(null)},Ue=()=>{k(""),W(""),N(!0)},qe=()=>{$(""),ee(""),P(!0)},zt=()=>{I.trim()&&(s({title:"Note Added",description:`Note saved for ${e.title}`}),N(!1),k(""),W(""))},rn=()=>{R.trim()&&(s({title:"Quote Added",description:`Quote saved for ${e.title}`}),P(!1),$(""),ee(""))},rs=()=>{const Pe=prompt("Add bookmark at page:");Pe&&!isNaN(Number(Pe))?s({title:"Bookmark Added",description:`Bookmark saved at page ${Pe}`}):Pe&&s({title:"Invalid Page",description:"Please enter a valid page number",variant:"destructive"})},Mr=()=>{if(t){const Pe=t.duration||0,Or=Math.floor(Pe/60),Kn=Pe%60;s({title:"Current Session Timer",description:`Duration: ${Or}:${Kn.toString().padStart(2,"0")}`})}else Ce()};return i.jsxs(ve,{className:"w-full",children:[i.jsx(et,{className:"pb-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx(tt,{className:"text-xl font-bold",children:e.title}),i.jsxs("p",{className:"text-muted-foreground",children:["by ",e.author]})]}),F&&i.jsx(Ee,{variant:"default",className:"bg-green-500",children:"Reading session active"}),Q&&i.jsx(Ee,{variant:"secondary",children:"Session paused"}),p&&i.jsx(Ee,{variant:"outline",children:"Finalizing session"}),X&&i.jsx(Ee,{variant:"default",className:"bg-blue-500",children:"Session completed"})]})}),i.jsxs(we,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Reading Progress"}),i.jsxs("span",{children:[e.currentPage," of ",e.totalPages||"?"," pages (",M,"%)"]})]}),i.jsx(ga,{value:M,className:"h-2"})]}),t&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[i.jsx("span",{children:"Session Time"}),i.jsxs("span",{children:["Started ",t.startedAt.toLocaleTimeString()]})]}),i.jsx("div",{className:"text-3xl font-mono font-bold text-center",children:h()})]}),X?i.jsxs("div",{className:"space-y-4 p-4 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"font-medium text-lg text-blue-900 dark:text-blue-100",children:"Session Completed!"}),i.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:"Great job on your reading session"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:S.pagesRead}),i.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Pages Read"})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:S.duration}),i.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Duration"})]})]}),i.jsx("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:i.jsxs("p",{children:["Started at page ",S.startPage," → Ended at page ",S.endPage]})}),i.jsx(q,{onClick:Ve,className:"w-full",size:"lg",children:"Done"})]}):p?i.jsxs("div",{className:"space-y-4 p-4 bg-muted/50 rounded-lg border",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"font-medium text-sm",children:"Finalize Session"}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Started reading at ",(t==null?void 0:t.startPage)||0," pages"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Oe,{htmlFor:"endPage",children:"End Page (absolute page number)"}),i.jsx(gt,{ref:v,id:"endPage",type:"number",value:y,onChange:ce,onBlur:ke,min:(t==null?void 0:t.startPage)||0,max:e.totalPages||void 0,inputMode:"numeric",pattern:"[0-9]*",autoComplete:"off",autoFocus:p},"endPage-input"),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Pages read: ",y-((t==null?void 0:t.startPage)||0)]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(q,{onClick:je,variant:"outline",className:"flex-1",disabled:x,children:"Cancel"}),i.jsx(q,{onClick:ae,className:"flex-1",disabled:x||y<((t==null?void 0:t.startPage)||0),children:x?"Saving...":"Save Session"})]})]}):i.jsx("div",{className:"flex gap-2",children:t?i.jsxs(i.Fragment,{children:[F?i.jsxs(q,{onClick:$e,variant:"outline",className:"flex-1",size:"lg",children:[i.jsx(P$,{className:"w-4 h-4 mr-2"}),"Pause"]}):i.jsxs(q,{onClick:B,className:"flex-1",size:"lg",children:[i.jsx(zg,{className:"w-4 h-4 mr-2"}),"Resume"]}),i.jsxs(q,{onClick:V,variant:"destructive",className:"flex-1",size:"lg",children:[i.jsx(wE,{className:"w-4 h-4 mr-2"}),"Stop"]})]}):i.jsxs(q,{onClick:Ce,disabled:o,className:"flex-1",size:"lg",children:[i.jsx(zg,{className:"w-4 h-4 mr-2"}),"Start Reading"]})}),i.jsxs("div",{className:"flex justify-center gap-2 pt-2",children:[i.jsx(q,{variant:"outline",size:"sm",onClick:Ue,className:"h-9 w-9 p-0","aria-label":"Add Note",children:i.jsx(Bg,{className:"w-4 h-4"})}),i.jsx(q,{variant:"outline",size:"sm",onClick:qe,className:"h-9 w-9 p-0","aria-label":"Add Quote",children:i.jsx(di,{className:"w-4 h-4"})}),i.jsx(q,{variant:"outline",size:"sm",onClick:rs,className:"h-9 w-9 p-0","aria-label":"Add Bookmark",children:i.jsx(Ev,{className:"w-4 h-4"})}),i.jsx(q,{variant:"outline",size:"sm",onClick:Mr,className:"h-9 w-9 p-0","aria-label":"Timer",children:i.jsx(O$,{className:"w-4 h-4"})})]})]}),j&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs(ve,{className:"w-full max-w-md",children:[i.jsxs(et,{className:"flex flex-row items-center justify-between",children:[i.jsx(tt,{className:"text-lg",children:"Add Note"}),i.jsx(q,{variant:"ghost",size:"sm",onClick:()=>N(!1),children:i.jsx(_n,{className:"h-4 w-4"})})]}),i.jsxs(we,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Oe,{htmlFor:"note-text",children:"Note"}),i.jsx("textarea",{id:"note-text",value:I,onChange:Pe=>k(Pe.target.value),placeholder:"Enter your note...",className:"w-full min-h-[100px] p-3 border rounded-md resize-none",autoFocus:!0})]}),i.jsxs("div",{children:[i.jsx(Oe,{htmlFor:"note-page",children:"Page (optional)"}),i.jsx(gt,{id:"note-page",type:"number",value:C,onChange:Pe=>W(Pe.target.value),placeholder:"Page number"})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(q,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),i.jsx(q,{onClick:zt,disabled:!I.trim(),children:"Save Note"})]})]})]})}),E&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs(ve,{className:"w-full max-w-md",children:[i.jsxs(et,{className:"flex flex-row items-center justify-between",children:[i.jsx(tt,{className:"text-lg",children:"Add Quote"}),i.jsx(q,{variant:"ghost",size:"sm",onClick:()=>P(!1),children:i.jsx(_n,{className:"h-4 w-4"})})]}),i.jsxs(we,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Oe,{htmlFor:"quote-text",children:"Quote"}),i.jsx("textarea",{id:"quote-text",value:R,onChange:Pe=>$(Pe.target.value),placeholder:"Enter the quote...",className:"w-full min-h-[100px] p-3 border rounded-md resize-none",autoFocus:!0})]}),i.jsxs("div",{children:[i.jsx(Oe,{htmlFor:"quote-page",children:"Page (optional)"}),i.jsx(gt,{id:"quote-page",type:"number",value:z,onChange:Pe=>ee(Pe.target.value),placeholder:"Page number"})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(q,{variant:"outline",onClick:()=>P(!1),children:"Cancel"}),i.jsx(q,{onClick:rn,disabled:!R.trim(),children:"Save Quote"})]})]})]})})]})}function yH({book:e,sessions:t}){console.log("SessionsSummary - Book:",e.title,"Sessions count:",t.length,"Sessions:",t);const n=t.length,r=t.reduce((p,w)=>p+(w.pagesRead||0),0),s=t.reduce((p,w)=>p+(w.duration||0),0),a=n>0?Math.round(r/n):0,o=n>0?Math.round(s/n):0,l=s/60,c=l>0?Math.round(r/l):0,u=e.totalPages&&e.currentPage?Math.round(e.currentPage/e.totalPages*100):0,d=t.sort((p,w)=>new Date(w.createdAt).getTime()-new Date(p.createdAt).getTime()).slice(0,5),f=p=>{const w=Math.floor(p/60),y=p%60;return w>0?`${w}h ${y}m`:`${y}m`},h=p=>new Date(p).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return i.jsxs("div",{className:"space-y-6",children:[i.jsx(ve,{children:i.jsxs(et,{children:[i.jsx(tt,{className:"text-lg",children:e.title}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",e.author]})]})}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsx(ve,{children:i.jsx(we,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ft,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:n}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Sessions"})]})]})})}),i.jsx(ve,{children:i.jsx(we,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Th,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:r}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Pages Read"})]})]})})}),i.jsx(ve,{children:i.jsx(we,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(pf,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:f(s)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Time"})]})]})})}),i.jsx(ve,{children:i.jsx(we,{className:"p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ft,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:c}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Pages/Hour"})]})]})})})]}),i.jsxs(ve,{children:[i.jsx(et,{children:i.jsx(tt,{className:"text-lg",children:"Reading Progress"})}),i.jsx(we,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{children:[e.currentPage||0," of ",e.totalPages||"?"," pages"]}),i.jsxs("span",{children:[u,"%"]})]}),i.jsx(ga,{value:u,className:"h-2"})]})})]}),i.jsxs(ve,{children:[i.jsx(et,{children:i.jsx(tt,{className:"text-lg",children:"Session Averages"})}),i.jsx(we,{children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:a}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Pages per session"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:f(o)}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Time per session"})]})]})})]}),i.jsxs(ve,{children:[i.jsx(et,{children:i.jsx(tt,{className:"text-lg",children:"Recent Sessions"})}),i.jsx(we,{children:d.length===0?i.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No sessions yet"}):i.jsx("div",{className:"space-y-3",children:d.map((p,w)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(_i,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm font-medium",children:h(p.createdAt)})]}),i.jsxs(Ee,{variant:"outline",children:[p.pagesRead||0," pages"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(pf,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:f(p.duration||0)})]})]},p.id))})})]})]})}function vH({book:e}){const[t,n]=m.useState([{id:"1",text:"Great insights on productivity systems",createdAt:new Date("2024-01-15"),pageNumber:45},{id:"2",text:"The two-minute rule is really effective",createdAt:new Date("2024-01-16"),pageNumber:67}]),[r,s]=m.useState([{id:"1",text:"You can do anything, but not everything.",createdAt:new Date("2024-01-15"),pageNumber:23},{id:"2",text:"The secret of getting ahead is getting started.",createdAt:new Date("2024-01-16"),pageNumber:89}]),[a,o]=m.useState("notes"),l=()=>{const h=prompt("Add a note:");if(h&&h.trim()){const p=prompt("Page number (optional):"),w={id:Date.now().toString(),text:h.trim(),createdAt:new Date,pageNumber:p?parseInt(p):void 0};n(y=>[w,...y])}},c=()=>{const h=prompt("Add a quote:");if(h&&h.trim()){const p=prompt("Page number (optional):"),w={id:Date.now().toString(),text:h.trim(),createdAt:new Date,pageNumber:p?parseInt(p):void 0};s(y=>[w,...y])}},u=h=>{confirm("Delete this note?")&&n(p=>p.filter(w=>w.id!==h))},d=h=>{confirm("Delete this quote?")&&s(p=>p.filter(w=>w.id!==h))},f=h=>h.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return i.jsxs("div",{className:"space-y-6",children:[i.jsx(ve,{children:i.jsxs(et,{children:[i.jsx(tt,{className:"text-lg",children:e.title}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["by ",e.author]})]})}),i.jsxs("div",{className:"flex space-x-1 bg-muted p-1 rounded-lg",children:[i.jsxs(q,{variant:a==="notes"?"default":"ghost",size:"sm",onClick:()=>o("notes"),className:"flex-1",children:[i.jsx(Bg,{className:"w-4 h-4 mr-2"}),"Notes (",t.length,")"]}),i.jsxs(q,{variant:a==="quotes"?"default":"ghost",size:"sm",onClick:()=>o("quotes"),className:"flex-1",children:[i.jsx(di,{className:"w-4 h-4 mr-2"}),"Quotes (",r.length,")"]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs(q,{onClick:a==="notes"?l:c,size:"sm",children:[i.jsx(ir,{className:"w-4 h-4 mr-2"}),"Add ",a==="notes"?"Note":"Quote"]})}),a==="notes"?i.jsx("div",{className:"space-y-4",children:t.length===0?i.jsx(ve,{children:i.jsxs(we,{className:"text-center py-8",children:[i.jsx(Bg,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No notes yet"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Add your first note to capture insights from this book"}),i.jsxs(q,{onClick:l,children:[i.jsx(ir,{className:"w-4 h-4 mr-2"}),"Add Note"]})]})}):t.map(h=>i.jsx(ve,{children:i.jsx(we,{className:"p-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm mb-2",children:h.text}),i.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[i.jsx("span",{children:f(h.createdAt)}),h.pageNumber&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:"•"}),i.jsxs(Ee,{variant:"outline",className:"text-xs",children:["Page ",h.pageNumber]})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-1 ml-4",children:[i.jsx(q,{variant:"ghost",size:"sm",onClick:()=>{const p=prompt("Edit note:",h.text);p&&p.trim()&&n(w=>w.map(y=>y.id===h.id?{...y,text:p.trim()}:y))},children:i.jsx(fi,{className:"w-3 h-3"})}),i.jsx(q,{variant:"ghost",size:"sm",onClick:()=>u(h.id),children:i.jsx(zo,{className:"w-3 h-3"})})]})]})})},h.id))}):i.jsx("div",{className:"space-y-4",children:r.length===0?i.jsx(ve,{children:i.jsxs(we,{className:"text-center py-8",children:[i.jsx(di,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No quotes yet"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Save inspiring quotes from this book"}),i.jsxs(q,{onClick:c,children:[i.jsx(ir,{className:"w-4 h-4 mr-2"}),"Add Quote"]})]})}):r.map(h=>i.jsx(ve,{children:i.jsx(we,{className:"p-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("blockquote",{className:"text-sm italic mb-2 border-l-2 border-muted pl-3",children:['"',h.text,'"']}),i.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[i.jsx("span",{children:f(h.createdAt)}),h.pageNumber&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:"•"}),i.jsxs(Ee,{variant:"outline",className:"text-xs",children:["Page ",h.pageNumber]})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-1 ml-4",children:[i.jsx(q,{variant:"ghost",size:"sm",onClick:()=>{const p=prompt("Edit quote:",h.text);p&&p.trim()&&s(w=>w.map(y=>y.id===h.id?{...y,text:p.trim()}:y))},children:i.jsx(fi,{className:"w-3 h-3"})}),i.jsx(q,{variant:"ghost",size:"sm",onClick:()=>d(h.id),children:i.jsx(zo,{className:"w-3 h-3"})})]})]})})},h.id))})]})}var Hx="Tabs",[xH,Z7]=gn(Hx,[Zh]),UO=Zh(),[wH,qx]=xH(Hx),WO=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=fu(l),[f,h]=Er({prop:r,onChange:s,defaultProp:a});return i.jsx(wH,{scope:n,baseId:or(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(he.div,{dir:d,"data-orientation":o,...u,ref:t})})});WO.displayName=Hx;var HO="TabsList",qO=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,a=qx(HO,n),o=UO(n);return i.jsx(nT,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:i.jsx(he.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});qO.displayName=HO;var QO="TabsTrigger",KO=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...a}=e,o=qx(QO,n),l=UO(n),c=XO(o.baseId,r),u=ZO(o.baseId,r),d=r===o.value;return i.jsx(rT,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(he.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:Y(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Y(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Y(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(r)})})})});KO.displayName=QO;var GO="TabsContent",YO=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:a,...o}=e,l=qx(GO,n),c=XO(l.baseId,r),u=ZO(l.baseId,r),d=r===l.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(Lt,{present:s||d,children:({present:h})=>i.jsx(he.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});YO.displayName=GO;function XO(e,t){return`${e}-trigger-${t}`}function ZO(e,t){return`${e}-content-${t}`}var bH=WO,JO=qO,eI=KO,tI=YO;const nI=bH,Qx=m.forwardRef(({className:e,...t},n)=>i.jsx(JO,{ref:n,className:te("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Qx.displayName=JO.displayName;const ni=m.forwardRef(({className:e,...t},n)=>i.jsx(eI,{ref:n,className:te("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));ni.displayName=eI.displayName;const ri=m.forwardRef(({className:e,...t},n)=>i.jsx(tI,{ref:n,className:te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ri.displayName=tI.displayName;function SH(){const[e,t]=m.useState(null),[n,r]=m.useState(!1),{data:s=[],isLoading:a,error:o}=En({queryKey:["/api/books/currently-reading"],queryFn:async()=>{const w=await fetch("/api/books/currently-reading");if(!w.ok)throw new Error("Failed to fetch currently reading books");return(await w.json()).map(b=>({...b,addedAt:new Date(b.addedAt),lastReadAt:b.lastReadAt?new Date(b.lastReadAt):null,startedAt:b.startedAt?new Date(b.startedAt):null,completedAt:b.completedAt?new Date(b.completedAt):null}))}}),l=e&&s.length>0?s.find(w=>w.id===e.id)||s[0]:s[0]||null,{data:c,refetch:u}=En({queryKey:["/api/books",l==null?void 0:l.id,"active-session"],queryFn:async()=>{if(!l)return null;const w=await fetch(`/api/books/${l.id}/active-session`);if(!w.ok){if(w.status===404)return null;throw new Error("Failed to fetch active session")}const y=await w.json();return y?{...y,startedAt:new Date(y.startedAt),sessionDate:new Date(y.sessionDate),pausedAt:y.pausedAt?new Date(y.pausedAt):null,resumedAt:y.resumedAt?new Date(y.resumedAt):null,endedAt:y.endedAt?new Date(y.endedAt):null}:null},enabled:!!l}),{data:d=[]}=cH((l==null?void 0:l.id)||"",{state:"completed"});if(m.useEffect(()=>{!e&&s.length>0&&t(s[0])},[s,e]),a)return i.jsxs("div",{className:"space-y-6","data-testid":"page-currently-reading",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-serif font-semibold",children:"Currently Reading"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Track your reading sessions with advanced timer and progress forecasting"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(Da,{className:"h-16 w-full"}),i.jsx("div",{className:"max-w-2xl mx-auto",children:i.jsx(Da,{className:"h-96 w-full"})})]})]});if(o)return i.jsxs("div",{className:"space-y-6","data-testid":"page-currently-reading",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-serif font-semibold",children:"Currently Reading"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Track your reading sessions with advanced timer and progress forecasting"})]}),i.jsx(ve,{children:i.jsxs(we,{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx("div",{className:"text-destructive mb-4",children:"Error loading books"}),i.jsx("p",{className:"text-muted-foreground",children:o instanceof Error?o.message:"Failed to load currently reading books"})]})})]});const f=w=>{t(w)},h=()=>{u()},p=()=>{r(!0)};return s.length===0?i.jsxs("div",{className:"space-y-6","data-testid":"page-currently-reading",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-serif font-semibold",children:"Currently Reading"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Advanced session tracking for your active books"})]}),i.jsx(ve,{children:i.jsxs(we,{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx(Ft,{className:"h-16 w-16 text-muted-foreground mb-6"}),i.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No books currently reading"}),i.jsx("p",{className:"text-muted-foreground mb-6 max-w-md",children:"Start your first reading session with our advanced timer and progress tracking. Add a book and begin tracking your reading journey."}),i.jsxs(q,{onClick:p,size:"lg","data-testid":"button-add-first-book",children:[i.jsx(ir,{className:"h-4 w-4 mr-2"}),"Add Your First Book"]})]})}),i.jsx(th,{open:n,onOpenChange:r})]}):i.jsxs("div",{className:"space-y-4","data-testid":"page-currently-reading",children:[i.jsxs("div",{className:"pt-2",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-serif font-semibold",children:"Currently Reading"}),i.jsx("p",{className:"text-muted-foreground mt-1 hidden md:block",children:"Track your reading sessions with advanced timer and progress forecasting"})]}),i.jsx("div",{className:"sticky top-4 z-10 bg-background/95 backdrop-blur-sm border-b pb-4",children:i.jsx(hH,{books:s,activeId:e==null?void 0:e.id,onSwitch:f,onAdd:p})}),l&&i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs(nI,{defaultValue:"session",className:"w-full",children:[i.jsxs(Qx,{className:"grid w-full grid-cols-3",children:[i.jsx(ni,{value:"session",children:"Reading Session"}),i.jsx(ni,{value:"summary",children:"Session History"}),i.jsx(ni,{value:"notes",children:"Notes & Quotes"})]}),i.jsx(ri,{value:"session",className:"mt-6",children:i.jsx(gH,{book:l,activeSession:c,onSessionUpdate:h})}),i.jsx(ri,{value:"summary",className:"mt-6",children:i.jsx(yH,{book:l,sessions:d})}),i.jsx(ri,{value:"notes",className:"mt-6",children:i.jsx(vH,{book:l})})]})}),!e&&s.length>0&&i.jsx(ve,{children:i.jsxs(we,{className:"text-center py-8",children:[i.jsx(Ft,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select a book to start reading"}),i.jsx("p",{className:"text-muted-foreground",children:"Choose a book from the switcher above to begin your reading session"})]})}),i.jsx(th,{open:n,onOpenChange:r})]})}var Kx="Popover",[rI,J7]=gn(Kx,[ka]),ku=ka(),[_H,Aa]=rI(Kx),sI=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:a,modal:o=!1}=e,l=ku(t),c=m.useRef(null),[u,d]=m.useState(!1),[f=!1,h]=Er({prop:r,defaultProp:s,onChange:a});return i.jsx(Oh,{...l,children:i.jsx(_H,{scope:t,contentId:or(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>d(!0),[]),onCustomAnchorRemove:m.useCallback(()=>d(!1),[]),modal:o,children:n})})};sI.displayName=Kx;var aI="PopoverAnchor",NH=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Aa(aI,n),a=ku(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return m.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(iu,{...a,...r,ref:t})});NH.displayName=aI;var iI="PopoverTrigger",oI=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Aa(iI,n),a=ku(n),o=Ie(t,s.triggerRef),l=i.jsx(he.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":fI(s.open),...r,ref:o,onClick:Y(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:i.jsx(iu,{asChild:!0,...a,children:l})});oI.displayName=iI;var Gx="PopoverPortal",[CH,jH]=rI(Gx,{forceMount:void 0}),lI=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,a=Aa(Gx,t);return i.jsx(CH,{scope:t,forceMount:n,children:i.jsx(Lt,{present:n||a.open,children:i.jsx(Jo,{asChild:!0,container:s,children:r})})})};lI.displayName=Gx;var Ko="PopoverContent",cI=m.forwardRef((e,t)=>{const n=jH(Ko,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,a=Aa(Ko,e.__scopePopover);return i.jsx(Lt,{present:r||a.open,children:a.modal?i.jsx(EH,{...s,ref:t}):i.jsx(PH,{...s,ref:t})})});cI.displayName=Ko;var kH=fa("PopoverContent.RemoveScroll"),EH=m.forwardRef((e,t)=>{const n=Aa(Ko,e.__scopePopover),r=m.useRef(null),s=Ie(t,r),a=m.useRef(!1);return m.useEffect(()=>{const o=r.current;if(o)return Uh(o)},[]),i.jsx(lu,{as:kH,allowPinchZoom:!0,children:i.jsx(uI,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Y(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Y(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Y(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),PH=m.forwardRef((e,t)=>{const n=Aa(Ko,e.__scopePopover),r=m.useRef(!1),s=m.useRef(!1);return i.jsx(uI,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),uI=m.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Aa(Ko,n),p=ku(n);return Bh(),i.jsx(ou,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(Si,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:i.jsx(Ih,{"data-state":fI(h.open),role:"dialog",id:h.contentId,...p,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),dI="PopoverClose",TH=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Aa(dI,n);return i.jsx(he.button,{type:"button",...r,ref:t,onClick:Y(e.onClick,()=>s.onOpenChange(!1))})});TH.displayName=dI;var AH="PopoverArrow",RH=m.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=ku(n);return i.jsx(Dh,{...s,...r,ref:t})});RH.displayName=AH;function fI(e){return e?"open":"closed"}var MH=sI,OH=oI,IH=lI,hI=cI;const DH=MH,FH=OH,mI=m.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>i.jsx(IH,{children:i.jsx(hI,{ref:s,align:t,sideOffset:n,className:te("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...r})}));mI.displayName=hI.displayName;function nt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ba(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const pI=6048e5,LH=864e5,ud=43200,Xb=1440;let $H={};function Eu(){return $H}function Hc(e,t){var l,c,u,d;const n=Eu(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=nt(e),a=s.getDay(),o=(a<r?7:0)+a-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function rh(e){return Hc(e,{weekStartsOn:1})}function gI(e){const t=nt(e),n=t.getFullYear(),r=ba(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=rh(r),a=ba(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=rh(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Zb(e){const t=nt(e);return t.setHours(0,0,0,0),t}function sh(e){const t=nt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function zH(e,t){const n=Zb(e),r=Zb(t),s=+n-sh(n),a=+r-sh(r);return Math.round((s-a)/LH)}function BH(e){const t=gI(e),n=ba(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),rh(n)}function $d(e,t){const n=nt(e),r=nt(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function VH(e){return ba(e,Date.now())}function UH(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function WH(e){if(!UH(e)&&typeof e!="number")return!1;const t=nt(e);return!isNaN(Number(t))}function HH(e,t){const n=nt(e),r=nt(t),s=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return s*12+a}function qH(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function QH(e,t){return+nt(e)-+nt(t)}function KH(e){const t=nt(e);return t.setHours(23,59,59,999),t}function GH(e){const t=nt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function YH(e){const t=nt(e);return+KH(t)==+GH(t)}function XH(e,t){const n=nt(e),r=nt(t),s=$d(n,r),a=Math.abs(HH(n,r));let o;if(a<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*a);let l=$d(n,r)===-s;YH(nt(e))&&a===1&&$d(e,r)===1&&(l=!1),o=s*(a-Number(l))}return o===0?0:o}function ZH(e,t,n){const r=QH(e,t)/1e3;return qH(n==null?void 0:n.roundingMethod)(r)}function JH(e){const t=nt(e),n=ba(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const eq={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tq=(e,t,n)=>{let r;const s=eq[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Cp(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const nq={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rq={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},sq={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aq={date:Cp({formats:nq,defaultWidth:"full"}),time:Cp({formats:rq,defaultWidth:"full"}),dateTime:Cp({formats:sq,defaultWidth:"full"})},iq={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},oq=(e,t,n,r)=>iq[e];function Nl(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const lq={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cq={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uq={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dq={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hq={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mq=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},pq={ordinalNumber:mq,era:Nl({values:lq,defaultWidth:"wide"}),quarter:Nl({values:cq,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Nl({values:uq,defaultWidth:"wide"}),day:Nl({values:dq,defaultWidth:"wide"}),dayPeriod:Nl({values:fq,defaultWidth:"wide",formattingValues:hq,defaultFormattingWidth:"wide"})};function Cl(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?yq(l,f=>f.test(o)):gq(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function gq(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function yq(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function vq(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const xq=/^(\d+)(th|st|nd|rd)?/i,wq=/\d+/i,bq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Sq={any:[/^b/i,/^(a|c)/i]},_q={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Nq={any:[/1/i,/2/i,/3/i,/4/i]},Cq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Eq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Tq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Aq={ordinalNumber:vq({matchPattern:xq,parsePattern:wq,valueCallback:e=>parseInt(e,10)}),era:Cl({matchPatterns:bq,defaultMatchWidth:"wide",parsePatterns:Sq,defaultParseWidth:"any"}),quarter:Cl({matchPatterns:_q,defaultMatchWidth:"wide",parsePatterns:Nq,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Cl({matchPatterns:Cq,defaultMatchWidth:"wide",parsePatterns:jq,defaultParseWidth:"any"}),day:Cl({matchPatterns:kq,defaultMatchWidth:"wide",parsePatterns:Eq,defaultParseWidth:"any"}),dayPeriod:Cl({matchPatterns:Pq,defaultMatchWidth:"any",parsePatterns:Tq,defaultParseWidth:"any"})},yI={code:"en-US",formatDistance:tq,formatLong:aq,formatRelative:oq,localize:pq,match:Aq,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Rq(e){const t=nt(e);return zH(t,JH(t))+1}function Mq(e){const t=nt(e),n=+rh(t)-+BH(t);return Math.round(n/pI)+1}function vI(e,t){var d,f,h,p;const n=nt(e),r=n.getFullYear(),s=Eu(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=ba(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=Hc(o,t),c=ba(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=Hc(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function Oq(e,t){var l,c,u,d;const n=Eu(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=vI(e,t),a=ba(e,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),Hc(a,t)}function Iq(e,t){const n=nt(e),r=+Hc(n,t)-+Oq(n,t);return Math.round(r/pI)+1}function Ze(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Os={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ze(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ze(n+1,2)},d(e,t){return Ze(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ze(e.getHours()%12||12,t.length)},H(e,t){return Ze(e.getHours(),t.length)},m(e,t){return Ze(e.getMinutes(),t.length)},s(e,t){return Ze(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Ze(s,t.length)}},Di={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Jb={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Os.y(e,t)},Y:function(e,t,n,r){const s=vI(e,r),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return Ze(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Ze(a,t.length)},R:function(e,t){const n=gI(e);return Ze(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ze(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ze(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ze(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Os.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ze(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=Iq(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Ze(s,t.length)},I:function(e,t,n){const r=Mq(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Ze(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Os.d(e,t)},D:function(e,t,n){const r=Rq(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ze(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ze(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ze(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return Ze(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Di.noon:r===0?s=Di.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Di.evening:r>=12?s=Di.afternoon:r>=4?s=Di.morning:s=Di.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Os.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Os.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ze(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ze(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Os.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Os.s(e,t)},S:function(e,t){return Os.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return tS(r);case"XXXX":case"XX":return Ia(r);case"XXXXX":case"XXX":default:return Ia(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return tS(r);case"xxxx":case"xx":return Ia(r);case"xxxxx":case"xxx":default:return Ia(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+eS(r,":");case"OOOO":default:return"GMT"+Ia(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+eS(r,":");case"zzzz":default:return"GMT"+Ia(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Ze(r,t.length)},T:function(e,t,n){const r=e.getTime();return Ze(r,t.length)}};function eS(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+t+Ze(a,2)}function tS(e,t){return e%60===0?(e>0?"-":"+")+Ze(Math.abs(e)/60,2):Ia(e,t)}function Ia(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Ze(Math.trunc(r/60),2),a=Ze(r%60,2);return n+s+t+a}const nS=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},xI=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Dq=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return nS(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",nS(r,t)).replace("{{time}}",xI(s,t))},Fq={p:xI,P:Dq},Lq=/^D+$/,$q=/^Y+$/,zq=["D","DD","YY","YYYY"];function Bq(e){return Lq.test(e)}function Vq(e){return $q.test(e)}function Uq(e,t,n){const r=Wq(e,t,n);if(console.warn(r),zq.includes(e))throw new RangeError(r)}function Wq(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Hq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Qq=/^'([^]*?)'?$/,Kq=/''/g,Gq=/[a-zA-Z]/;function vo(e,t,n){var d,f,h,p;const r=Eu(),s=r.locale??yI,a=r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=r.weekStartsOn??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,l=nt(e);if(!WH(l))throw new RangeError("Invalid time value");let c=t.match(qq).map(w=>{const y=w[0];if(y==="p"||y==="P"){const b=Fq[y];return b(w,s.formatLong)}return w}).join("").match(Hq).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const y=w[0];if(y==="'")return{isToken:!1,value:Yq(w)};if(Jb[y])return{isToken:!0,value:w};if(y.match(Gq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(w=>{if(!w.isToken)return w.value;const y=w.value;(Vq(y)||Bq(y))&&Uq(y,t,String(e));const b=Jb[y[0]];return b(l,y,s.localize,u)}).join("")}function Yq(e){const t=e.match(Qq);return t?t[1].replace(Kq,"'"):e}function Xq(e,t,n){const r=Eu(),s=(n==null?void 0:n.locale)??r.locale??yI,a=2520,o=$d(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,u;o>0?(c=nt(t),u=nt(e)):(c=nt(e),u=nt(t));const d=ZH(u,c),f=(sh(u)-sh(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return n!=null&&n.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<Xb){const w=Math.round(h/60);return s.formatDistance("aboutXHours",w,l)}else{if(h<a)return s.formatDistance("xDays",1,l);if(h<ud){const w=Math.round(h/Xb);return s.formatDistance("xDays",w,l)}else if(h<ud*2)return p=Math.round(h/ud),s.formatDistance("aboutXMonths",p,l)}if(p=XH(u,c),p<12){const w=Math.round(h/ud);return s.formatDistance("xMonths",w,l)}else{const w=p%12,y=Math.trunc(p/12);return w<3?s.formatDistance("aboutXYears",y,l):w<9?s.formatDistance("overXYears",y,l):s.formatDistance("almostXYears",y+1,l)}}function wI(e,t){return Xq(e,VH(e),t)}function Zq({data:e}){const{totals:t,goals:n,streak:r,finishedBooks:s,activeEtas:a,range:o}=e,l=new Date(o.from),c=new Date(o.to),u=Math.max(1,Math.ceil((c.getTime()-l.getTime())/(1e3*60*60*24))+1),d=n.targetPages>0?Math.round(t.pages/n.targetPages*100):0,f=t.pages/u;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs(ve,{"data-testid":"card-total-pages",children:[i.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(tt,{className:"text-sm font-medium",children:"Pages Read"}),i.jsx(Ft,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-pages",children:t.pages.toLocaleString()}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.sessions," reading sessions"]})]})]}),i.jsxs(ve,{"data-testid":"card-reading-time",children:[i.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(tt,{className:"text-sm font-medium",children:"Reading Time"}),i.jsx(pf,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-reading-time",children:[Math.floor(t.minutes/60),"h ",t.minutes%60,"m"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(t.minutes/Math.max(1,t.sessions))," min/session avg"]})]})]}),i.jsxs(ve,{"data-testid":"card-daily-average",children:[i.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(tt,{className:"text-sm font-medium",children:"Daily Average"}),i.jsx(Th,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold","data-testid":"text-daily-average",children:f.toFixed(1)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Pages per day"})]})]}),i.jsxs(ve,{"data-testid":"card-current-streak",children:[i.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(tt,{className:"text-sm font-medium",children:"Current Streak"}),i.jsx(hf,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold","data-testid":"text-current-streak",children:r.current}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Best: ",r.best," days"]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(ve,{"data-testid":"card-reading-goal",children:[i.jsx(et,{children:i.jsxs(tt,{className:"flex items-center gap-2",children:[i.jsx(yf,{className:"h-5 w-5"}),"Reading Goal Progress"]})}),i.jsxs(we,{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm font-medium",children:"Pages Goal"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.pages.toLocaleString()," / ",n.targetPages.toLocaleString()]})]}),i.jsx(ga,{value:Math.min(100,d),className:"h-3","data-testid":"progress-pages-goal"}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold","data-testid":"text-goal-progress",children:[d,"%"]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Complete"})]}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Daily target: ",n.biteTargetPerDay," pages"]})]})]}),i.jsxs(ve,{"data-testid":"card-active-etas",children:[i.jsx(et,{children:i.jsx(tt,{children:"Currently Reading"})}),i.jsx(we,{children:a.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:"No books currently being read"}):i.jsx("div",{className:"space-y-3",children:a.slice(0,3).map(h=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("span",{className:"text-sm font-medium line-clamp-1","data-testid":`text-active-book-${h.bookId}`,children:h.title}),i.jsxs(Ee,{variant:"outline","data-testid":`badge-progress-${h.bookId}`,children:[h.progressPct,"%"]})]}),i.jsx(ga,{value:h.progressPct,className:"h-2","data-testid":`progress-book-${h.bookId}`}),i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[i.jsxs("span",{children:[h.bitePages," pages/day target"]}),h.etaDate&&i.jsxs("span",{"data-testid":`text-eta-${h.bookId}`,children:["ETA: ",vo(new Date(h.etaDate),"MMM d")]})]})]},h.bookId))})})]})]}),s.length>0&&i.jsxs(ve,{"data-testid":"card-finished-books",children:[i.jsx(et,{children:i.jsx(tt,{children:"Recently Finished"})}),i.jsx(we,{children:i.jsx("div",{className:"space-y-3",children:s.slice(0,5).map(h=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/30","data-testid":`finished-book-${h.id}`,children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium","data-testid":`finished-book-title-${h.id}`,children:h.title}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Finished in ",h.daysToFinish," days • ",h.avgPph.toFixed(1)," pages/hour avg"]})]}),i.jsxs(Ee,{variant:"secondary","data-testid":`badge-days-${h.id}`,children:[h.daysToFinish,"d"]})]},h.id))})})]})]})}function Jq({data:e}){var f,h;const{sparkline:t,heatmap:n}=e;if(!t||t.length===0)return i.jsx("div",{className:"space-y-6",children:i.jsx(ve,{"data-testid":"card-no-data",children:i.jsx(we,{className:"p-6",children:i.jsx("p",{className:"text-center text-muted-foreground",children:"No data available for the selected range"})})})});const r=t.slice(-7),s=r.length>0?r.reduce((p,w)=>p+w.pages,0):0,a=r.length>0?s/r.length:0,o=t.slice(-14,-7),l=o.length>0?o.reduce((p,w)=>p+w.pages,0):0,c=o.length>0?l/o.length:0,u=c>0?(a-c)/c*100:0,d=t.length>0?Math.max(0,...t.map(p=>p.pages)):0;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs(ve,{"data-testid":"card-week-total",children:[i.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(tt,{className:"text-sm font-medium",children:"This Week"}),i.jsx(m$,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold","data-testid":"text-week-total",children:s}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.toFixed(1)," pages/day avg"]})]})]}),i.jsxs(ve,{"data-testid":"card-week-trend",children:[i.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(tt,{className:"text-sm font-medium",children:"Week Trend"}),i.jsx(Th,{className:te("h-4 w-4",u>=0?"text-green-500":"text-red-500")})]}),i.jsxs(we,{children:[i.jsxs("div",{className:te("text-2xl font-bold",u>=0?"text-green-600":"text-red-600"),"data-testid":"text-week-trend",children:[u>=0?"+":"",u.toFixed(1),"%"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"vs last week"})]})]}),i.jsxs(ve,{"data-testid":"card-best-day",children:[i.jsxs(et,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(tt,{className:"text-sm font-medium",children:"Best Day"}),i.jsx(hf,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(we,{children:[i.jsx("div",{className:"text-2xl font-bold","data-testid":"text-best-day",children:d}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Pages in one day"})]})]})]}),i.jsxs(ve,{"data-testid":"card-reading-chart",children:[i.jsx(et,{children:i.jsx(tt,{children:"Daily Reading Pattern"})}),i.jsx(we,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-end justify-between h-32 gap-1","data-testid":"sparkline-chart",children:t.slice(-30).map((p,w)=>{const y=Math.max(1,d),b=p.pages/y*100;return i.jsx("div",{className:"bg-primary/20 hover:bg-primary/40 transition-colors flex-1 min-w-[2px] rounded-t",style:{height:`${Math.max(2,b)}%`},title:`${p.date}: ${p.pages} pages`,"data-testid":`bar-${w}`},p.date)})}),i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:t.length>30?vo(new Date(t[t.length-30].date),"MMM d"):vo(new Date(((f=t[0])==null?void 0:f.date)||new Date),"MMM d")}),i.jsx("span",{children:"Last 30 days"}),i.jsx("span",{children:vo(new Date(((h=t[t.length-1])==null?void 0:h.date)||new Date),"MMM d")})]})]})})]})]})}function e7({data:e}){const{finishedBooks:t,totals:n,goals:r,range:s}=e,a=new Date(s.from),o=new Date(s.to),l=Math.max(1,Math.ceil((o.getTime()-a.getTime())/(1e3*60*60*24))+1);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs(ve,{"data-testid":"card-reading-efficiency",children:[i.jsx(et,{children:i.jsx(tt,{children:"Reading Efficiency"})}),i.jsxs(we,{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm",children:"Pages per session"}),i.jsx("span",{className:"font-medium","data-testid":"text-pages-per-session",children:n.sessions>0?(n.pages/n.sessions).toFixed(1):"0"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm",children:"Minutes per page"}),i.jsx("span",{className:"font-medium","data-testid":"text-minutes-per-page",children:n.pages>0?(n.minutes/n.pages).toFixed(1):"0"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm",children:"Session frequency"}),i.jsxs("span",{className:"font-medium","data-testid":"text-session-frequency",children:[(n.sessions/l).toFixed(1),"/day"]})]})]})]}),i.jsxs(ve,{"data-testid":"card-goal-breakdown",children:[i.jsx(et,{children:i.jsx(tt,{children:"Goal Analysis"})}),i.jsxs(we,{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm",children:"Daily target"}),i.jsxs("span",{className:"font-medium","data-testid":"text-daily-target",children:[r.biteTargetPerDay," pages"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm",children:"Progress to goal"}),i.jsxs("span",{className:"font-medium","data-testid":"text-goal-percentage",children:[r.targetPages>0?Math.round(n.pages/r.targetPages*100):0,"%"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm",children:"Pages remaining"}),i.jsx("span",{className:"font-medium","data-testid":"text-pages-remaining",children:Math.max(0,r.targetPages-n.pages).toLocaleString()})]})]})]})]}),i.jsxs(ve,{"data-testid":"card-all-finished-books",children:[i.jsx(et,{children:i.jsx(tt,{children:"All Finished Books"})}),i.jsx(we,{children:t.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:"No books finished in this period"}):i.jsx("div",{className:"space-y-3",children:t.map((c,u)=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border","data-testid":`detailed-book-${c.id}`,children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium","data-testid":`detailed-book-title-${c.id}`,children:c.title}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Reading pace: ",c.avgPph.toFixed(1)," pages/hour"]})]}),i.jsxs("div",{className:"text-right space-y-1",children:[i.jsxs(Ee,{variant:"outline","data-testid":`detailed-badge-days-${c.id}`,children:[c.daysToFinish," days"]}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["#",u+1," fastest"]})]})]},c.id))})})]})]})}function t7(){const[e,t]=m.useState({from:new Date(Date.now()-2592e6),to:new Date}),[n,r]=m.useState(!1),s=c=>c.toISOString().split("T")[0],{data:a,isLoading:o,error:l}=En({queryKey:["/api/stats/overview",s(e.from),s(e.to)],queryFn:async()=>{const c=new URLSearchParams({from:s(e.from),to:s(e.to)}),u=await fetch(`/api/stats/overview?${c}`);if(!u.ok)throw new Error("Failed to fetch stats");return u.json()}});return l?i.jsxs("div",{className:"space-y-6","data-testid":"page-stats",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-serif font-semibold",children:"Reading Statistics"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Track your reading habits and achievements"})]}),i.jsx(ve,{children:i.jsx(we,{className:"p-6",children:i.jsx("p",{className:"text-center text-muted-foreground",children:"Failed to load statistics. Please try again later."})})})]}):i.jsxs("div",{className:"space-y-6","data-testid":"page-stats",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-serif font-semibold",children:"Reading Statistics"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Track your reading habits and achievements"})]}),i.jsxs(DH,{open:n,onOpenChange:r,children:[i.jsx(FH,{asChild:!0,children:i.jsxs(q,{variant:"outline",className:"w-auto justify-start text-left font-normal","data-testid":"button-date-range",children:[i.jsx(_i,{className:"mr-2 h-4 w-4"}),vo(e.from,"MMM d")," - ",vo(e.to,"MMM d")]})}),i.jsx(mI,{className:"w-auto p-0",align:"end",children:i.jsxs("div",{className:"p-3 space-y-3",children:[i.jsx("div",{className:"text-sm font-medium",children:"Select date range"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx(q,{variant:"outline",size:"sm",onClick:()=>{t({from:new Date(Date.now()-7*24*60*60*1e3),to:new Date}),r(!1)},"data-testid":"button-last-7-days",children:"Last 7 days"}),i.jsx(q,{variant:"outline",size:"sm",onClick:()=>{t({from:new Date(Date.now()-30*24*60*60*1e3),to:new Date}),r(!1)},"data-testid":"button-last-30-days",children:"Last 30 days"}),i.jsx(q,{variant:"outline",size:"sm",onClick:()=>{t({from:new Date(Date.now()-90*24*60*60*1e3),to:new Date}),r(!1)},"data-testid":"button-last-90-days",children:"Last 90 days"}),i.jsx(q,{variant:"outline",size:"sm",onClick:()=>{const c=new Date,u=c.getFullYear();t({from:new Date(u,0,1),to:c}),r(!1)},"data-testid":"button-this-year",children:"This year"})]})]})})]})]}),o?i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[...Array(4)].map((c,u)=>i.jsx(ve,{children:i.jsx(we,{className:"p-6",children:i.jsxs("div",{className:"animate-pulse space-y-2",children:[i.jsx("div",{className:"h-4 bg-muted rounded w-1/2"}),i.jsx("div",{className:"h-8 bg-muted rounded w-3/4"}),i.jsx("div",{className:"h-3 bg-muted rounded w-full"})]})})},u))})}):a?i.jsxs(nI,{defaultValue:"overview",className:"space-y-6","data-testid":"tabs-stats",children:[i.jsxs(Qx,{className:"grid w-full grid-cols-3","data-testid":"tabs-list",children:[i.jsx(ni,{value:"overview","data-testid":"tab-overview",children:"Overview"}),i.jsx(ni,{value:"trends","data-testid":"tab-trends",children:"Trends"}),i.jsx(ni,{value:"breakdown","data-testid":"tab-breakdown",children:"Breakdown"})]}),i.jsx(ri,{value:"overview","data-testid":"tab-content-overview",children:i.jsx(Zq,{data:a})}),i.jsx(ri,{value:"trends","data-testid":"tab-content-trends",children:i.jsx(Jq,{data:a})}),i.jsx(ri,{value:"breakdown","data-testid":"tab-content-breakdown",children:i.jsx(e7,{data:a})})]}):null]})}const rS=[{id:"note",label:"Note"},{id:"quote",label:"Quote"},{id:"highlight",label:"Highlight"},{id:"summary",label:"Summary"},{id:"action",label:"Action"}],sS=[{id:"today",label:"Today"},{id:"7d",label:"7 days"},{id:"30d",label:"30 days"},{id:"custom",label:"Custom"}];function n7({searchTerm:e,onSearchChange:t,filters:n,onFiltersChange:r,onQuickCaptureOpen:s,availableBooks:a,availableTags:o,noteCount:l}){var v;const[c,u]=m.useState(!1),d=n.books.length+n.types.length+n.tags.length+(n.hasImage!==null?1:0)+(n.dateRange?1:0),f=()=>{r({books:[],types:[],tags:[],hasImage:null,dateRange:null})},h=S=>{const _=n.books.includes(S)?n.books.filter(j=>j!==S):[...n.books,S];r({...n,books:_})},p=S=>{const _=n.types.includes(S)?n.types.filter(j=>j!==S):[...n.types,S];r({...n,types:_})},w=S=>{const _=n.tags.includes(S)?n.tags.filter(j=>j!==S):[...n.tags,S];r({...n,tags:_})},y=(S,_)=>{switch(S){case"book":h(_);break;case"type":p(_);break;case"tag":w(_);break;case"hasImage":r({...n,hasImage:null});break;case"dateRange":r({...n,dateRange:null});break}},b=S=>{const _=a.find(j=>j.id===S);return(_==null?void 0:_.title)||"Unknown Book"},x=a.slice(0,5),g=o.slice(0,10);return i.jsx("div",{className:"sticky top-0 z-10 bg-background border-b",children:i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(uo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),i.jsx(gt,{placeholder:"Search notes, quotes, tags",value:e,onChange:S=>t(S.target.value),className:"pl-10 pr-10","data-testid":"input-search-notes"}),e&&i.jsx(q,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>t(""),children:i.jsx(_n,{className:"h-4 w-4"})})]}),i.jsx(q,{onClick:s,"data-testid":"button-quick-capture",children:"+"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(jf,{open:c,onOpenChange:u,children:[i.jsx(kf,{asChild:!0,children:i.jsxs(q,{variant:"outline",size:"sm","data-testid":"button-filters",children:[i.jsx(x$,{className:"h-4 w-4 mr-2"}),"Filters",d>0&&i.jsx(Ee,{variant:"secondary",className:"ml-2 h-5 w-5 p-0 text-xs rounded-full",children:d})]})}),i.jsxs(Pc,{className:"w-80",align:"start",children:[i.jsx(Rl,{children:"Books (Recent 5)"}),x.map(S=>i.jsx(Li,{checked:n.books.includes(S.id),onCheckedChange:()=>h(S.id),"data-testid":`filter-book-${S.id}`,children:S.title},S.id)),a.length>5&&i.jsx(Fn,{className:"text-xs text-muted-foreground",children:"All... (showing recent 5)"}),i.jsx(Va,{}),i.jsx(Rl,{children:"Type"}),rS.map(S=>i.jsx(Li,{checked:n.types.includes(S.id),onCheckedChange:()=>p(S.id),"data-testid":`filter-type-${S.id}`,children:S.label},S.id)),i.jsx(Va,{}),i.jsx(Rl,{children:"Tags (Top 10)"}),g.map(S=>i.jsx(Li,{checked:n.tags.includes(S),onCheckedChange:()=>w(S),"data-testid":`filter-tag-${S}`,children:S},S)),o.length>10&&i.jsx(Fn,{className:"text-xs text-muted-foreground",children:"All... (showing top 10)"}),i.jsx(Va,{}),i.jsx(Li,{checked:n.hasImage===!0,onCheckedChange:S=>r({...n,hasImage:S?!0:null}),"data-testid":"filter-has-image",children:"Has image"}),i.jsx(Va,{}),i.jsx(Rl,{children:"Date"}),sS.map(S=>i.jsx(Li,{checked:n.dateRange===S.id,onCheckedChange:_=>r({...n,dateRange:_?S.id:null}),"data-testid":`filter-date-${S.id}`,children:S.label},S.id))]})]}),d>0&&i.jsx(q,{variant:"ghost",size:"sm",onClick:f,"data-testid":"button-clear-filters",children:"Clear all"}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[l," note",l===1?"":"s"]})]}),d>0&&i.jsx(ll,{className:"w-full",children:i.jsxs("div",{className:"flex gap-2 pb-2",children:[n.books.map(S=>i.jsxs(Ee,{variant:"secondary",className:"flex items-center gap-1","data-testid":`chip-book-${S}`,children:[b(S),i.jsx(_n,{className:"h-3 w-3 cursor-pointer",onClick:()=>y("book",S)})]},S)),n.types.map(S=>{var _;return i.jsxs(Ee,{variant:"secondary",className:"flex items-center gap-1","data-testid":`chip-type-${S}`,children:[((_=rS.find(j=>j.id===S))==null?void 0:_.label)||S,i.jsx(_n,{className:"h-3 w-3 cursor-pointer",onClick:()=>y("type",S)})]},S)}),n.tags.map(S=>i.jsxs(Ee,{variant:"secondary",className:"flex items-center gap-1","data-testid":`chip-tag-${S}`,children:[S,i.jsx(_n,{className:"h-3 w-3 cursor-pointer",onClick:()=>y("tag",S)})]},S)),n.hasImage&&i.jsxs(Ee,{variant:"secondary",className:"flex items-center gap-1","data-testid":"chip-has-image",children:["Has image",i.jsx(_n,{className:"h-3 w-3 cursor-pointer",onClick:()=>y("hasImage","")})]}),n.dateRange&&i.jsxs(Ee,{variant:"secondary",className:"flex items-center gap-1","data-testid":`chip-date-${n.dateRange}`,children:[((v=sS.find(S=>S.id===n.dateRange))==null?void 0:v.label)||n.dateRange,i.jsx(_n,{className:"h-3 w-3 cursor-pointer",onClick:()=>y("dateRange","")})]})]})})]})})}var Yx="Switch",[r7,eQ]=gn(Yx),[s7,a7]=r7(Yx),bI=m.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=m.useState(null),w=Ie(t,v=>p(v)),y=m.useRef(!1),b=h?d||!!h.closest("form"):!0,[x=!1,g]=Er({prop:s,defaultProp:a,onChange:u});return i.jsxs(s7,{scope:n,checked:x,disabled:l,children:[i.jsx(he.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":NI(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:w,onClick:Y(e.onClick,v=>{g(S=>!S),b&&(y.current=v.isPropagationStopped(),y.current||v.stopPropagation())})}),b&&i.jsx(i7,{control:h,bubbles:!y.current,name:r,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});bI.displayName=Yx;var SI="SwitchThumb",_I=m.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=a7(SI,n);return i.jsx(he.span,{"data-state":NI(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});_I.displayName=SI;var i7=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,a=m.useRef(null),o=Xv(n),l=Bv(t);return m.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&f){const h=new Event("click",{bubbles:r});f.call(c,n),c.dispatchEvent(h)}},[o,n,r]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function NI(e){return e?"checked":"unchecked"}var CI=bI,o7=_I;const ah=m.forwardRef(({className:e,...t},n)=>i.jsx(CI,{className:te("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:i.jsx(o7,{className:te("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ah.displayName=CI.displayName;const jp=[{id:"note",label:"Note",icon:Rv,color:"bg-blue-100 text-blue-700"},{id:"quote",label:"Quote",icon:di,color:"bg-green-100 text-green-700"},{id:"highlight",label:"Highlight",icon:Av,color:"bg-yellow-100 text-yellow-700"},{id:"summary",label:"Summary",icon:su,color:"bg-purple-100 text-purple-700"},{id:"action",label:"Action",icon:Ph,color:"bg-orange-100 text-orange-700"}];function aS({isCollapsed:e,defaultBook:t,defaultPage:n,onCapture:r}){const s=es(),[a,o]=m.useState(""),[l,c]=m.useState((t==null?void 0:t.id)||""),[u,d]=m.useState((n==null?void 0:n.toString())||""),[f,h]=m.useState("note"),[p,w]=m.useState(!1),[y,b]=m.useState(!1),[x,g]=m.useState(""),[v,S]=m.useState([]),[_,j]=m.useState(!1);m.useState(!1);const{data:N=[]}=En({queryKey:["/api/books/currently-reading"],queryFn:async()=>{const C=await fetch("/api/books/currently-reading");if(!C.ok)throw new Error("Failed to fetch books");return(await C.json()).map(z=>({...z,addedAt:new Date(z.addedAt),lastReadAt:z.lastReadAt?new Date(z.lastReadAt):null,startedAt:z.startedAt?new Date(z.startedAt):null,completedAt:z.completedAt?new Date(z.completedAt):null}))}});m.useEffect(()=>{if(!t&&N.length>0&&!l){const C=N[0];c(C.id),!n&&C.currentPage&&d(C.currentPage.toString())}},[N,t,n,l]);const E=St({mutationFn:async C=>{const W=await fetch("/api/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(!W.ok)throw new Error("Failed to create note");return await W.json()},onSuccess:C=>{s.invalidateQueries({queryKey:["/api/notes"]}),o(""),g(""),S([]),w(!1),b(!1),r==null||r(C)},onError:C=>{console.error("Failed to create note:",C)}}),P=()=>{if(!a.trim()||!l)return;const C={bookId:l,content:a.trim(),noteType:f,page:u?parseInt(u):void 0,tags:v};E.mutate(C)},I=()=>{x.trim()&&!v.includes(x.trim())&&(S([...v,x.trim()]),g(""))},k=C=>{S(v.filter(W=>W!==C))},R=C=>{C.key==="Enter"&&C.metaKey&&P()},$=jp.find(C=>C.id===f)||jp[0];return e?null:i.jsx(ve,{className:"border-dashed","data-testid":"card-quick-capture",children:i.jsxs(we,{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Oe,{htmlFor:"note-content",className:"text-sm font-medium",children:"Note content"}),i.jsx(gu,{id:"note-content",placeholder:`Write your ${$.label.toLowerCase()}...`,value:a,onChange:C=>o(C.target.value),onKeyDown:R,className:"min-h-[80px] resize-none","data-testid":"textarea-note-content","aria-describedby":"content-help"}),i.jsxs("div",{id:"content-help",className:"text-xs text-muted-foreground",children:["⌘+Enter to save • ",a.length," characters"]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("div",{className:"col-span-2 space-y-2",children:[i.jsx(Oe,{htmlFor:"select-note-book-trigger",children:"Book"}),i.jsxs(la,{value:l,onValueChange:c,open:_,onOpenChange:j,children:[i.jsx(vs,{id:"select-note-book-trigger","data-testid":"select-note-book","aria-label":"Select book",children:i.jsx(ca,{placeholder:"Select book"})}),i.jsx(xs,{"data-testid":"listbox-note-book",className:"z-50",position:"popper",sideOffset:4,"aria-labelledby":"select-note-book-trigger",children:N.map(C=>i.jsxs(wn,{value:C.id,"data-testid":`option-book-${C.id}`,children:[C.title," - ",C.author]},C.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Oe,{htmlFor:"note-page-input",children:"Page"}),i.jsx(gt,{id:"note-page-input",type:"number",placeholder:"Page",value:u,onChange:C=>d(C.target.value),"data-testid":"input-note-page"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Oe,{className:"text-sm font-medium",children:"Type"}),i.jsx("div",{className:"flex gap-2 flex-wrap",role:"radiogroup","aria-label":"Note type",children:jp.map(C=>{const W=C.icon,z=f===C.id;return i.jsxs(q,{variant:z?"default":"outline",size:"sm",onClick:()=>h(C.id),className:`${z?C.color:""} gap-1`,"data-testid":`button-type-${C.id}`,role:"radio","aria-checked":z,"aria-label":`Select ${C.label} type`,children:[i.jsx(W,{className:"h-3 w-3"}),C.label]},C.id)})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ah,{id:"make-recall",checked:p,onCheckedChange:w,"data-testid":"switch-make-recall","aria-describedby":"recall-help"}),i.jsxs(Oe,{htmlFor:"make-recall",className:"flex items-center gap-2",children:[i.jsx(Pv,{className:"h-4 w-4"}),"Make Recall"]}),i.jsx("span",{id:"recall-help",className:"sr-only",children:"Turn this note into a spaced repetition flashcard for later review"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ah,{id:"add-tag",checked:y,onCheckedChange:b,"data-testid":"switch-add-tag","aria-describedby":"tag-help"}),i.jsx(Oe,{htmlFor:"add-tag",children:"Add Tag"}),i.jsx("span",{id:"tag-help",className:"sr-only",children:"Add tags to organize and filter this note"})]})]}),y&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(Oe,{htmlFor:"new-tag-input",className:"text-sm font-medium",children:"Add tags"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(gt,{id:"new-tag-input",placeholder:"Tag name",value:x,onChange:C=>g(C.target.value),onKeyPress:C=>C.key==="Enter"&&I(),"data-testid":"input-new-tag","aria-describedby":"tag-input-help"}),i.jsx(q,{onClick:I,size:"sm","data-testid":"button-add-tag",disabled:!x.trim(),children:"Add"})]}),i.jsx("div",{id:"tag-input-help",className:"text-xs text-muted-foreground",children:"Press Enter to add tag"}),v.length>0&&i.jsx("div",{className:"flex gap-1 flex-wrap","aria-label":"Current tags",children:v.map(C=>i.jsxs(Ee,{variant:"secondary",className:"cursor-pointer",onClick:()=>k(C),"data-testid":`chip-tag-${C}`,role:"button","aria-label":`Remove tag ${C}`,children:[C," ×"]},C))})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(q,{variant:"ghost",size:"sm","data-testid":"button-dictate","aria-label":"Dictate note",title:"Voice input (coming soon)",children:i.jsx(C$,{className:"h-4 w-4"})}),i.jsx(q,{variant:"ghost",size:"sm","data-testid":"button-camera","aria-label":"Camera OCR",title:"Camera OCR (coming soon)",children:i.jsx(h$,{className:"h-4 w-4"})}),i.jsx(q,{variant:"ghost",size:"sm","data-testid":"button-clipboard","aria-label":"Paste from clipboard",title:"Paste from clipboard",children:i.jsx(v$,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(q,{variant:"outline",onClick:()=>{o(""),S([]),g(""),w(!1),b(!1)},"data-testid":"button-cancel-note",disabled:E.isPending,children:"Cancel"}),i.jsx(q,{onClick:P,disabled:!a.trim()||!l||E.isPending,"data-testid":"button-save-note","aria-busy":E.isPending,children:E.isPending?"Saving...":"Save"})]})]})]})})}function Fi(e,t,n){let r=n.initialDeps??[],s;function a(){var o,l,c,u;let d;n.key&&((o=n.debug)!=null&&o.call(n))&&(d=Date.now());const f=e();if(!(f.length!==r.length||f.some((w,y)=>r[y]!==w)))return s;r=f;let p;if(n.key&&((l=n.debug)!=null&&l.call(n))&&(p=Date.now()),s=t(...f),n.key&&((c=n.debug)!=null&&c.call(n))){const w=Math.round((Date.now()-d)*100)/100,y=Math.round((Date.now()-p)*100)/100,b=y/16,x=(g,v)=>{for(g=String(g);g.length<v;)g=" "+g;return g};console.info(`%c⏱ ${x(y,5)} /${x(w,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*b,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(u=n==null?void 0:n.onChange)==null||u.call(n,s),s}return a.updateDeps=o=>{r=o},a}function iS(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const l7=(e,t)=>Math.abs(e-t)<1.01,c7=(e,t,n)=>{let r;return function(...s){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,s),n)}},oS=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},u7=e=>e,d7=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let s=t;s<=n;s++)r.push(s);return r},f7=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const s=o=>{const{width:l,height:c}=o;t({width:Math.round(l),height:Math.round(c)})};if(s(oS(n)),!r.ResizeObserver)return()=>{};const a=new r.ResizeObserver(o=>{const l=()=>{const c=o[0];if(c!=null&&c.borderBoxSize){const u=c.borderBoxSize[0];if(u){s({width:u.inlineSize,height:u.blockSize});return}}s(oS(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return a.observe(n,{box:"border-box"}),()=>{a.unobserve(n)}},lS={passive:!0},cS=typeof window>"u"?!0:"onscrollend"in window,h7=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let s=0;const a=e.options.useScrollendEvent&&cS?()=>{}:c7(r,()=>{t(s,!1)},e.options.isScrollingResetDelay),o=d=>()=>{const{horizontal:f,isRtl:h}=e.options;s=f?n.scrollLeft*(h&&-1||1):n.scrollTop,a(),t(s,d)},l=o(!0),c=o(!1);c(),n.addEventListener("scroll",l,lS);const u=e.options.useScrollendEvent&&cS;return u&&n.addEventListener("scrollend",c,lS),()=>{n.removeEventListener("scroll",l),u&&n.removeEventListener("scrollend",c)}},m7=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},p7=(e,{adjustments:t=0,behavior:n},r)=>{var s,a;const o=e+t;(a=(s=r.scrollElement)==null?void 0:s.scrollTo)==null||a.call(s,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class g7{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(s=>{s.forEach(a=>{const o=()=>{this._measureElement(a.target,a)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()})}));return{disconnect:()=>{var s;(s=r())==null||s.disconnect(),n=null},observe:s=>{var a;return(a=r())==null?void 0:a.observe(s,{box:"border-box"})},unobserve:s=>{var a;return(a=r())==null?void 0:a.unobserve(s)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,s])=>{typeof s>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:u7,rangeExtractor:d7,onChange:()=>{},measureElement:m7,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,s;(s=(r=this.options).onChange)==null||s.call(r,this,n)},this.maybeNotify=Fi(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(s=>{this.observer.observe(s)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,s=>{this.scrollRect=s,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(s,a)=>{this.scrollAdjustments=0,this.scrollDirection=a?this.getScrollOffset()<s?"forward":"backward":null,this.scrollOffset=s,this.isScrolling=a,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const s=new Map,a=new Map;for(let o=r-1;o>=0;o--){const l=n[o];if(s.has(l.lane))continue;const c=a.get(l.lane);if(c==null||l.end>c.end?a.set(l.lane,l):l.end<c.end&&s.set(l.lane,!0),s.size===this.options.lanes)break}return a.size===this.options.lanes?Array.from(a.values()).sort((o,l)=>o.end===l.end?o.index-l.index:o.end-l.end)[0]:void 0},this.getMeasurementOptions=Fi(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,s,a,o)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:s,getItemKey:a,enabled:o}),{key:!1}),this.getMeasurements=Fi(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:s,getItemKey:a,enabled:o},l)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let d=c;d<n;d++){const f=a(d),h=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),p=h?h.end+this.options.gap:r+s,w=l.get(f),y=typeof w=="number"?w:this.options.estimateSize(d),b=p+y,x=h?h.lane:d%this.options.lanes;u[d]={index:d,start:p,size:y,end:b,key:f,lane:x}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=Fi(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,s,a)=>this.range=n.length>0&&r>0?y7({measurements:n,outerSize:r,scrollOffset:s,lanes:a}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=Fi(()=>{let n=null,r=null;const s=this.calculateRange();return s&&(n=s.startIndex,r=s.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,s,a,o)=>a===null||o===null?[]:n({startIndex:a,endIndex:o,overscan:r,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,s=n.getAttribute(r);return s?parseInt(s,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const s=this.indexFromElement(n),a=this.measurementsCache[s];if(!a)return;const o=a.key,l=this.elementsCache.get(o);l!==n&&(l&&this.observer.unobserve(l),this.observer.observe(n),this.elementsCache.set(o,n)),n.isConnected&&this.resizeItem(s,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const s=this.measurementsCache[n];if(!s)return;const a=this.itemSizeCache.get(s.key)??s.size,o=r-a;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(s,o,this):s.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(s.index),this.itemSizeCache=new Map(this.itemSizeCache.set(s.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,s)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(s))});return}this._measureElement(n,void 0)},this.getVirtualItems=Fi(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const s=[];for(let a=0,o=n.length;a<o;a++){const l=n[a],c=r[l];s.push(c)}return s},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return iS(r[jI(0,r.length-1,s=>iS(r[s]).start,n)])},this.getOffsetForAlignment=(n,r,s=0)=>{const a=this.getSize(),o=this.getScrollOffset();r==="auto"&&(r=n>=o+a?"end":"start"),r==="center"?n+=(s-a)/2:r==="end"&&(n-=a);const l=this.getTotalSize()+this.options.scrollMargin-a;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const s=this.measurementsCache[n];if(!s)return;const a=this.getSize(),o=this.getScrollOffset();if(r==="auto")if(s.end>=o+a-this.options.scrollPaddingEnd)r="end";else if(s.start<=o+this.options.scrollPaddingStart)r="start";else return[o,r];const l=r==="end"?s.end+this.options.scrollPaddingEnd:s.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,r,s.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:s})},this.scrollToIndex=(n,{align:r="auto",behavior:s}={})=>{s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let a=0;const o=10,l=u=>{if(!this.targetWindow)return;const d=this.getOffsetForIndex(n,u);if(!d){console.warn("Failed to get offset for index:",n);return}const[f,h]=d;this._scrollToOffset(f,{adjustments:void 0,behavior:s}),this.targetWindow.requestAnimationFrame(()=>{const p=this.getScrollOffset(),w=this.getOffsetForIndex(n,h);if(!w){console.warn("Failed to get offset for index:",n);return}l7(w[0],p)||c(h)})},c=u=>{this.targetWindow&&(a++,a<o?this.targetWindow.requestAnimationFrame(()=>l(u)):console.warn(`Failed to scroll to index ${n} after ${o} attempts.`))};l(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let s;if(r.length===0)s=this.options.paddingStart;else if(this.options.lanes===1)s=((n=r[r.length-1])==null?void 0:n.end)??0;else{const a=Array(this.options.lanes).fill(null);let o=r.length-1;for(;o>=0&&a.some(l=>l===null);){const l=r[o];a[l.lane]===null&&(a[l.lane]=l.end),o--}s=Math.max(...a.filter(l=>l!==null))}return Math.max(s-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:s})=>{this.options.scrollToFn(n,{behavior:s,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const jI=(e,t,n,r)=>{for(;e<=t;){const s=(e+t)/2|0,a=n(s);if(a<r)e=s+1;else if(a>r)t=s-1;else return s}return e>0?e-1:0};function y7({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const s=e.length-1,a=c=>e[c].start;if(e.length<=r)return{startIndex:0,endIndex:s};let o=jI(0,s,a,n),l=o;if(r===1)for(;l<s&&e[l].end<n+t;)l++;else if(r>1){const c=Array(r).fill(0);for(;l<s&&c.some(d=>d<n+t);){const d=e[l];c[d.lane]=d.end,l++}const u=Array(r).fill(n+t);for(;o>=0&&u.some(d=>d>=n);){const d=e[o];u[d.lane]=d.start,o--}o=Math.max(0,o-o%r),l=Math.min(s,l+(r-1-l%r))}return{startIndex:o,endIndex:l}}const uS=typeof document<"u"?m.useLayoutEffect:m.useEffect;function v7(e){const t=m.useReducer(()=>({}),{})[1],n={...e,onChange:(s,a)=>{var o;a?Ca.flushSync(t):t(),(o=e.onChange)==null||o.call(e,s,a)}},[r]=m.useState(()=>new g7(n));return r.setOptions(n),uS(()=>r._didMount(),[]),uS(()=>r._willUpdate()),r}function x7(e){return v7({observeElementRect:f7,observeElementOffset:h7,scrollToFn:p7,...e})}const dS={note:{icon:Rv,color:"bg-blue-100 text-blue-700 border-blue-200",label:"Note"},quote:{icon:di,color:"bg-green-100 text-green-700 border-green-200",label:"Quote"},highlight:{icon:Av,color:"bg-yellow-100 text-yellow-700 border-yellow-200",label:"Highlight"},summary:{icon:su,color:"bg-purple-100 text-purple-700 border-purple-200",label:"Summary"},action:{icon:Ph,color:"bg-orange-100 text-orange-700 border-orange-200",label:"Action"}};function w7({notes:e,onEditNote:t,onDeleteNote:n,onMakeRecall:r}){const s=m.useRef(null),a=x7({count:e.length,getScrollElement:()=>s.current,estimateSize:()=>150,overscan:5}),o=a.getVirtualItems(),l=c=>{var f;const u=dS[c.noteType]||dS.note,d=u.icon;return i.jsx(ve,{className:"hover-elevate transition-all duration-200 group","data-testid":`note-card-${c.id}`,children:i.jsxs(we,{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[i.jsxs(Ee,{variant:"secondary",className:`${u.color} flex items-center gap-1 shrink-0`,"data-testid":`note-type-${c.id}`,children:[i.jsx(d,{className:"h-3 w-3"}),u.label]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground min-w-0",children:[i.jsx(Ft,{className:"h-3 w-3 shrink-0"}),i.jsx("span",{className:"truncate","data-testid":`note-book-${c.id}`,children:((f=c.book)==null?void 0:f.title)||"Unknown Book"}),c.page&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:"•"}),i.jsxs("span",{"data-testid":`note-page-${c.id}`,children:["p.",c.page]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx(q,{variant:"ghost",size:"sm",onClick:()=>t(c),"data-testid":`button-edit-${c.id}`,children:i.jsx(fi,{className:"h-3 w-3"})}),i.jsxs(jf,{children:[i.jsx(kf,{asChild:!0,children:i.jsx(q,{variant:"ghost",size:"sm","data-testid":`button-menu-${c.id}`,children:i.jsx(Lg,{className:"h-3 w-3"})})}),i.jsxs(Pc,{align:"end",children:[i.jsxs(Fn,{onClick:()=>t(c),children:[i.jsx(fi,{className:"h-4 w-4 mr-2"}),"Edit"]}),i.jsxs(Fn,{onClick:()=>r(c.id),children:[i.jsx(Pv,{className:"h-4 w-4 mr-2"}),"Make Recall"]}),i.jsx(Fn,{onClick:()=>n(c.id),className:"text-destructive focus:text-destructive",children:"Delete"})]})]})]})]}),i.jsx("div",{className:"mb-3",children:i.jsx("p",{className:"text-sm leading-relaxed line-clamp-3","data-testid":`note-content-${c.id}`,children:c.content})}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx(_i,{className:"h-3 w-3"}),i.jsx("span",{"data-testid":`note-timestamp-${c.id}`,children:wI(new Date(c.createdAt),{addSuffix:!0})})]}),c.tags&&c.tags.length>0&&i.jsxs("div",{className:"flex gap-1 flex-wrap","data-testid":`note-tags-${c.id}`,children:[c.tags.slice(0,3).map((h,p)=>i.jsx(Ee,{variant:"outline",className:"text-xs px-1 py-0","data-testid":`note-tag-${h}-${c.id}`,children:h},p)),c.tags.length>3&&i.jsxs(Ee,{variant:"outline",className:"text-xs px-1 py-0",children:["+",c.tags.length-3]})]})]})]})})};return e.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx(di,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No notes found"}),i.jsx("p",{className:"text-muted-foreground max-w-md",children:"Start capturing your thoughts and insights while reading. Use the quick capture above to add your first note."})]}):i.jsx("div",{ref:s,className:"flex-1 overflow-auto",style:{height:"100%"},"data-testid":"notes-list-container",children:i.jsx("div",{style:{height:a.getTotalSize(),width:"100%",position:"relative"},children:o.map(c=>{const u=e[c.index];return i.jsx("div",{"data-index":c.index,ref:a.measureElement,style:{position:"absolute",top:0,left:0,width:"100%",transform:`translateY(${c.start}px)`},className:"px-4 pb-4",children:l(u)},c.key)})})})}const kp=[{id:"note",label:"Note",icon:Rv,color:"bg-blue-100 text-blue-700"},{id:"quote",label:"Quote",icon:di,color:"bg-green-100 text-green-700"},{id:"highlight",label:"Highlight",icon:Av,color:"bg-yellow-100 text-yellow-700"},{id:"summary",label:"Summary",icon:su,color:"bg-purple-100 text-purple-700"},{id:"action",label:"Action",icon:Ph,color:"bg-orange-100 text-orange-700"}],b7=[{from:"quote",to:"summary",label:"Quote → Summary"},{from:"note",to:"action",label:"Note → Action"},{from:"highlight",to:"note",label:"Highlight → Note"},{from:"summary",to:"note",label:"Summary → Note"},{from:"action",to:"note",label:"Action → Note"}];function S7({note:e,isOpen:t,onOpenChange:n,onUpdated:r,onDeleted:s}){const a=es(),[o,l]=m.useState(""),[c,u]=m.useState(""),[d,f]=m.useState(""),[h,p]=m.useState("note"),[w,y]=m.useState(!1),[b,x]=m.useState(""),[g,v]=m.useState([]),{data:S=[]}=En({queryKey:["/api/books"],queryFn:async()=>{const C=await fetch("/api/books");if(!C.ok)throw new Error("Failed to fetch books");return(await C.json()).map(z=>({...z,addedAt:new Date(z.addedAt),lastReadAt:z.lastReadAt?new Date(z.lastReadAt):null,startedAt:z.startedAt?new Date(z.startedAt):null,completedAt:z.completedAt?new Date(z.completedAt):null}))},enabled:t});m.useEffect(()=>{var C;e&&(l(e.content||""),u(e.bookId),f(((C=e.page)==null?void 0:C.toString())||""),p(e.noteType),v(e.tags||[]),y(!1),x(""))},[e]);const _=St({mutationFn:async C=>{if(!e)throw new Error("No note to update");const W=await fetch(`/api/notes/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(!W.ok)throw new Error("Failed to update note");return await W.json()},onSuccess:C=>{a.invalidateQueries({queryKey:["/api/notes"]}),r==null||r(C),n(!1)},onError:C=>{console.error("Failed to update note:",C)}}),j=St({mutationFn:async()=>{if(!e)throw new Error("No note to delete");const C=await fetch(`/api/notes/${e.id}`,{method:"DELETE"});if(!C.ok)throw new Error("Failed to delete note");return C},onSuccess:()=>{a.invalidateQueries({queryKey:["/api/notes"]}),s==null||s(e.id),n(!1)},onError:C=>{console.error("Failed to delete note:",C)}}),N=()=>{if(!o.trim()||!c)return;const C={content:o.trim(),bookId:c,page:d?parseInt(d):void 0,noteType:h,tags:g};_.mutate(C)},E=()=>{window.confirm("Are you sure you want to delete this note?")&&j.mutate()},P=()=>{b.trim()&&!g.includes(b.trim())&&(v([...g,b.trim()]),x(""))},I=C=>{v(g.filter(W=>W!==C))},k=C=>{p(C)},R=()=>{if(e){const C=`app://note/${e.id}`;navigator.clipboard.writeText(C)}};kp.find(C=>C.id===h)||kp[0];const $=b7.filter(C=>C.from===h);return S.find(C=>C.id===c),e?i.jsx(Kh,{open:t,onOpenChange:n,children:i.jsxs(cu,{className:"w-full sm:max-w-lg overflow-y-auto","data-testid":"sheet-edit-note",children:[i.jsxs(uu,{children:[i.jsx(du,{children:"Edit Note"}),i.jsx(Gh,{children:"Make changes to your note. All fields are optional except content."})]}),i.jsxs("div",{className:"py-6 space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Oe,{htmlFor:"content",children:"Content"}),i.jsx(gu,{id:"content",placeholder:"Write your note content...",value:o,onChange:C=>l(C.target.value),className:"min-h-[120px] resize-none","data-testid":"textarea-edit-content"}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[o.length," characters"]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("div",{className:"col-span-2 space-y-2",children:[i.jsx(Oe,{children:"Book"}),i.jsxs(la,{value:c,onValueChange:u,children:[i.jsx(vs,{"data-testid":"select-edit-book",children:i.jsx(ca,{placeholder:"Select book"})}),i.jsx(xs,{children:S.map(C=>i.jsxs(wn,{value:C.id,children:[C.title," - ",C.author]},C.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Oe,{children:"Page"}),i.jsx(gt,{type:"number",placeholder:"Page",value:d,onChange:C=>f(C.target.value),"data-testid":"input-edit-page"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Oe,{children:"Type"}),i.jsx("div",{className:"flex gap-2 flex-wrap",children:kp.map(C=>{const W=C.icon,z=h===C.id;return i.jsxs(q,{variant:z?"default":"outline",size:"sm",onClick:()=>p(C.id),className:`${z?C.color:""} gap-1`,"data-testid":`button-edit-type-${C.id}`,children:[i.jsx(W,{className:"h-3 w-3"}),C.label]},C.id)})})]}),$.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(Oe,{children:"Convert to..."}),i.jsx("div",{className:"flex gap-2 flex-wrap",children:$.map(C=>i.jsxs(q,{variant:"outline",size:"sm",onClick:()=>k(C.to),className:"gap-1","data-testid":`button-convert-${C.to}`,children:[i.jsx(u$,{className:"h-3 w-3"}),C.label]},C.to))})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Oe,{children:"Tags"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(gt,{placeholder:"Add tag",value:b,onChange:C=>x(C.target.value),onKeyPress:C=>C.key==="Enter"&&P(),"data-testid":"input-edit-tag"}),i.jsx(q,{onClick:P,size:"sm","data-testid":"button-edit-add-tag",children:"Add"})]}),g.length>0&&i.jsx("div",{className:"flex gap-1 flex-wrap",children:g.map(C=>i.jsxs(Ee,{variant:"secondary",className:"cursor-pointer",onClick:()=>I(C),"data-testid":`edit-tag-${C}`,children:[C," ×"]},C))})]}),i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ah,{id:"make-recall-edit",checked:w,onCheckedChange:y,"data-testid":"switch-edit-recall"}),i.jsxs(Oe,{htmlFor:"make-recall-edit",className:"flex items-center gap-2",children:[i.jsx(Pv,{className:"h-4 w-4"}),"Make Recall"]})]})}),i.jsx("div",{className:"space-y-2 pt-4 border-t",children:i.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(_i,{className:"h-4 w-4"}),i.jsxs("span",{children:["Created ",wI(new Date(e.createdAt),{addSuffix:!0})]})]}),i.jsxs(q,{variant:"ghost",size:"sm",onClick:R,"data-testid":"button-copy-link",children:[i.jsx(_$,{className:"h-4 w-4 mr-1"}),"Copy Link"]})]})})]}),i.jsxs($P,{className:"gap-2",children:[i.jsx(q,{variant:"destructive",onClick:E,disabled:j.isPending,"data-testid":"button-delete-note",children:j.isPending?"Deleting...":"Delete"}),i.jsx(q,{variant:"outline",onClick:()=>n(!1),"data-testid":"button-cancel-edit",children:"Cancel"}),i.jsx(q,{onClick:N,disabled:!o.trim()||!c||_.isPending,"data-testid":"button-save-edit",children:_.isPending?"Saving...":"Save Changes"})]})]})}):null}const _7={books:[],types:[],tags:[],hasImage:null,dateRange:null};function N7(){const[e,t]=m.useState(""),[n,r]=m.useState(_7);m.useState(!1);const[s,a]=m.useState(null),[o,l]=m.useState(!1),[c,u]=m.useState(!1),{data:d=[],isLoading:f}=En({queryKey:["/api/notes"],queryFn:async()=>{const N=await fetch("/api/notes");if(!N.ok)throw new Error("Failed to fetch notes");return(await N.json()).map(P=>({...P,createdAt:new Date(P.createdAt)}))}}),{data:h=[]}=En({queryKey:["/api/books"],queryFn:async()=>{const N=await fetch("/api/books");if(!N.ok)throw new Error("Failed to fetch books");return(await N.json()).map(P=>({...P,addedAt:new Date(P.addedAt),lastReadAt:P.lastReadAt?new Date(P.lastReadAt):null,startedAt:P.startedAt?new Date(P.startedAt):null,completedAt:P.completedAt?new Date(P.completedAt):null}))}}),p=m.useMemo(()=>d.map(N=>({...N,book:h.find(E=>E.id===N.bookId)})),[d,h]),w=m.useMemo(()=>{const N=new Map;return d.forEach(E=>{var P;(P=E.tags)==null||P.forEach(I=>{N.set(I,(N.get(I)||0)+1)})}),Array.from(N.entries()).sort((E,P)=>P[1]-E[1]).map(([E])=>E)},[d]),y=m.useMemo(()=>{let N=p;if(e.trim()){const E=e.toLowerCase();N=N.filter(P=>{var C,W,z,ee;const I=P.content.toLowerCase().includes(E),k=((C=P.book)==null?void 0:C.title.toLowerCase().includes(E))||((W=P.book)==null?void 0:W.author.toLowerCase().includes(E)),R=(z=P.tags)==null?void 0:z.some(M=>M.toLowerCase().includes(E)),$=(ee=P.page)==null?void 0:ee.toString().includes(E);return I||k||R||$})}if(n.books.length>0&&(N=N.filter(E=>n.books.includes(E.bookId))),n.types.length>0&&(N=N.filter(E=>n.types.includes(E.noteType))),n.tags.length>0&&(N=N.filter(E=>{var P;return(P=E.tags)==null?void 0:P.some(I=>n.tags.includes(I))})),n.hasImage!==null&&(N=N.filter(E=>n.hasImage?!!E.sourceImage:!E.sourceImage)),n.dateRange){const E=new Date,P=new Date(E.getFullYear(),E.getMonth(),E.getDate());switch(n.dateRange){case"today":N=N.filter(R=>R.createdAt>=P);break;case"7d":const I=new Date(E.getTime()-7*24*60*60*1e3);N=N.filter(R=>R.createdAt>=I);break;case"30d":const k=new Date(E.getTime()-30*24*60*60*1e3);N=N.filter(R=>R.createdAt>=k);break}}return N.sort((E,P)=>P.createdAt.getTime()-E.createdAt.getTime())},[p,e,n]),b=()=>{u(!0)},x=N=>{a(N),l(!0)},g=N=>{window.confirm("Are you sure you want to delete this note?")&&console.log("Delete note:",N)},v=N=>{console.log("Make recall for note:",N)},S=()=>{u(!1)},_=()=>{l(!1),a(null)},j=()=>{l(!1),a(null)};return i.jsxs("div",{className:"flex flex-col h-screen","data-testid":"page-notes",children:[i.jsx(n7,{searchTerm:e,onSearchChange:t,filters:n,onFiltersChange:r,onQuickCaptureOpen:b,availableBooks:h,availableTags:w,noteCount:y.length}),i.jsx("div",{className:"px-4",children:i.jsx(aS,{isCollapsed:!0,onCapture:S})}),i.jsx("div",{className:"flex-1 overflow-hidden",children:f?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("div",{className:"text-muted-foreground",children:"Loading notes..."})}):i.jsx(w7,{notes:y,onEditNote:x,onDeleteNote:g,onMakeRecall:v})}),i.jsx(Kh,{open:c,onOpenChange:u,children:i.jsxs(cu,{side:"bottom",className:"h-[80vh]","data-testid":"sheet-quick-capture",children:[i.jsxs(uu,{children:[i.jsx(du,{children:"Quick Capture"}),i.jsx(Gh,{children:"Add a note in ≤3 taps with automatic book and page linking"})]}),i.jsx("div",{className:"py-4",children:i.jsx(aS,{isCollapsed:!1,onCapture:S})})]})}),i.jsx(S7,{note:s,isOpen:o,onOpenChange:l,onUpdated:_,onDeleted:j})]})}function C7({books:e}){const[t,n]=m.useState(!1),[r,s]=m.useState(null),{toast:a}=ja(),o=es(),{data:l=[]}=En({queryKey:["/api/reading-goals"],queryFn:async()=>{const v=await fetch("/api/reading-goals");if(!v.ok)throw new Error("Failed to fetch reading goals");return v.json()}}),c=St({mutationFn:async v=>(await er("POST","/api/reading-goals",v)).json(),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/reading-goals"]}),n(!1),s(null),a({title:"Reading goal created successfully"})}}),u=St({mutationFn:async({id:v,updates:S})=>(await er("PATCH",`/api/reading-goals/${v}`,S)).json(),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/reading-goals"]}),n(!1),s(null),a({title:"Reading goal updated successfully"})}}),d=St({mutationFn:async v=>{await er("DELETE",`/api/reading-goals/${v}`)},onSuccess:()=>{o.invalidateQueries({queryKey:["/api/reading-goals"]}),a({title:"Reading goal deleted successfully"})}}),[f,h]=m.useState({title:"",description:"",type:"books",target:12,period:"yearly",startDate:new Date().toISOString().split("T")[0],endDate:new Date(new Date().getFullYear()+1,0,1).toISOString().split("T")[0],isActive:!0}),p=()=>{h({title:"",description:"",type:"books",target:12,period:"yearly",startDate:new Date().toISOString().split("T")[0],endDate:new Date(new Date().getFullYear()+1,0,1).toISOString().split("T")[0],isActive:!0})},w=async()=>{if(!f.title||f.target<=0){a({title:"Please fill in all required fields",variant:"destructive"});return}if(!f.startDate||!f.endDate){a({title:"Please select valid start and end dates",variant:"destructive"});return}try{r?await u.mutateAsync({id:r.id,updates:f}):await c.mutateAsync(f)}catch(v){console.error("Error saving goal:",v),a({title:"Failed to save reading goal",description:"Please try again",variant:"destructive"})}},y=v=>{s(v),h({title:v.title,description:v.description||"",type:v.type,target:v.target,period:v.period,startDate:v.startDate,endDate:v.endDate,isActive:v.isActive}),n(!0)},b=v=>{const S=new Date,_=new Date(v.startDate),j=new Date(v.endDate);if(S<_||S>j)return{current:0,percentage:0,isOverdue:S>j};let N=0;switch(v.type){case"books":N=e.filter(P=>P.status==="finished"&&P.completedAt&&new Date(P.completedAt)>=_&&new Date(P.completedAt)<=j).length;break;case"pages":N=e.filter(P=>P.completedAt&&new Date(P.completedAt)>=_&&new Date(P.completedAt)<=j).reduce((P,I)=>P+(I.totalPages||0),0);break;case"minutes":N=0;break}const E=Math.min(N/v.target*100,100);return{current:N,percentage:E,isOverdue:!1}},x=v=>{switch(v){case"books":return"Books";case"pages":return"Pages";case"minutes":return"Minutes";default:return v}},g=v=>{switch(v){case"daily":return"Daily";case"weekly":return"Weekly";case"monthly":return"Monthly";case"yearly":return"Yearly";default:return v}};return i.jsxs("div",{className:"space-y-6","data-testid":"reading-goals",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-serif font-semibold",children:"Reading Goals"}),i.jsx("p",{className:"text-muted-foreground",children:"Track your reading progress and stay motivated"})]}),i.jsxs(yu,{open:t,onOpenChange:v=>{n(v),v||(s(null),p())},children:[i.jsx(rm,{asChild:!0,children:i.jsxs(q,{"data-testid":"button-create-goal",children:[i.jsx(ir,{className:"h-4 w-4 mr-2"}),"New Goal"]})}),i.jsxs(sl,{"data-testid":"dialog-goal-form",children:[i.jsx(al,{children:i.jsx(il,{children:r?"Edit Reading Goal":"Create Reading Goal"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Oe,{htmlFor:"goal-title",children:"Goal Title *"}),i.jsx(gt,{id:"goal-title",placeholder:"e.g., Read 12 books this year",value:f.title,onChange:v=>h(S=>({...S,title:v.target.value})),"data-testid":"input-goal-title"})]}),i.jsxs("div",{children:[i.jsx(Oe,{htmlFor:"goal-description",children:"Description"}),i.jsx(gu,{id:"goal-description",placeholder:"Optional description for your goal",value:f.description,onChange:v=>h(S=>({...S,description:v.target.value})),"data-testid":"textarea-goal-description"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Oe,{children:"Goal Type"}),i.jsxs(la,{value:f.type,onValueChange:v=>h(S=>({...S,type:v})),children:[i.jsx(vs,{"data-testid":"select-goal-type",children:i.jsx(ca,{})}),i.jsxs(xs,{children:[i.jsx(wn,{value:"books",children:"Books"}),i.jsx(wn,{value:"pages",children:"Pages"}),i.jsx(wn,{value:"minutes",children:"Minutes"})]})]})]}),i.jsxs("div",{children:[i.jsx(Oe,{htmlFor:"goal-target",children:"Target *"}),i.jsx(gt,{id:"goal-target",type:"number",min:"1",value:f.target,onChange:v=>h(S=>({...S,target:parseInt(v.target.value)||0})),"data-testid":"input-goal-target"})]})]}),i.jsxs("div",{children:[i.jsx(Oe,{children:"Time Period"}),i.jsxs(la,{value:f.period,onValueChange:v=>h(S=>({...S,period:v})),children:[i.jsx(vs,{"data-testid":"select-goal-period",children:i.jsx(ca,{})}),i.jsxs(xs,{children:[i.jsx(wn,{value:"daily",children:"Daily"}),i.jsx(wn,{value:"weekly",children:"Weekly"}),i.jsx(wn,{value:"monthly",children:"Monthly"}),i.jsx(wn,{value:"yearly",children:"Yearly"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Oe,{htmlFor:"start-date",children:"Start Date"}),i.jsx(gt,{id:"start-date",type:"date",value:f.startDate,onChange:v=>h(S=>({...S,startDate:v.target.value})),"data-testid":"input-start-date"})]}),i.jsxs("div",{children:[i.jsx(Oe,{htmlFor:"end-date",children:"End Date"}),i.jsx(gt,{id:"end-date",type:"date",value:f.endDate,onChange:v=>h(S=>({...S,endDate:v.target.value})),"data-testid":"input-end-date"})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(q,{variant:"outline",onClick:()=>n(!1),"data-testid":"button-cancel-goal",children:"Cancel"}),i.jsx(q,{onClick:w,disabled:c.isPending||u.isPending,"data-testid":"button-save-goal",children:c.isPending||u.isPending?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin mr-2 h-4 w-4 border-2 border-current border-t-transparent rounded-full"}),"Saving..."]}):r?"Update Goal":"Create Goal"})]})]})]})]})]}),l.length===0?i.jsx(ve,{children:i.jsxs(we,{className:"flex flex-col items-center justify-center py-8 text-center",children:[i.jsx(yf,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Reading Goals Yet"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Set reading goals to track your progress and stay motivated"}),i.jsxs(q,{onClick:()=>n(!0),children:[i.jsx(ir,{className:"h-4 w-4 mr-2"}),"Create Your First Goal"]})]})}):i.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:l.map(v=>{const S=b(v),_=S.percentage>=100;return i.jsxs(ve,{className:`hover-elevate ${v.isActive?"":"opacity-60"}`,children:[i.jsxs(et,{className:"pb-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(tt,{className:"text-base",children:v.title}),i.jsxs("div",{className:"flex items-center gap-1",children:[_&&i.jsx(hf,{className:"h-4 w-4 text-yellow-500"}),i.jsx(q,{variant:"ghost",size:"sm",onClick:()=>y(v),"data-testid":`button-edit-goal-${v.id}`,children:i.jsx(fi,{className:"h-3 w-3"})}),i.jsx(q,{variant:"ghost",size:"sm",onClick:()=>d.mutate(v.id),"data-testid":`button-delete-goal-${v.id}`,children:i.jsx(zo,{className:"h-3 w-3"})})]})]}),v.description&&i.jsx("p",{className:"text-sm text-muted-foreground",children:v.description})]}),i.jsxs(we,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsxs("span",{children:[S.current," / ",v.target," ",x(v.type)]}),i.jsxs("span",{className:_?"text-green-600 font-medium":"",children:[Math.round(S.percentage),"%"]})]}),i.jsx(ga,{value:S.percentage,className:"h-2"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs(Ee,{variant:"outline",children:[i.jsx(_i,{className:"h-3 w-3 mr-1"}),g(v.period)]}),i.jsxs(Ee,{variant:"outline",children:[i.jsx(yf,{className:"h-3 w-3 mr-1"}),x(v.type)]}),_&&i.jsxs(Ee,{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:[i.jsx(hf,{className:"h-3 w-3 mr-1"}),"Completed"]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:[new Date(v.startDate).toLocaleDateString()," - ",new Date(v.endDate).toLocaleDateString()]})]})]},v.id)})})]})}function j7(){const{data:e=[],isLoading:t}=En({queryKey:["/api/books"],queryFn:async()=>{const n=await fetch("/api/books");if(!n.ok)throw new Error("Failed to fetch books");return n.json()}});return t?i.jsx("div",{className:"flex items-center justify-center min-h-64",children:i.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-primary border-t-transparent rounded-full"})}):i.jsx("div",{className:"container mx-auto px-4 py-6",children:i.jsx(C7,{books:e})})}function k7(){return i.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:i.jsx(ve,{className:"w-full max-w-md mx-4",children:i.jsxs(we,{className:"pt-6",children:[i.jsxs("div",{className:"flex mb-4 gap-2",children:[i.jsx(xE,{className:"h-8 w-8 text-red-500"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),i.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function E7(){return i.jsxs(I4,{children:[i.jsx(Ei,{path:"/",component:lH}),i.jsx(Ei,{path:"/reading",component:SH}),i.jsx(Ei,{path:"/stats",component:t7}),i.jsx(Ei,{path:"/notes",component:N7}),i.jsx(Ei,{path:"/goals",component:j7}),i.jsx(Ei,{component:k7})]})}function P7(){const e={"--sidebar-width":"16rem","--sidebar-width-icon":"4rem"};return i.jsx(tL,{client:Hk,children:i.jsxs(aP,{children:[i.jsx(c5,{style:e,children:i.jsxs("div",{className:"flex h-screen w-full",children:[i.jsx(b5,{}),i.jsxs("div",{className:"flex flex-col flex-1",children:[i.jsxs("header",{className:"flex items-center justify-between p-4 border-b bg-background","data-testid":"header-main",children:[i.jsx(d5,{"data-testid":"button-sidebar-toggle"}),i.jsx(S5,{})]}),i.jsx("main",{className:"flex-1 overflow-auto p-6","data-testid":"main-content",children:i.jsx(E7,{})})]})]})}),i.jsx(v3,{})]})})}vk(document.getElementById("root")).render(i.jsx(P7,{}));
